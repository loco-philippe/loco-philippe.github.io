<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 14.4.0"/>
    <title>ntv-pandas.ntv_pandas API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>
            <img src="https://loco-philippe.github.io/ES/logo_loco.png" class="logo" alt="project logo"/>

            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>


            <h2>Submodules</h2>
            <ul>
                    <li><a href="ntv_pandas/pandas_accessors.html">pandas_accessors</a></li>
            </ul>

            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="class" href="#DataFrameConnec">DataFrameConnec</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#DataFrameConnec.clas_obj">clas_obj</a>
                        </li>
                        <li>
                                <a class="variable" href="#DataFrameConnec.clas_typ">clas_typ</a>
                        </li>
                        <li>
                                <a class="function" href="#DataFrameConnec.to_obj_ntv">to_obj_ntv</a>
                        </li>
                        <li>
                                <a class="function" href="#DataFrameConnec.to_json_ntv">to_json_ntv</a>
                        </li>
                        <li>
                                <a class="function" href="#DataFrameConnec.to_listidx">to_listidx</a>
                        </li>
                        <li>
                                <a class="function" href="#DataFrameConnec.equals">equals</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#SeriesConnec">SeriesConnec</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#SeriesConnec.clas_obj">clas_obj</a>
                        </li>
                        <li>
                                <a class="variable" href="#SeriesConnec.clas_typ">clas_typ</a>
                        </li>
                        <li>
                                <a class="variable" href="#SeriesConnec.config">config</a>
                        </li>
                        <li>
                                <a class="variable" href="#SeriesConnec.types">types</a>
                        </li>
                        <li>
                                <a class="variable" href="#SeriesConnec.astype">astype</a>
                        </li>
                        <li>
                                <a class="variable" href="#SeriesConnec.deftype">deftype</a>
                        </li>
                        <li>
                                <a class="variable" href="#SeriesConnec.table">table</a>
                        </li>
                        <li>
                                <a class="variable" href="#SeriesConnec.typtab">typtab</a>
                        </li>
                        <li>
                                <a class="function" href="#SeriesConnec.to_obj_ntv">to_obj_ntv</a>
                        </li>
                        <li>
                                <a class="function" href="#SeriesConnec.to_json_ntv">to_json_ntv</a>
                        </li>
                        <li>
                                <a class="function" href="#SeriesConnec.to_idx">to_idx</a>
                        </li>
                        <li>
                                <a class="function" href="#SeriesConnec.to_series">to_series</a>
                        </li>
                        <li>
                                <a class="function" href="#SeriesConnec.equals">equals</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="function" href="#read_json">read_json</a>
            </li>
            <li>
                    <a class="function" href="#to_json">to_json</a>
            </li>
            <li>
                    <a class="function" href="#as_def_type">as_def_type</a>
            </li>
            <li>
                    <a class="function" href="#equals">equals</a>
            </li>
            <li>
                    <a class="function" href="#to_analysis">to_analysis</a>
            </li>
            <li>
                    <a class="function" href="#from_xarray">from_xarray</a>
            </li>
            <li>
                    <a class="function" href="#from_scipp">from_scipp</a>
            </li>
    </ul>


            <footer>ntv_pandas v2.0.1</footer>

        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
ntv-pandas<wbr>.ntv_pandas    </h1>

                        <div class="docstring"><p><strong><em>NTV-pandas Package</em></strong></p>

<p>Created on Sept 2023</p>

<p>@author: philippe@loco-labs.io</p>

<p>This package contains the following classes and functions:</p>

<ul>
<li><p><code>ntv-pandas.ntv_pandas.pandas_ntv_connector</code> :</p>

<ul>
<li><code>ntv-pandas.ntv_pandas.pandas_ntv_connector.DataFrameConnec</code></li>
<li><code>ntv-pandas.ntv_pandas.pandas_ntv_connector.SeriesConnec</code></li>
<li><code>ntv-pandas.ntv_pandas.pandas_ntv_connector.PdUtil</code></li>
<li><code>ntv-pandas.ntv_pandas.pandas_ntv_connector.to_json</code></li>
<li><code>ntv-pandas.ntv_pandas.pandas_ntv_connector.read_json</code></li>
<li><code>ntv-pandas.ntv_pandas.pandas_ntv_connector.analysis</code></li>
<li><code>ntv-pandas.ntv_pandas.pandas_ntv_connector.as_def_type</code></li>
<li><code>ntv-pandas.ntv_pandas.pandas_ntv_connector.equals</code></li>
</ul></li>
<li><p><code>ntv-pandas.ntv_pandas.accessors</code> :</p>

<ul>
<li><code>ntv-pandas.ntv_pandas.accessors.NpdSeriesAccessor</code></li>
<li><code>ntv-pandas.ntv_pandas.accessors.NpdDataFrameAccessor</code></li>
</ul></li>
</ul>
</div>

                        <input id="mod-ntv_pandas-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-ntv_pandas-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos"> 1</span></a><span class="c1"># -*- coding: utf-8 -*-</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos"> 2</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos"> 3</span></a><span class="sd">***NTV-pandas Package***</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos"> 4</span></a>
</span><span id="L-5"><a href="#L-5"><span class="linenos"> 5</span></a><span class="sd">Created on Sept 2023</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos"> 6</span></a>
</span><span id="L-7"><a href="#L-7"><span class="linenos"> 7</span></a><span class="sd">@author: philippe@loco-labs.io</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos"> 8</span></a>
</span><span id="L-9"><a href="#L-9"><span class="linenos"> 9</span></a><span class="sd">This package contains the following classes and functions:</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">10</span></a>
</span><span id="L-11"><a href="#L-11"><span class="linenos">11</span></a><span class="sd">- `ntv-pandas.ntv_pandas.pandas_ntv_connector` :</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos">12</span></a>
</span><span id="L-13"><a href="#L-13"><span class="linenos">13</span></a><span class="sd">    - `ntv-pandas.ntv_pandas.pandas_ntv_connector.DataFrameConnec`</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos">14</span></a><span class="sd">    - `ntv-pandas.ntv_pandas.pandas_ntv_connector.SeriesConnec`</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos">15</span></a><span class="sd">    - `ntv-pandas.ntv_pandas.pandas_ntv_connector.PdUtil`</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos">16</span></a><span class="sd">    - `ntv-pandas.ntv_pandas.pandas_ntv_connector.to_json`</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos">17</span></a><span class="sd">    - `ntv-pandas.ntv_pandas.pandas_ntv_connector.read_json`</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos">18</span></a><span class="sd">    - `ntv-pandas.ntv_pandas.pandas_ntv_connector.analysis`</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos">19</span></a><span class="sd">    - `ntv-pandas.ntv_pandas.pandas_ntv_connector.as_def_type`</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos">20</span></a><span class="sd">    - `ntv-pandas.ntv_pandas.pandas_ntv_connector.equals`</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos">21</span></a>
</span><span id="L-22"><a href="#L-22"><span class="linenos">22</span></a><span class="sd">- `ntv-pandas.ntv_pandas.accessors` :</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos">23</span></a>
</span><span id="L-24"><a href="#L-24"><span class="linenos">24</span></a><span class="sd">    - `ntv-pandas.ntv_pandas.accessors.NpdSeriesAccessor`</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos">25</span></a><span class="sd">    - `ntv-pandas.ntv_pandas.accessors.NpdDataFrameAccessor`</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos">26</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos">27</span></a>
</span><span id="L-28"><a href="#L-28"><span class="linenos">28</span></a><span class="kn">from</span> <span class="nn">ntv_pandas.pandas_ntv_connector</span> <span class="kn">import</span> <span class="n">DataFrameConnec</span><span class="p">,</span> <span class="n">SeriesConnec</span><span class="p">,</span> <span class="n">read_json</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos">29</span></a><span class="kn">from</span> <span class="nn">ntv_pandas.pandas_ntv_connector</span> <span class="kn">import</span> <span class="n">to_json</span><span class="p">,</span> <span class="n">as_def_type</span><span class="p">,</span> <span class="n">equals</span><span class="p">,</span> <span class="n">to_analysis</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos">30</span></a><span class="kn">from</span> <span class="nn">ntv_pandas.pandas_ntv_connector</span> <span class="kn">import</span> <span class="n">from_xarray</span><span class="p">,</span> <span class="n">from_scipp</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos">31</span></a><span class="kn">import</span> <span class="nn">ntv_pandas.pandas_accessors</span> <span class="k">as</span> <span class="nn">pandas_accessors</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos">32</span></a>
</span><span id="L-33"><a href="#L-33"><span class="linenos">33</span></a><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos">34</span></a>    <span class="s2">&quot;DataFrameConnec&quot;</span><span class="p">,</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos">35</span></a>    <span class="s2">&quot;SeriesConnec&quot;</span><span class="p">,</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos">36</span></a>    <span class="s2">&quot;read_json&quot;</span><span class="p">,</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos">37</span></a>    <span class="s2">&quot;to_json&quot;</span><span class="p">,</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos">38</span></a>    <span class="s2">&quot;as_def_type&quot;</span><span class="p">,</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos">39</span></a>    <span class="s2">&quot;equals&quot;</span><span class="p">,</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos">40</span></a>    <span class="s2">&quot;to_analysis&quot;</span><span class="p">,</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos">41</span></a>    <span class="s2">&quot;from_xarray&quot;</span><span class="p">,</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos">42</span></a>    <span class="s2">&quot;from_scipp&quot;</span><span class="p">,</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos">43</span></a>    <span class="s2">&quot;pandas_accessors&quot;</span><span class="p">,</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos">44</span></a><span class="p">]</span>
</span></pre></div>


            </section>
                <section id="DataFrameConnec">
                            <input id="DataFrameConnec-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">DataFrameConnec</span><wbr>(<span class="base">json_ntv.ntv_util.NtvConnector</span>):

                <label class="view-source-button" for="DataFrameConnec-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DataFrameConnec"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DataFrameConnec-239"><a href="#DataFrameConnec-239"><span class="linenos">239</span></a><span class="k">class</span> <span class="nc">DataFrameConnec</span><span class="p">(</span><span class="n">NtvConnector</span><span class="p">):</span>
</span><span id="DataFrameConnec-240"><a href="#DataFrameConnec-240"><span class="linenos">240</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;NTV connector for pandas DataFrame.</span>
</span><span id="DataFrameConnec-241"><a href="#DataFrameConnec-241"><span class="linenos">241</span></a>
</span><span id="DataFrameConnec-242"><a href="#DataFrameConnec-242"><span class="linenos">242</span></a><span class="sd">    One static methods is included:</span>
</span><span id="DataFrameConnec-243"><a href="#DataFrameConnec-243"><span class="linenos">243</span></a>
</span><span id="DataFrameConnec-244"><a href="#DataFrameConnec-244"><span class="linenos">244</span></a><span class="sd">    - to_listidx: convert a DataFrame in categorical data</span>
</span><span id="DataFrameConnec-245"><a href="#DataFrameConnec-245"><span class="linenos">245</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="DataFrameConnec-246"><a href="#DataFrameConnec-246"><span class="linenos">246</span></a>
</span><span id="DataFrameConnec-247"><a href="#DataFrameConnec-247"><span class="linenos">247</span></a>    <span class="n">clas_obj</span> <span class="o">=</span> <span class="s2">&quot;DataFrame&quot;</span>
</span><span id="DataFrameConnec-248"><a href="#DataFrameConnec-248"><span class="linenos">248</span></a>    <span class="n">clas_typ</span> <span class="o">=</span> <span class="s2">&quot;tab&quot;</span>
</span><span id="DataFrameConnec-249"><a href="#DataFrameConnec-249"><span class="linenos">249</span></a>
</span><span id="DataFrameConnec-250"><a href="#DataFrameConnec-250"><span class="linenos">250</span></a>    <span class="nd">@staticmethod</span>
</span><span id="DataFrameConnec-251"><a href="#DataFrameConnec-251"><span class="linenos">251</span></a>    <span class="k">def</span> <span class="nf">to_obj_ntv</span><span class="p">(</span><span class="n">ntv_value</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>  <span class="c1"># reindex=True, decode_str=False):</span>
</span><span id="DataFrameConnec-252"><a href="#DataFrameConnec-252"><span class="linenos">252</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;convert json ntv_value into a DataFrame.</span>
</span><span id="DataFrameConnec-253"><a href="#DataFrameConnec-253"><span class="linenos">253</span></a>
</span><span id="DataFrameConnec-254"><a href="#DataFrameConnec-254"><span class="linenos">254</span></a><span class="sd">        *Parameters*</span>
</span><span id="DataFrameConnec-255"><a href="#DataFrameConnec-255"><span class="linenos">255</span></a>
</span><span id="DataFrameConnec-256"><a href="#DataFrameConnec-256"><span class="linenos">256</span></a><span class="sd">        - **index** : list (default None) - list of index values,</span>
</span><span id="DataFrameConnec-257"><a href="#DataFrameConnec-257"><span class="linenos">257</span></a><span class="sd">        - **alias** : boolean (default False) - if True, alias dtype else default dtype</span>
</span><span id="DataFrameConnec-258"><a href="#DataFrameConnec-258"><span class="linenos">258</span></a><span class="sd">        - **annotated** : boolean (default False) - if True, NTV names are not included.&quot;&quot;&quot;</span>
</span><span id="DataFrameConnec-259"><a href="#DataFrameConnec-259"><span class="linenos">259</span></a>        <span class="n">series</span> <span class="o">=</span> <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">to_series</span>
</span><span id="DataFrameConnec-260"><a href="#DataFrameConnec-260"><span class="linenos">260</span></a>
</span><span id="DataFrameConnec-261"><a href="#DataFrameConnec-261"><span class="linenos">261</span></a>        <span class="n">ntv</span> <span class="o">=</span> <span class="n">Ntv</span><span class="o">.</span><span class="n">fast</span><span class="p">(</span><span class="n">ntv_value</span><span class="p">)</span>
</span><span id="DataFrameConnec-262"><a href="#DataFrameConnec-262"><span class="linenos">262</span></a>        <span class="n">lidx</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="DataFrameConnec-263"><a href="#DataFrameConnec-263"><span class="linenos">263</span></a>            <span class="nb">list</span><span class="p">(</span><span class="n">NtvUtil</span><span class="o">.</span><span class="n">decode_ntv_tab</span><span class="p">(</span><span class="n">ntvf</span><span class="p">,</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">decode_ntv_to_val</span><span class="p">))</span> <span class="k">for</span> <span class="n">ntvf</span> <span class="ow">in</span> <span class="n">ntv</span>
</span><span id="DataFrameConnec-264"><a href="#DataFrameConnec-264"><span class="linenos">264</span></a>        <span class="p">]</span>
</span><span id="DataFrameConnec-265"><a href="#DataFrameConnec-265"><span class="linenos">265</span></a>        <span class="n">leng</span> <span class="o">=</span> <span class="nb">max</span><span class="p">([</span><span class="n">idx</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">lidx</span><span class="p">])</span>
</span><span id="DataFrameConnec-266"><a href="#DataFrameConnec-266"><span class="linenos">266</span></a>        <span class="n">option</span> <span class="o">=</span> <span class="n">kwargs</span> <span class="o">|</span> <span class="p">{</span><span class="s2">&quot;leng&quot;</span><span class="p">:</span> <span class="n">leng</span><span class="p">}</span>
</span><span id="DataFrameConnec-267"><a href="#DataFrameConnec-267"><span class="linenos">267</span></a>        <span class="n">no_keys</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DataFrameConnec-268"><a href="#DataFrameConnec-268"><span class="linenos">268</span></a>        <span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="n">lind</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">lidx</span><span class="p">):</span>
</span><span id="DataFrameConnec-269"><a href="#DataFrameConnec-269"><span class="linenos">269</span></a>            <span class="n">no_keys</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="ow">not</span> <span class="n">lind</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">lind</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">lind</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
</span><span id="DataFrameConnec-270"><a href="#DataFrameConnec-270"><span class="linenos">270</span></a>            <span class="n">NtvConnector</span><span class="o">.</span><span class="n">init_ntv_keys</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">lidx</span><span class="p">,</span> <span class="n">leng</span><span class="p">)</span>
</span><span id="DataFrameConnec-271"><a href="#DataFrameConnec-271"><span class="linenos">271</span></a>            <span class="n">lind</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">Ntv</span><span class="o">.</span><span class="n">fast</span><span class="p">(</span>
</span><span id="DataFrameConnec-272"><a href="#DataFrameConnec-272"><span class="linenos">272</span></a>                <span class="n">Ntv</span><span class="o">.</span><span class="n">obj_ntv</span><span class="p">(</span><span class="n">lind</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">typ</span><span class="o">=</span><span class="n">lind</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">single</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">lind</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="DataFrameConnec-273"><a href="#DataFrameConnec-273"><span class="linenos">273</span></a>            <span class="p">)</span>
</span><span id="DataFrameConnec-274"><a href="#DataFrameConnec-274"><span class="linenos">274</span></a>        <span class="n">list_series</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="DataFrameConnec-275"><a href="#DataFrameConnec-275"><span class="linenos">275</span></a>            <span class="n">series</span><span class="p">(</span>
</span><span id="DataFrameConnec-276"><a href="#DataFrameConnec-276"><span class="linenos">276</span></a>                <span class="n">lidx</span><span class="p">[</span><span class="n">ind</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span>
</span><span id="DataFrameConnec-277"><a href="#DataFrameConnec-277"><span class="linenos">277</span></a>                <span class="n">lidx</span><span class="p">[</span><span class="n">ind</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
</span><span id="DataFrameConnec-278"><a href="#DataFrameConnec-278"><span class="linenos">278</span></a>                <span class="kc">None</span> <span class="k">if</span> <span class="n">no_keys</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="k">else</span> <span class="n">lidx</span><span class="p">[</span><span class="n">ind</span><span class="p">][</span><span class="mi">4</span><span class="p">],</span>
</span><span id="DataFrameConnec-279"><a href="#DataFrameConnec-279"><span class="linenos">279</span></a>                <span class="o">**</span><span class="n">option</span><span class="p">,</span>
</span><span id="DataFrameConnec-280"><a href="#DataFrameConnec-280"><span class="linenos">280</span></a>            <span class="p">)</span>
</span><span id="DataFrameConnec-281"><a href="#DataFrameConnec-281"><span class="linenos">281</span></a>            <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lidx</span><span class="p">))</span>
</span><span id="DataFrameConnec-282"><a href="#DataFrameConnec-282"><span class="linenos">282</span></a>        <span class="p">]</span>
</span><span id="DataFrameConnec-283"><a href="#DataFrameConnec-283"><span class="linenos">283</span></a>        <span class="n">dfr</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="n">ser</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">ser</span> <span class="k">for</span> <span class="n">ser</span> <span class="ow">in</span> <span class="n">list_series</span><span class="p">})</span>
</span><span id="DataFrameConnec-284"><a href="#DataFrameConnec-284"><span class="linenos">284</span></a>        <span class="k">return</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">pd_index</span><span class="p">(</span><span class="n">dfr</span><span class="p">)</span>
</span><span id="DataFrameConnec-285"><a href="#DataFrameConnec-285"><span class="linenos">285</span></a>
</span><span id="DataFrameConnec-286"><a href="#DataFrameConnec-286"><span class="linenos">286</span></a>    <span class="nd">@staticmethod</span>
</span><span id="DataFrameConnec-287"><a href="#DataFrameConnec-287"><span class="linenos">287</span></a>    <span class="k">def</span> <span class="nf">to_json_ntv</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DataFrameConnec-288"><a href="#DataFrameConnec-288"><span class="linenos">288</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;convert a DataFrame (value, name, type) into NTV json (json-value, name, type).</span>
</span><span id="DataFrameConnec-289"><a href="#DataFrameConnec-289"><span class="linenos">289</span></a>
</span><span id="DataFrameConnec-290"><a href="#DataFrameConnec-290"><span class="linenos">290</span></a><span class="sd">        *Parameters*</span>
</span><span id="DataFrameConnec-291"><a href="#DataFrameConnec-291"><span class="linenos">291</span></a>
</span><span id="DataFrameConnec-292"><a href="#DataFrameConnec-292"><span class="linenos">292</span></a><span class="sd">        - **typ** : string (default None) - type of the NTV object,</span>
</span><span id="DataFrameConnec-293"><a href="#DataFrameConnec-293"><span class="linenos">293</span></a><span class="sd">        - **name** : string (default None) - name of the NTV object</span>
</span><span id="DataFrameConnec-294"><a href="#DataFrameConnec-294"><span class="linenos">294</span></a><span class="sd">        - **value** : DataFrame values</span>
</span><span id="DataFrameConnec-295"><a href="#DataFrameConnec-295"><span class="linenos">295</span></a><span class="sd">        - **table** : boolean (default False) - if True return TableSchema format</span>
</span><span id="DataFrameConnec-296"><a href="#DataFrameConnec-296"><span class="linenos">296</span></a><span class="sd">        - **index** : boolean (default True) - if True the index Series is included</span>
</span><span id="DataFrameConnec-297"><a href="#DataFrameConnec-297"><span class="linenos">297</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DataFrameConnec-298"><a href="#DataFrameConnec-298"><span class="linenos">298</span></a>        <span class="n">table</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="DataFrameConnec-299"><a href="#DataFrameConnec-299"><span class="linenos">299</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</span><span id="DataFrameConnec-300"><a href="#DataFrameConnec-300"><span class="linenos">300</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">table</span><span class="p">:</span>
</span><span id="DataFrameConnec-301"><a href="#DataFrameConnec-301"><span class="linenos">301</span></a>            <span class="n">df2</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span> <span class="k">if</span> <span class="n">index</span> <span class="k">else</span> <span class="n">value</span>
</span><span id="DataFrameConnec-302"><a href="#DataFrameConnec-302"><span class="linenos">302</span></a>            <span class="n">jsn</span> <span class="o">=</span> <span class="n">Ntv</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span>
</span><span id="DataFrameConnec-303"><a href="#DataFrameConnec-303"><span class="linenos">303</span></a>                <span class="p">[</span>
</span><span id="DataFrameConnec-304"><a href="#DataFrameConnec-304"><span class="linenos">304</span></a>                    <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">to_json_ntv</span><span class="p">(</span><span class="n">PdUtil</span><span class="o">.</span><span class="n">unic</span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="n">col</span><span class="p">]))[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="DataFrameConnec-305"><a href="#DataFrameConnec-305"><span class="linenos">305</span></a>                    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df2</span><span class="o">.</span><span class="n">columns</span>
</span><span id="DataFrameConnec-306"><a href="#DataFrameConnec-306"><span class="linenos">306</span></a>                <span class="p">]</span>
</span><span id="DataFrameConnec-307"><a href="#DataFrameConnec-307"><span class="linenos">307</span></a>            <span class="p">)</span><span class="o">.</span><span class="n">to_obj</span><span class="p">()</span>
</span><span id="DataFrameConnec-308"><a href="#DataFrameConnec-308"><span class="linenos">308</span></a>            <span class="k">return</span> <span class="p">(</span><span class="n">jsn</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">DataFrameConnec</span><span class="o">.</span><span class="n">clas_typ</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">typ</span> <span class="k">else</span> <span class="n">typ</span><span class="p">)</span>
</span><span id="DataFrameConnec-309"><a href="#DataFrameConnec-309"><span class="linenos">309</span></a>        <span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
</span><span id="DataFrameConnec-310"><a href="#DataFrameConnec-310"><span class="linenos">310</span></a>            <span class="p">{</span>
</span><span id="DataFrameConnec-311"><a href="#DataFrameConnec-311"><span class="linenos">311</span></a>                <span class="n">NtvUtil</span><span class="o">.</span><span class="n">from_obj_name</span><span class="p">(</span><span class="n">col</span><span class="p">)[</span><span class="mi">0</span><span class="p">]:</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span>
</span><span id="DataFrameConnec-312"><a href="#DataFrameConnec-312"><span class="linenos">312</span></a>                    <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">to_json_ntv</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">no_val</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">1</span><span class="p">],</span>
</span><span id="DataFrameConnec-313"><a href="#DataFrameConnec-313"><span class="linenos">313</span></a>                    <span class="n">value</span><span class="p">[</span><span class="n">col</span><span class="p">],</span>
</span><span id="DataFrameConnec-314"><a href="#DataFrameConnec-314"><span class="linenos">314</span></a>                <span class="p">)</span>
</span><span id="DataFrameConnec-315"><a href="#DataFrameConnec-315"><span class="linenos">315</span></a>                <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">columns</span>
</span><span id="DataFrameConnec-316"><a href="#DataFrameConnec-316"><span class="linenos">316</span></a>            <span class="p">}</span>
</span><span id="DataFrameConnec-317"><a href="#DataFrameConnec-317"><span class="linenos">317</span></a>        <span class="p">)</span>
</span><span id="DataFrameConnec-318"><a href="#DataFrameConnec-318"><span class="linenos">318</span></a>        <span class="n">table_val</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span>
</span><span id="DataFrameConnec-319"><a href="#DataFrameConnec-319"><span class="linenos">319</span></a>            <span class="n">df2</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="n">date_format</span><span class="o">=</span><span class="s2">&quot;iso&quot;</span><span class="p">,</span> <span class="n">default_handler</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
</span><span id="DataFrameConnec-320"><a href="#DataFrameConnec-320"><span class="linenos">320</span></a>        <span class="p">)</span>
</span><span id="DataFrameConnec-321"><a href="#DataFrameConnec-321"><span class="linenos">321</span></a>        <span class="k">for</span> <span class="n">nam</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
</span><span id="DataFrameConnec-322"><a href="#DataFrameConnec-322"><span class="linenos">322</span></a>            <span class="n">ntv_name</span><span class="p">,</span> <span class="n">ntv_type</span> <span class="o">=</span> <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">to_json_ntv</span><span class="p">(</span>
</span><span id="DataFrameConnec-323"><a href="#DataFrameConnec-323"><span class="linenos">323</span></a>                <span class="n">value</span><span class="p">[</span><span class="n">nam</span><span class="p">],</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">no_val</span><span class="o">=</span><span class="kc">True</span>
</span><span id="DataFrameConnec-324"><a href="#DataFrameConnec-324"><span class="linenos">324</span></a>            <span class="p">)</span>
</span><span id="DataFrameConnec-325"><a href="#DataFrameConnec-325"><span class="linenos">325</span></a>            <span class="n">table_val</span><span class="p">[</span><span class="s2">&quot;schema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">table_schema</span><span class="p">(</span>
</span><span id="DataFrameConnec-326"><a href="#DataFrameConnec-326"><span class="linenos">326</span></a>                <span class="n">table_val</span><span class="p">[</span><span class="s2">&quot;schema&quot;</span><span class="p">],</span> <span class="n">ntv_name</span><span class="p">,</span> <span class="n">ntv_type</span>
</span><span id="DataFrameConnec-327"><a href="#DataFrameConnec-327"><span class="linenos">327</span></a>            <span class="p">)</span>
</span><span id="DataFrameConnec-328"><a href="#DataFrameConnec-328"><span class="linenos">328</span></a>        <span class="k">return</span> <span class="p">(</span><span class="n">table_val</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">DataFrameConnec</span><span class="o">.</span><span class="n">clas_typ</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">typ</span> <span class="k">else</span> <span class="n">typ</span><span class="p">)</span>
</span><span id="DataFrameConnec-329"><a href="#DataFrameConnec-329"><span class="linenos">329</span></a>
</span><span id="DataFrameConnec-330"><a href="#DataFrameConnec-330"><span class="linenos">330</span></a>    <span class="nd">@staticmethod</span>
</span><span id="DataFrameConnec-331"><a href="#DataFrameConnec-331"><span class="linenos">331</span></a>    <span class="k">def</span> <span class="nf">to_listidx</span><span class="p">(</span><span class="n">dtf</span><span class="p">):</span>
</span><span id="DataFrameConnec-332"><a href="#DataFrameConnec-332"><span class="linenos">332</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;convert a DataFrame in categorical data</span>
</span><span id="DataFrameConnec-333"><a href="#DataFrameConnec-333"><span class="linenos">333</span></a>
</span><span id="DataFrameConnec-334"><a href="#DataFrameConnec-334"><span class="linenos">334</span></a><span class="sd">        *Return: tuple with:*</span>
</span><span id="DataFrameConnec-335"><a href="#DataFrameConnec-335"><span class="linenos">335</span></a>
</span><span id="DataFrameConnec-336"><a href="#DataFrameConnec-336"><span class="linenos">336</span></a><span class="sd">        - **list** of dict (keys : &#39;codec&#39;, &#39;name, &#39;keys&#39;) for each column</span>
</span><span id="DataFrameConnec-337"><a href="#DataFrameConnec-337"><span class="linenos">337</span></a><span class="sd">        - **lenght** of the DataFrame&quot;&quot;&quot;</span>
</span><span id="DataFrameConnec-338"><a href="#DataFrameConnec-338"><span class="linenos">338</span></a>        <span class="k">return</span> <span class="p">([</span><span class="n">SeriesConnec</span><span class="o">.</span><span class="n">to_idx</span><span class="p">(</span><span class="n">ser</span><span class="p">)</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">ser</span> <span class="ow">in</span> <span class="n">dtf</span><span class="o">.</span><span class="n">items</span><span class="p">()],</span> <span class="nb">len</span><span class="p">(</span><span class="n">dtf</span><span class="p">))</span>
</span><span id="DataFrameConnec-339"><a href="#DataFrameConnec-339"><span class="linenos">339</span></a>
</span><span id="DataFrameConnec-340"><a href="#DataFrameConnec-340"><span class="linenos">340</span></a>    <span class="nd">@staticmethod</span>
</span><span id="DataFrameConnec-341"><a href="#DataFrameConnec-341"><span class="linenos">341</span></a>    <span class="k">def</span> <span class="nf">equals</span><span class="p">(</span><span class="n">pdself</span><span class="p">,</span> <span class="n">pdother</span><span class="p">):</span>
</span><span id="DataFrameConnec-342"><a href="#DataFrameConnec-342"><span class="linenos">342</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;return True if columns are equals&quot;&quot;&quot;</span>
</span><span id="DataFrameConnec-343"><a href="#DataFrameConnec-343"><span class="linenos">343</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">pdself</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pdother</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)):</span>
</span><span id="DataFrameConnec-344"><a href="#DataFrameConnec-344"><span class="linenos">344</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="DataFrameConnec-345"><a href="#DataFrameConnec-345"><span class="linenos">345</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pdself</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pdother</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
</span><span id="DataFrameConnec-346"><a href="#DataFrameConnec-346"><span class="linenos">346</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="DataFrameConnec-347"><a href="#DataFrameConnec-347"><span class="linenos">347</span></a>        <span class="k">for</span> <span class="n">cself</span><span class="p">,</span> <span class="n">cother</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">pdself</span><span class="p">,</span> <span class="n">pdother</span><span class="p">):</span>
</span><span id="DataFrameConnec-348"><a href="#DataFrameConnec-348"><span class="linenos">348</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">pdself</span><span class="p">[</span><span class="n">cself</span><span class="p">],</span> <span class="n">pdother</span><span class="p">[</span><span class="n">cother</span><span class="p">]):</span>
</span><span id="DataFrameConnec-349"><a href="#DataFrameConnec-349"><span class="linenos">349</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="DataFrameConnec-350"><a href="#DataFrameConnec-350"><span class="linenos">350</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>NTV connector for pandas DataFrame.</p>

<p>One static methods is included:</p>

<ul>
<li>to_listidx: convert a DataFrame in categorical data</li>
</ul>
</div>


                            <div id="DataFrameConnec.clas_obj" class="classattr">
                                <div class="attr variable">
            <span class="name">clas_obj</span>        =
<span class="default_value">&#39;DataFrame&#39;</span>

        
    </div>
    <a class="headerlink" href="#DataFrameConnec.clas_obj"></a>
    
    

                            </div>
                            <div id="DataFrameConnec.clas_typ" class="classattr">
                                <div class="attr variable">
            <span class="name">clas_typ</span>        =
<span class="default_value">&#39;tab&#39;</span>

        
    </div>
    <a class="headerlink" href="#DataFrameConnec.clas_typ"></a>
    
    

                            </div>
                            <div id="DataFrameConnec.to_obj_ntv" class="classattr">
                                        <input id="DataFrameConnec.to_obj_ntv-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">to_obj_ntv</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">ntv_value</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DataFrameConnec.to_obj_ntv-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DataFrameConnec.to_obj_ntv"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DataFrameConnec.to_obj_ntv-250"><a href="#DataFrameConnec.to_obj_ntv-250"><span class="linenos">250</span></a>    <span class="nd">@staticmethod</span>
</span><span id="DataFrameConnec.to_obj_ntv-251"><a href="#DataFrameConnec.to_obj_ntv-251"><span class="linenos">251</span></a>    <span class="k">def</span> <span class="nf">to_obj_ntv</span><span class="p">(</span><span class="n">ntv_value</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>  <span class="c1"># reindex=True, decode_str=False):</span>
</span><span id="DataFrameConnec.to_obj_ntv-252"><a href="#DataFrameConnec.to_obj_ntv-252"><span class="linenos">252</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;convert json ntv_value into a DataFrame.</span>
</span><span id="DataFrameConnec.to_obj_ntv-253"><a href="#DataFrameConnec.to_obj_ntv-253"><span class="linenos">253</span></a>
</span><span id="DataFrameConnec.to_obj_ntv-254"><a href="#DataFrameConnec.to_obj_ntv-254"><span class="linenos">254</span></a><span class="sd">        *Parameters*</span>
</span><span id="DataFrameConnec.to_obj_ntv-255"><a href="#DataFrameConnec.to_obj_ntv-255"><span class="linenos">255</span></a>
</span><span id="DataFrameConnec.to_obj_ntv-256"><a href="#DataFrameConnec.to_obj_ntv-256"><span class="linenos">256</span></a><span class="sd">        - **index** : list (default None) - list of index values,</span>
</span><span id="DataFrameConnec.to_obj_ntv-257"><a href="#DataFrameConnec.to_obj_ntv-257"><span class="linenos">257</span></a><span class="sd">        - **alias** : boolean (default False) - if True, alias dtype else default dtype</span>
</span><span id="DataFrameConnec.to_obj_ntv-258"><a href="#DataFrameConnec.to_obj_ntv-258"><span class="linenos">258</span></a><span class="sd">        - **annotated** : boolean (default False) - if True, NTV names are not included.&quot;&quot;&quot;</span>
</span><span id="DataFrameConnec.to_obj_ntv-259"><a href="#DataFrameConnec.to_obj_ntv-259"><span class="linenos">259</span></a>        <span class="n">series</span> <span class="o">=</span> <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">to_series</span>
</span><span id="DataFrameConnec.to_obj_ntv-260"><a href="#DataFrameConnec.to_obj_ntv-260"><span class="linenos">260</span></a>
</span><span id="DataFrameConnec.to_obj_ntv-261"><a href="#DataFrameConnec.to_obj_ntv-261"><span class="linenos">261</span></a>        <span class="n">ntv</span> <span class="o">=</span> <span class="n">Ntv</span><span class="o">.</span><span class="n">fast</span><span class="p">(</span><span class="n">ntv_value</span><span class="p">)</span>
</span><span id="DataFrameConnec.to_obj_ntv-262"><a href="#DataFrameConnec.to_obj_ntv-262"><span class="linenos">262</span></a>        <span class="n">lidx</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="DataFrameConnec.to_obj_ntv-263"><a href="#DataFrameConnec.to_obj_ntv-263"><span class="linenos">263</span></a>            <span class="nb">list</span><span class="p">(</span><span class="n">NtvUtil</span><span class="o">.</span><span class="n">decode_ntv_tab</span><span class="p">(</span><span class="n">ntvf</span><span class="p">,</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">decode_ntv_to_val</span><span class="p">))</span> <span class="k">for</span> <span class="n">ntvf</span> <span class="ow">in</span> <span class="n">ntv</span>
</span><span id="DataFrameConnec.to_obj_ntv-264"><a href="#DataFrameConnec.to_obj_ntv-264"><span class="linenos">264</span></a>        <span class="p">]</span>
</span><span id="DataFrameConnec.to_obj_ntv-265"><a href="#DataFrameConnec.to_obj_ntv-265"><span class="linenos">265</span></a>        <span class="n">leng</span> <span class="o">=</span> <span class="nb">max</span><span class="p">([</span><span class="n">idx</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">lidx</span><span class="p">])</span>
</span><span id="DataFrameConnec.to_obj_ntv-266"><a href="#DataFrameConnec.to_obj_ntv-266"><span class="linenos">266</span></a>        <span class="n">option</span> <span class="o">=</span> <span class="n">kwargs</span> <span class="o">|</span> <span class="p">{</span><span class="s2">&quot;leng&quot;</span><span class="p">:</span> <span class="n">leng</span><span class="p">}</span>
</span><span id="DataFrameConnec.to_obj_ntv-267"><a href="#DataFrameConnec.to_obj_ntv-267"><span class="linenos">267</span></a>        <span class="n">no_keys</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DataFrameConnec.to_obj_ntv-268"><a href="#DataFrameConnec.to_obj_ntv-268"><span class="linenos">268</span></a>        <span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="n">lind</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">lidx</span><span class="p">):</span>
</span><span id="DataFrameConnec.to_obj_ntv-269"><a href="#DataFrameConnec.to_obj_ntv-269"><span class="linenos">269</span></a>            <span class="n">no_keys</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="ow">not</span> <span class="n">lind</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">lind</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">lind</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
</span><span id="DataFrameConnec.to_obj_ntv-270"><a href="#DataFrameConnec.to_obj_ntv-270"><span class="linenos">270</span></a>            <span class="n">NtvConnector</span><span class="o">.</span><span class="n">init_ntv_keys</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">lidx</span><span class="p">,</span> <span class="n">leng</span><span class="p">)</span>
</span><span id="DataFrameConnec.to_obj_ntv-271"><a href="#DataFrameConnec.to_obj_ntv-271"><span class="linenos">271</span></a>            <span class="n">lind</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">Ntv</span><span class="o">.</span><span class="n">fast</span><span class="p">(</span>
</span><span id="DataFrameConnec.to_obj_ntv-272"><a href="#DataFrameConnec.to_obj_ntv-272"><span class="linenos">272</span></a>                <span class="n">Ntv</span><span class="o">.</span><span class="n">obj_ntv</span><span class="p">(</span><span class="n">lind</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">typ</span><span class="o">=</span><span class="n">lind</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">single</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">lind</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="DataFrameConnec.to_obj_ntv-273"><a href="#DataFrameConnec.to_obj_ntv-273"><span class="linenos">273</span></a>            <span class="p">)</span>
</span><span id="DataFrameConnec.to_obj_ntv-274"><a href="#DataFrameConnec.to_obj_ntv-274"><span class="linenos">274</span></a>        <span class="n">list_series</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="DataFrameConnec.to_obj_ntv-275"><a href="#DataFrameConnec.to_obj_ntv-275"><span class="linenos">275</span></a>            <span class="n">series</span><span class="p">(</span>
</span><span id="DataFrameConnec.to_obj_ntv-276"><a href="#DataFrameConnec.to_obj_ntv-276"><span class="linenos">276</span></a>                <span class="n">lidx</span><span class="p">[</span><span class="n">ind</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span>
</span><span id="DataFrameConnec.to_obj_ntv-277"><a href="#DataFrameConnec.to_obj_ntv-277"><span class="linenos">277</span></a>                <span class="n">lidx</span><span class="p">[</span><span class="n">ind</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
</span><span id="DataFrameConnec.to_obj_ntv-278"><a href="#DataFrameConnec.to_obj_ntv-278"><span class="linenos">278</span></a>                <span class="kc">None</span> <span class="k">if</span> <span class="n">no_keys</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="k">else</span> <span class="n">lidx</span><span class="p">[</span><span class="n">ind</span><span class="p">][</span><span class="mi">4</span><span class="p">],</span>
</span><span id="DataFrameConnec.to_obj_ntv-279"><a href="#DataFrameConnec.to_obj_ntv-279"><span class="linenos">279</span></a>                <span class="o">**</span><span class="n">option</span><span class="p">,</span>
</span><span id="DataFrameConnec.to_obj_ntv-280"><a href="#DataFrameConnec.to_obj_ntv-280"><span class="linenos">280</span></a>            <span class="p">)</span>
</span><span id="DataFrameConnec.to_obj_ntv-281"><a href="#DataFrameConnec.to_obj_ntv-281"><span class="linenos">281</span></a>            <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lidx</span><span class="p">))</span>
</span><span id="DataFrameConnec.to_obj_ntv-282"><a href="#DataFrameConnec.to_obj_ntv-282"><span class="linenos">282</span></a>        <span class="p">]</span>
</span><span id="DataFrameConnec.to_obj_ntv-283"><a href="#DataFrameConnec.to_obj_ntv-283"><span class="linenos">283</span></a>        <span class="n">dfr</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="n">ser</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">ser</span> <span class="k">for</span> <span class="n">ser</span> <span class="ow">in</span> <span class="n">list_series</span><span class="p">})</span>
</span><span id="DataFrameConnec.to_obj_ntv-284"><a href="#DataFrameConnec.to_obj_ntv-284"><span class="linenos">284</span></a>        <span class="k">return</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">pd_index</span><span class="p">(</span><span class="n">dfr</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>convert json ntv_value into a DataFrame.</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>index</strong> : list (default None) - list of index values,</li>
<li><strong>alias</strong> : boolean (default False) - if True, alias dtype else default dtype</li>
<li><strong>annotated</strong> : boolean (default False) - if True, NTV names are not included.</li>
</ul>
</div>


                            </div>
                            <div id="DataFrameConnec.to_json_ntv" class="classattr">
                                        <input id="DataFrameConnec.to_json_ntv-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">to_json_ntv</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">value</span>, </span><span class="param"><span class="n">name</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">typ</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DataFrameConnec.to_json_ntv-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DataFrameConnec.to_json_ntv"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DataFrameConnec.to_json_ntv-286"><a href="#DataFrameConnec.to_json_ntv-286"><span class="linenos">286</span></a>    <span class="nd">@staticmethod</span>
</span><span id="DataFrameConnec.to_json_ntv-287"><a href="#DataFrameConnec.to_json_ntv-287"><span class="linenos">287</span></a>    <span class="k">def</span> <span class="nf">to_json_ntv</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DataFrameConnec.to_json_ntv-288"><a href="#DataFrameConnec.to_json_ntv-288"><span class="linenos">288</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;convert a DataFrame (value, name, type) into NTV json (json-value, name, type).</span>
</span><span id="DataFrameConnec.to_json_ntv-289"><a href="#DataFrameConnec.to_json_ntv-289"><span class="linenos">289</span></a>
</span><span id="DataFrameConnec.to_json_ntv-290"><a href="#DataFrameConnec.to_json_ntv-290"><span class="linenos">290</span></a><span class="sd">        *Parameters*</span>
</span><span id="DataFrameConnec.to_json_ntv-291"><a href="#DataFrameConnec.to_json_ntv-291"><span class="linenos">291</span></a>
</span><span id="DataFrameConnec.to_json_ntv-292"><a href="#DataFrameConnec.to_json_ntv-292"><span class="linenos">292</span></a><span class="sd">        - **typ** : string (default None) - type of the NTV object,</span>
</span><span id="DataFrameConnec.to_json_ntv-293"><a href="#DataFrameConnec.to_json_ntv-293"><span class="linenos">293</span></a><span class="sd">        - **name** : string (default None) - name of the NTV object</span>
</span><span id="DataFrameConnec.to_json_ntv-294"><a href="#DataFrameConnec.to_json_ntv-294"><span class="linenos">294</span></a><span class="sd">        - **value** : DataFrame values</span>
</span><span id="DataFrameConnec.to_json_ntv-295"><a href="#DataFrameConnec.to_json_ntv-295"><span class="linenos">295</span></a><span class="sd">        - **table** : boolean (default False) - if True return TableSchema format</span>
</span><span id="DataFrameConnec.to_json_ntv-296"><a href="#DataFrameConnec.to_json_ntv-296"><span class="linenos">296</span></a><span class="sd">        - **index** : boolean (default True) - if True the index Series is included</span>
</span><span id="DataFrameConnec.to_json_ntv-297"><a href="#DataFrameConnec.to_json_ntv-297"><span class="linenos">297</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DataFrameConnec.to_json_ntv-298"><a href="#DataFrameConnec.to_json_ntv-298"><span class="linenos">298</span></a>        <span class="n">table</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="DataFrameConnec.to_json_ntv-299"><a href="#DataFrameConnec.to_json_ntv-299"><span class="linenos">299</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</span><span id="DataFrameConnec.to_json_ntv-300"><a href="#DataFrameConnec.to_json_ntv-300"><span class="linenos">300</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">table</span><span class="p">:</span>
</span><span id="DataFrameConnec.to_json_ntv-301"><a href="#DataFrameConnec.to_json_ntv-301"><span class="linenos">301</span></a>            <span class="n">df2</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span> <span class="k">if</span> <span class="n">index</span> <span class="k">else</span> <span class="n">value</span>
</span><span id="DataFrameConnec.to_json_ntv-302"><a href="#DataFrameConnec.to_json_ntv-302"><span class="linenos">302</span></a>            <span class="n">jsn</span> <span class="o">=</span> <span class="n">Ntv</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span>
</span><span id="DataFrameConnec.to_json_ntv-303"><a href="#DataFrameConnec.to_json_ntv-303"><span class="linenos">303</span></a>                <span class="p">[</span>
</span><span id="DataFrameConnec.to_json_ntv-304"><a href="#DataFrameConnec.to_json_ntv-304"><span class="linenos">304</span></a>                    <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">to_json_ntv</span><span class="p">(</span><span class="n">PdUtil</span><span class="o">.</span><span class="n">unic</span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="n">col</span><span class="p">]))[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="DataFrameConnec.to_json_ntv-305"><a href="#DataFrameConnec.to_json_ntv-305"><span class="linenos">305</span></a>                    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df2</span><span class="o">.</span><span class="n">columns</span>
</span><span id="DataFrameConnec.to_json_ntv-306"><a href="#DataFrameConnec.to_json_ntv-306"><span class="linenos">306</span></a>                <span class="p">]</span>
</span><span id="DataFrameConnec.to_json_ntv-307"><a href="#DataFrameConnec.to_json_ntv-307"><span class="linenos">307</span></a>            <span class="p">)</span><span class="o">.</span><span class="n">to_obj</span><span class="p">()</span>
</span><span id="DataFrameConnec.to_json_ntv-308"><a href="#DataFrameConnec.to_json_ntv-308"><span class="linenos">308</span></a>            <span class="k">return</span> <span class="p">(</span><span class="n">jsn</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">DataFrameConnec</span><span class="o">.</span><span class="n">clas_typ</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">typ</span> <span class="k">else</span> <span class="n">typ</span><span class="p">)</span>
</span><span id="DataFrameConnec.to_json_ntv-309"><a href="#DataFrameConnec.to_json_ntv-309"><span class="linenos">309</span></a>        <span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
</span><span id="DataFrameConnec.to_json_ntv-310"><a href="#DataFrameConnec.to_json_ntv-310"><span class="linenos">310</span></a>            <span class="p">{</span>
</span><span id="DataFrameConnec.to_json_ntv-311"><a href="#DataFrameConnec.to_json_ntv-311"><span class="linenos">311</span></a>                <span class="n">NtvUtil</span><span class="o">.</span><span class="n">from_obj_name</span><span class="p">(</span><span class="n">col</span><span class="p">)[</span><span class="mi">0</span><span class="p">]:</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span>
</span><span id="DataFrameConnec.to_json_ntv-312"><a href="#DataFrameConnec.to_json_ntv-312"><span class="linenos">312</span></a>                    <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">to_json_ntv</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">no_val</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">1</span><span class="p">],</span>
</span><span id="DataFrameConnec.to_json_ntv-313"><a href="#DataFrameConnec.to_json_ntv-313"><span class="linenos">313</span></a>                    <span class="n">value</span><span class="p">[</span><span class="n">col</span><span class="p">],</span>
</span><span id="DataFrameConnec.to_json_ntv-314"><a href="#DataFrameConnec.to_json_ntv-314"><span class="linenos">314</span></a>                <span class="p">)</span>
</span><span id="DataFrameConnec.to_json_ntv-315"><a href="#DataFrameConnec.to_json_ntv-315"><span class="linenos">315</span></a>                <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">columns</span>
</span><span id="DataFrameConnec.to_json_ntv-316"><a href="#DataFrameConnec.to_json_ntv-316"><span class="linenos">316</span></a>            <span class="p">}</span>
</span><span id="DataFrameConnec.to_json_ntv-317"><a href="#DataFrameConnec.to_json_ntv-317"><span class="linenos">317</span></a>        <span class="p">)</span>
</span><span id="DataFrameConnec.to_json_ntv-318"><a href="#DataFrameConnec.to_json_ntv-318"><span class="linenos">318</span></a>        <span class="n">table_val</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span>
</span><span id="DataFrameConnec.to_json_ntv-319"><a href="#DataFrameConnec.to_json_ntv-319"><span class="linenos">319</span></a>            <span class="n">df2</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="n">date_format</span><span class="o">=</span><span class="s2">&quot;iso&quot;</span><span class="p">,</span> <span class="n">default_handler</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
</span><span id="DataFrameConnec.to_json_ntv-320"><a href="#DataFrameConnec.to_json_ntv-320"><span class="linenos">320</span></a>        <span class="p">)</span>
</span><span id="DataFrameConnec.to_json_ntv-321"><a href="#DataFrameConnec.to_json_ntv-321"><span class="linenos">321</span></a>        <span class="k">for</span> <span class="n">nam</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
</span><span id="DataFrameConnec.to_json_ntv-322"><a href="#DataFrameConnec.to_json_ntv-322"><span class="linenos">322</span></a>            <span class="n">ntv_name</span><span class="p">,</span> <span class="n">ntv_type</span> <span class="o">=</span> <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">to_json_ntv</span><span class="p">(</span>
</span><span id="DataFrameConnec.to_json_ntv-323"><a href="#DataFrameConnec.to_json_ntv-323"><span class="linenos">323</span></a>                <span class="n">value</span><span class="p">[</span><span class="n">nam</span><span class="p">],</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">no_val</span><span class="o">=</span><span class="kc">True</span>
</span><span id="DataFrameConnec.to_json_ntv-324"><a href="#DataFrameConnec.to_json_ntv-324"><span class="linenos">324</span></a>            <span class="p">)</span>
</span><span id="DataFrameConnec.to_json_ntv-325"><a href="#DataFrameConnec.to_json_ntv-325"><span class="linenos">325</span></a>            <span class="n">table_val</span><span class="p">[</span><span class="s2">&quot;schema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">table_schema</span><span class="p">(</span>
</span><span id="DataFrameConnec.to_json_ntv-326"><a href="#DataFrameConnec.to_json_ntv-326"><span class="linenos">326</span></a>                <span class="n">table_val</span><span class="p">[</span><span class="s2">&quot;schema&quot;</span><span class="p">],</span> <span class="n">ntv_name</span><span class="p">,</span> <span class="n">ntv_type</span>
</span><span id="DataFrameConnec.to_json_ntv-327"><a href="#DataFrameConnec.to_json_ntv-327"><span class="linenos">327</span></a>            <span class="p">)</span>
</span><span id="DataFrameConnec.to_json_ntv-328"><a href="#DataFrameConnec.to_json_ntv-328"><span class="linenos">328</span></a>        <span class="k">return</span> <span class="p">(</span><span class="n">table_val</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">DataFrameConnec</span><span class="o">.</span><span class="n">clas_typ</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">typ</span> <span class="k">else</span> <span class="n">typ</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>convert a DataFrame (value, name, type) into NTV json (json-value, name, type).</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>typ</strong> : string (default None) - type of the NTV object,</li>
<li><strong>name</strong> : string (default None) - name of the NTV object</li>
<li><strong>value</strong> : DataFrame values</li>
<li><strong>table</strong> : boolean (default False) - if True return TableSchema format</li>
<li><strong>index</strong> : boolean (default True) - if True the index Series is included</li>
</ul>
</div>


                            </div>
                            <div id="DataFrameConnec.to_listidx" class="classattr">
                                        <input id="DataFrameConnec.to_listidx-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">to_listidx</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">dtf</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DataFrameConnec.to_listidx-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DataFrameConnec.to_listidx"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DataFrameConnec.to_listidx-330"><a href="#DataFrameConnec.to_listidx-330"><span class="linenos">330</span></a>    <span class="nd">@staticmethod</span>
</span><span id="DataFrameConnec.to_listidx-331"><a href="#DataFrameConnec.to_listidx-331"><span class="linenos">331</span></a>    <span class="k">def</span> <span class="nf">to_listidx</span><span class="p">(</span><span class="n">dtf</span><span class="p">):</span>
</span><span id="DataFrameConnec.to_listidx-332"><a href="#DataFrameConnec.to_listidx-332"><span class="linenos">332</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;convert a DataFrame in categorical data</span>
</span><span id="DataFrameConnec.to_listidx-333"><a href="#DataFrameConnec.to_listidx-333"><span class="linenos">333</span></a>
</span><span id="DataFrameConnec.to_listidx-334"><a href="#DataFrameConnec.to_listidx-334"><span class="linenos">334</span></a><span class="sd">        *Return: tuple with:*</span>
</span><span id="DataFrameConnec.to_listidx-335"><a href="#DataFrameConnec.to_listidx-335"><span class="linenos">335</span></a>
</span><span id="DataFrameConnec.to_listidx-336"><a href="#DataFrameConnec.to_listidx-336"><span class="linenos">336</span></a><span class="sd">        - **list** of dict (keys : &#39;codec&#39;, &#39;name, &#39;keys&#39;) for each column</span>
</span><span id="DataFrameConnec.to_listidx-337"><a href="#DataFrameConnec.to_listidx-337"><span class="linenos">337</span></a><span class="sd">        - **lenght** of the DataFrame&quot;&quot;&quot;</span>
</span><span id="DataFrameConnec.to_listidx-338"><a href="#DataFrameConnec.to_listidx-338"><span class="linenos">338</span></a>        <span class="k">return</span> <span class="p">([</span><span class="n">SeriesConnec</span><span class="o">.</span><span class="n">to_idx</span><span class="p">(</span><span class="n">ser</span><span class="p">)</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">ser</span> <span class="ow">in</span> <span class="n">dtf</span><span class="o">.</span><span class="n">items</span><span class="p">()],</span> <span class="nb">len</span><span class="p">(</span><span class="n">dtf</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>convert a DataFrame in categorical data</p>

<p><em>Return: tuple with:</em></p>

<ul>
<li><strong>list</strong> of dict (keys : 'codec', 'name, 'keys') for each column</li>
<li><strong>lenght</strong> of the DataFrame</li>
</ul>
</div>


                            </div>
                            <div id="DataFrameConnec.equals" class="classattr">
                                        <input id="DataFrameConnec.equals-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">equals</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">pdself</span>, </span><span class="param"><span class="n">pdother</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DataFrameConnec.equals-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DataFrameConnec.equals"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DataFrameConnec.equals-340"><a href="#DataFrameConnec.equals-340"><span class="linenos">340</span></a>    <span class="nd">@staticmethod</span>
</span><span id="DataFrameConnec.equals-341"><a href="#DataFrameConnec.equals-341"><span class="linenos">341</span></a>    <span class="k">def</span> <span class="nf">equals</span><span class="p">(</span><span class="n">pdself</span><span class="p">,</span> <span class="n">pdother</span><span class="p">):</span>
</span><span id="DataFrameConnec.equals-342"><a href="#DataFrameConnec.equals-342"><span class="linenos">342</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;return True if columns are equals&quot;&quot;&quot;</span>
</span><span id="DataFrameConnec.equals-343"><a href="#DataFrameConnec.equals-343"><span class="linenos">343</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">pdself</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pdother</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)):</span>
</span><span id="DataFrameConnec.equals-344"><a href="#DataFrameConnec.equals-344"><span class="linenos">344</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="DataFrameConnec.equals-345"><a href="#DataFrameConnec.equals-345"><span class="linenos">345</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pdself</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pdother</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
</span><span id="DataFrameConnec.equals-346"><a href="#DataFrameConnec.equals-346"><span class="linenos">346</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="DataFrameConnec.equals-347"><a href="#DataFrameConnec.equals-347"><span class="linenos">347</span></a>        <span class="k">for</span> <span class="n">cself</span><span class="p">,</span> <span class="n">cother</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">pdself</span><span class="p">,</span> <span class="n">pdother</span><span class="p">):</span>
</span><span id="DataFrameConnec.equals-348"><a href="#DataFrameConnec.equals-348"><span class="linenos">348</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">pdself</span><span class="p">[</span><span class="n">cself</span><span class="p">],</span> <span class="n">pdother</span><span class="p">[</span><span class="n">cother</span><span class="p">]):</span>
</span><span id="DataFrameConnec.equals-349"><a href="#DataFrameConnec.equals-349"><span class="linenos">349</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="DataFrameConnec.equals-350"><a href="#DataFrameConnec.equals-350"><span class="linenos">350</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>return True if columns are equals</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>json_ntv.ntv_util.NtvConnector</dt>
                                <dd id="DataFrameConnec.DIC_NTV_CL" class="variable">DIC_NTV_CL</dd>
                <dd id="DataFrameConnec.DIC_GEO_CL" class="variable">DIC_GEO_CL</dd>
                <dd id="DataFrameConnec.DIC_DAT_CL" class="variable">DIC_DAT_CL</dd>
                <dd id="DataFrameConnec.DIC_FCT" class="variable">DIC_FCT</dd>
                <dd id="DataFrameConnec.DIC_GEO" class="variable">DIC_GEO</dd>
                <dd id="DataFrameConnec.DIC_CBOR" class="variable">DIC_CBOR</dd>
                <dd id="DataFrameConnec.DIC_OBJ" class="variable">DIC_OBJ</dd>
                <dd id="DataFrameConnec.castable" class="variable">castable</dd>
                <dd id="DataFrameConnec.dic_obj" class="variable">dic_obj</dd>
                <dd id="DataFrameConnec.dic_type" class="variable">dic_type</dd>
                <dd id="DataFrameConnec.connector" class="function">connector</dd>
                <dd id="DataFrameConnec.dic_connec" class="function">dic_connec</dd>
                <dd id="DataFrameConnec.cast" class="function">cast</dd>
                <dd id="DataFrameConnec.uncast" class="function">uncast</dd>
                <dd id="DataFrameConnec.is_json_class" class="function">is_json_class</dd>
                <dd id="DataFrameConnec.is_json" class="function">is_json</dd>
                <dd id="DataFrameConnec.keysfromderkeys" class="function">keysfromderkeys</dd>
                <dd id="DataFrameConnec.encode_coef" class="function">encode_coef</dd>
                <dd id="DataFrameConnec.keysfromcoef" class="function">keysfromcoef</dd>
                <dd id="DataFrameConnec.format_field" class="function">format_field</dd>
                <dd id="DataFrameConnec.init_ntv_keys" class="function">init_ntv_keys</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="SeriesConnec">
                            <input id="SeriesConnec-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">SeriesConnec</span><wbr>(<span class="base">json_ntv.ntv_util.NtvConnector</span>):

                <label class="view-source-button" for="SeriesConnec-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SeriesConnec"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SeriesConnec-353"><a href="#SeriesConnec-353"><span class="linenos">353</span></a><span class="k">class</span> <span class="nc">SeriesConnec</span><span class="p">(</span><span class="n">NtvConnector</span><span class="p">):</span>
</span><span id="SeriesConnec-354"><a href="#SeriesConnec-354"><span class="linenos">354</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;NTV connector for pandas Series</span>
</span><span id="SeriesConnec-355"><a href="#SeriesConnec-355"><span class="linenos">355</span></a>
</span><span id="SeriesConnec-356"><a href="#SeriesConnec-356"><span class="linenos">356</span></a><span class="sd">    Two static methods are included:</span>
</span><span id="SeriesConnec-357"><a href="#SeriesConnec-357"><span class="linenos">357</span></a>
</span><span id="SeriesConnec-358"><a href="#SeriesConnec-358"><span class="linenos">358</span></a><span class="sd">    - to_idx: convert a Series in categorical data</span>
</span><span id="SeriesConnec-359"><a href="#SeriesConnec-359"><span class="linenos">359</span></a><span class="sd">    - to_series: return a Series from Field data</span>
</span><span id="SeriesConnec-360"><a href="#SeriesConnec-360"><span class="linenos">360</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="SeriesConnec-361"><a href="#SeriesConnec-361"><span class="linenos">361</span></a>
</span><span id="SeriesConnec-362"><a href="#SeriesConnec-362"><span class="linenos">362</span></a>    <span class="n">clas_obj</span> <span class="o">=</span> <span class="s2">&quot;Series&quot;</span>
</span><span id="SeriesConnec-363"><a href="#SeriesConnec-363"><span class="linenos">363</span></a>    <span class="n">clas_typ</span> <span class="o">=</span> <span class="s2">&quot;field&quot;</span>
</span><span id="SeriesConnec-364"><a href="#SeriesConnec-364"><span class="linenos">364</span></a>    <span class="n">config</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">()</span>
</span><span id="SeriesConnec-365"><a href="#SeriesConnec-365"><span class="linenos">365</span></a>    <span class="n">config</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">path_ntv_pandas</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s2">&quot;ntv_pandas.ini&quot;</span><span class="p">))</span>
</span><span id="SeriesConnec-366"><a href="#SeriesConnec-366"><span class="linenos">366</span></a>    <span class="n">types</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
</span><span id="SeriesConnec-367"><a href="#SeriesConnec-367"><span class="linenos">367</span></a>        <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;type&quot;</span><span class="p">]),</span> <span class="n">columns</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;column&quot;</span><span class="p">])</span>
</span><span id="SeriesConnec-368"><a href="#SeriesConnec-368"><span class="linenos">368</span></a>    <span class="p">)</span>
</span><span id="SeriesConnec-369"><a href="#SeriesConnec-369"><span class="linenos">369</span></a>    <span class="n">astype</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;astype&quot;</span><span class="p">])</span>
</span><span id="SeriesConnec-370"><a href="#SeriesConnec-370"><span class="linenos">370</span></a>    <span class="n">deftype</span> <span class="o">=</span> <span class="p">{</span><span class="n">val</span><span class="p">:</span> <span class="n">key</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">astype</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
</span><span id="SeriesConnec-371"><a href="#SeriesConnec-371"><span class="linenos">371</span></a>    <span class="n">config</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">()</span>
</span><span id="SeriesConnec-372"><a href="#SeriesConnec-372"><span class="linenos">372</span></a>    <span class="n">config</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">path_ntv_pandas</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s2">&quot;ntv_table.ini&quot;</span><span class="p">))</span>
</span><span id="SeriesConnec-373"><a href="#SeriesConnec-373"><span class="linenos">373</span></a>    <span class="n">table</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
</span><span id="SeriesConnec-374"><a href="#SeriesConnec-374"><span class="linenos">374</span></a>        <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;mapping&quot;</span><span class="p">]),</span>
</span><span id="SeriesConnec-375"><a href="#SeriesConnec-375"><span class="linenos">375</span></a>        <span class="n">columns</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;column&quot;</span><span class="p">]),</span>
</span><span id="SeriesConnec-376"><a href="#SeriesConnec-376"><span class="linenos">376</span></a>    <span class="p">)</span>
</span><span id="SeriesConnec-377"><a href="#SeriesConnec-377"><span class="linenos">377</span></a>    <span class="n">typtab</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
</span><span id="SeriesConnec-378"><a href="#SeriesConnec-378"><span class="linenos">378</span></a>        <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;type&quot;</span><span class="p">]),</span>
</span><span id="SeriesConnec-379"><a href="#SeriesConnec-379"><span class="linenos">379</span></a>        <span class="n">columns</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;col_type&quot;</span><span class="p">]),</span>
</span><span id="SeriesConnec-380"><a href="#SeriesConnec-380"><span class="linenos">380</span></a>    <span class="p">)</span>
</span><span id="SeriesConnec-381"><a href="#SeriesConnec-381"><span class="linenos">381</span></a>
</span><span id="SeriesConnec-382"><a href="#SeriesConnec-382"><span class="linenos">382</span></a>    <span class="nd">@staticmethod</span>
</span><span id="SeriesConnec-383"><a href="#SeriesConnec-383"><span class="linenos">383</span></a>    <span class="k">def</span> <span class="nf">to_obj_ntv</span><span class="p">(</span><span class="n">ntv_value</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="SeriesConnec-384"><a href="#SeriesConnec-384"><span class="linenos">384</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a Series Object from a Ntv field object</span>
</span><span id="SeriesConnec-385"><a href="#SeriesConnec-385"><span class="linenos">385</span></a>
</span><span id="SeriesConnec-386"><a href="#SeriesConnec-386"><span class="linenos">386</span></a><span class="sd">        *Parameters*</span>
</span><span id="SeriesConnec-387"><a href="#SeriesConnec-387"><span class="linenos">387</span></a>
</span><span id="SeriesConnec-388"><a href="#SeriesConnec-388"><span class="linenos">388</span></a><span class="sd">        - **ntv_value**: Ntv object or Ntv value - value to convert in Series</span>
</span><span id="SeriesConnec-389"><a href="#SeriesConnec-389"><span class="linenos">389</span></a>
</span><span id="SeriesConnec-390"><a href="#SeriesConnec-390"><span class="linenos">390</span></a><span class="sd">        *parameters (kwargs)*</span>
</span><span id="SeriesConnec-391"><a href="#SeriesConnec-391"><span class="linenos">391</span></a>
</span><span id="SeriesConnec-392"><a href="#SeriesConnec-392"><span class="linenos">392</span></a><span class="sd">        - **extkeys**: list (default None) - keys to use if not present in ntv_value</span>
</span><span id="SeriesConnec-393"><a href="#SeriesConnec-393"><span class="linenos">393</span></a><span class="sd">        - **decode_str**: boolean (default False) - if True, string values are converted</span>
</span><span id="SeriesConnec-394"><a href="#SeriesConnec-394"><span class="linenos">394</span></a><span class="sd">        in object values</span>
</span><span id="SeriesConnec-395"><a href="#SeriesConnec-395"><span class="linenos">395</span></a><span class="sd">        - **index**: list (default None) - if present, add the index in Series</span>
</span><span id="SeriesConnec-396"><a href="#SeriesConnec-396"><span class="linenos">396</span></a><span class="sd">        - **leng**: integer (default None) - leng of the Series (used with single codec value)</span>
</span><span id="SeriesConnec-397"><a href="#SeriesConnec-397"><span class="linenos">397</span></a><span class="sd">        - **alias**: boolean (default False) - if True, convert dtype in alias dtype</span>
</span><span id="SeriesConnec-398"><a href="#SeriesConnec-398"><span class="linenos">398</span></a><span class="sd">        - **annotated**: boolean (default False) - if True, ntv_codec names are ignored</span>
</span><span id="SeriesConnec-399"><a href="#SeriesConnec-399"><span class="linenos">399</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SeriesConnec-400"><a href="#SeriesConnec-400"><span class="linenos">400</span></a>        <span class="n">option</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="SeriesConnec-401"><a href="#SeriesConnec-401"><span class="linenos">401</span></a>            <span class="s2">&quot;extkeys&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="SeriesConnec-402"><a href="#SeriesConnec-402"><span class="linenos">402</span></a>            <span class="s2">&quot;decode_str&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="SeriesConnec-403"><a href="#SeriesConnec-403"><span class="linenos">403</span></a>            <span class="s2">&quot;leng&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="SeriesConnec-404"><a href="#SeriesConnec-404"><span class="linenos">404</span></a>            <span class="s2">&quot;annotated&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="SeriesConnec-405"><a href="#SeriesConnec-405"><span class="linenos">405</span></a>        <span class="p">}</span> <span class="o">|</span> <span class="n">kwargs</span>
</span><span id="SeriesConnec-406"><a href="#SeriesConnec-406"><span class="linenos">406</span></a>        <span class="k">if</span> <span class="n">ntv_value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SeriesConnec-407"><a href="#SeriesConnec-407"><span class="linenos">407</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="SeriesConnec-408"><a href="#SeriesConnec-408"><span class="linenos">408</span></a>        <span class="n">ntv</span> <span class="o">=</span> <span class="n">Ntv</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="n">ntv_value</span><span class="p">,</span> <span class="n">decode_str</span><span class="o">=</span><span class="n">option</span><span class="p">[</span><span class="s2">&quot;decode_str&quot;</span><span class="p">])</span>
</span><span id="SeriesConnec-409"><a href="#SeriesConnec-409"><span class="linenos">409</span></a>
</span><span id="SeriesConnec-410"><a href="#SeriesConnec-410"><span class="linenos">410</span></a>        <span class="n">ntv_name</span><span class="p">,</span> <span class="n">typ</span><span class="p">,</span> <span class="n">codec</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">ntv_keys</span><span class="p">,</span> <span class="n">coef</span><span class="p">,</span> <span class="n">leng_field</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="SeriesConnec-411"><a href="#SeriesConnec-411"><span class="linenos">411</span></a>            <span class="n">NtvUtil</span><span class="o">.</span><span class="n">decode_ntv_tab</span><span class="p">(</span><span class="n">ntv</span><span class="p">,</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">decode_ntv_to_val</span><span class="p">)</span>
</span><span id="SeriesConnec-412"><a href="#SeriesConnec-412"><span class="linenos">412</span></a>        <span class="p">)</span>
</span><span id="SeriesConnec-413"><a href="#SeriesConnec-413"><span class="linenos">413</span></a>        <span class="k">if</span> <span class="n">parent</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;extkeys&quot;</span><span class="p">]:</span>
</span><span id="SeriesConnec-414"><a href="#SeriesConnec-414"><span class="linenos">414</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="SeriesConnec-415"><a href="#SeriesConnec-415"><span class="linenos">415</span></a>        <span class="k">if</span> <span class="n">coef</span><span class="p">:</span>
</span><span id="SeriesConnec-416"><a href="#SeriesConnec-416"><span class="linenos">416</span></a>            <span class="n">ntv_keys</span> <span class="o">=</span> <span class="n">NtvConnector</span><span class="o">.</span><span class="n">keysfromcoef</span><span class="p">(</span>
</span><span id="SeriesConnec-417"><a href="#SeriesConnec-417"><span class="linenos">417</span></a>                <span class="n">coef</span><span class="p">,</span> <span class="n">leng_field</span> <span class="o">//</span> <span class="n">coef</span><span class="p">,</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;leng&quot;</span><span class="p">]</span>
</span><span id="SeriesConnec-418"><a href="#SeriesConnec-418"><span class="linenos">418</span></a>            <span class="p">)</span>
</span><span id="SeriesConnec-419"><a href="#SeriesConnec-419"><span class="linenos">419</span></a>        <span class="k">elif</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;extkeys&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="n">parent</span><span class="p">:</span>
</span><span id="SeriesConnec-420"><a href="#SeriesConnec-420"><span class="linenos">420</span></a>            <span class="n">ntv_keys</span> <span class="o">=</span> <span class="n">NtvConnector</span><span class="o">.</span><span class="n">keysfromderkeys</span><span class="p">(</span><span class="n">option</span><span class="p">[</span><span class="s2">&quot;extkeys&quot;</span><span class="p">],</span> <span class="n">ntv_keys</span><span class="p">)</span>
</span><span id="SeriesConnec-421"><a href="#SeriesConnec-421"><span class="linenos">421</span></a>        <span class="k">elif</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;extkeys&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">parent</span><span class="p">:</span>
</span><span id="SeriesConnec-422"><a href="#SeriesConnec-422"><span class="linenos">422</span></a>            <span class="n">ntv_keys</span> <span class="o">=</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;extkeys&quot;</span><span class="p">]</span>
</span><span id="SeriesConnec-423"><a href="#SeriesConnec-423"><span class="linenos">423</span></a>        <span class="n">ntv_codec</span> <span class="o">=</span> <span class="n">Ntv</span><span class="o">.</span><span class="n">fast</span><span class="p">(</span><span class="n">Ntv</span><span class="o">.</span><span class="n">obj_ntv</span><span class="p">(</span><span class="n">codec</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="n">typ</span><span class="p">,</span> <span class="n">single</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">codec</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">))</span>
</span><span id="SeriesConnec-424"><a href="#SeriesConnec-424"><span class="linenos">424</span></a>        <span class="k">return</span> <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">to_series</span><span class="p">(</span><span class="n">ntv_codec</span><span class="p">,</span> <span class="n">ntv_name</span><span class="p">,</span> <span class="n">ntv_keys</span><span class="p">,</span> <span class="o">**</span><span class="n">option</span><span class="p">)</span>
</span><span id="SeriesConnec-425"><a href="#SeriesConnec-425"><span class="linenos">425</span></a>
</span><span id="SeriesConnec-426"><a href="#SeriesConnec-426"><span class="linenos">426</span></a>    <span class="nd">@staticmethod</span>
</span><span id="SeriesConnec-427"><a href="#SeriesConnec-427"><span class="linenos">427</span></a>    <span class="k">def</span> <span class="nf">to_json_ntv</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="SeriesConnec-428"><a href="#SeriesConnec-428"><span class="linenos">428</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;convert a Series (value, name, type) into NTV json (json-value, name, type).</span>
</span><span id="SeriesConnec-429"><a href="#SeriesConnec-429"><span class="linenos">429</span></a>
</span><span id="SeriesConnec-430"><a href="#SeriesConnec-430"><span class="linenos">430</span></a><span class="sd">        *Parameters*</span>
</span><span id="SeriesConnec-431"><a href="#SeriesConnec-431"><span class="linenos">431</span></a>
</span><span id="SeriesConnec-432"><a href="#SeriesConnec-432"><span class="linenos">432</span></a><span class="sd">        - **typ** : string (default None) - type of the NTV object,</span>
</span><span id="SeriesConnec-433"><a href="#SeriesConnec-433"><span class="linenos">433</span></a><span class="sd">        - **name** : string (default None) - name of the NTV object</span>
</span><span id="SeriesConnec-434"><a href="#SeriesConnec-434"><span class="linenos">434</span></a><span class="sd">        - **value** : Series values</span>
</span><span id="SeriesConnec-435"><a href="#SeriesConnec-435"><span class="linenos">435</span></a><span class="sd">        - **table** : boolean (default False) - if True return (ntv_value, ntv_name, ntv_type)</span>
</span><span id="SeriesConnec-436"><a href="#SeriesConnec-436"><span class="linenos">436</span></a><span class="sd">        - **no_val** : boolean (default False) - if True return (ntv_name, ntv_type)&quot;&quot;&quot;</span>
</span><span id="SeriesConnec-437"><a href="#SeriesConnec-437"><span class="linenos">437</span></a>
</span><span id="SeriesConnec-438"><a href="#SeriesConnec-438"><span class="linenos">438</span></a>        <span class="n">table</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="SeriesConnec-439"><a href="#SeriesConnec-439"><span class="linenos">439</span></a>        <span class="n">no_val</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;no_val&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="SeriesConnec-440"><a href="#SeriesConnec-440"><span class="linenos">440</span></a>        <span class="n">srs</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">SeriesConnec</span><span class="o">.</span><span class="n">astype</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
</span><span id="SeriesConnec-441"><a href="#SeriesConnec-441"><span class="linenos">441</span></a>        <span class="n">sr_name</span> <span class="o">=</span> <span class="n">srs</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="n">srs</span><span class="o">.</span><span class="n">name</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
</span><span id="SeriesConnec-442"><a href="#SeriesConnec-442"><span class="linenos">442</span></a>        <span class="n">ntv_name</span><span class="p">,</span> <span class="n">name_type</span> <span class="o">=</span> <span class="n">NtvUtil</span><span class="o">.</span><span class="n">from_obj_name</span><span class="p">(</span><span class="n">sr_name</span><span class="p">)[:</span><span class="mi">2</span><span class="p">]</span>
</span><span id="SeriesConnec-443"><a href="#SeriesConnec-443"><span class="linenos">443</span></a>
</span><span id="SeriesConnec-444"><a href="#SeriesConnec-444"><span class="linenos">444</span></a>        <span class="k">if</span> <span class="n">table</span><span class="p">:</span>
</span><span id="SeriesConnec-445"><a href="#SeriesConnec-445"><span class="linenos">445</span></a>            <span class="n">ntv_type</span> <span class="o">=</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">ntv_type</span><span class="p">(</span><span class="n">name_type</span><span class="p">,</span> <span class="n">srs</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="SeriesConnec-446"><a href="#SeriesConnec-446"><span class="linenos">446</span></a>            <span class="n">ntv_value</span> <span class="o">=</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">table_val</span><span class="p">(</span><span class="n">ntv_type</span><span class="p">,</span> <span class="n">ntv_name</span><span class="p">,</span> <span class="n">srs</span><span class="p">)</span>
</span><span id="SeriesConnec-447"><a href="#SeriesConnec-447"><span class="linenos">447</span></a>            <span class="k">if</span> <span class="n">no_val</span><span class="p">:</span>
</span><span id="SeriesConnec-448"><a href="#SeriesConnec-448"><span class="linenos">448</span></a>                <span class="k">return</span> <span class="p">(</span><span class="n">ntv_name</span><span class="p">,</span> <span class="n">ntv_type</span><span class="p">)</span>
</span><span id="SeriesConnec-449"><a href="#SeriesConnec-449"><span class="linenos">449</span></a>            <span class="k">return</span> <span class="p">(</span><span class="n">ntv_value</span><span class="p">,</span> <span class="n">ntv_name</span><span class="p">,</span> <span class="n">ntv_type</span><span class="p">)</span>
</span><span id="SeriesConnec-450"><a href="#SeriesConnec-450"><span class="linenos">450</span></a>        <span class="k">if</span> <span class="n">srs</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;category&quot;</span><span class="p">:</span>
</span><span id="SeriesConnec-451"><a href="#SeriesConnec-451"><span class="linenos">451</span></a>            <span class="n">cdc</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">srs</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">categories</span><span class="p">)</span>
</span><span id="SeriesConnec-452"><a href="#SeriesConnec-452"><span class="linenos">452</span></a>            <span class="n">ntv_type</span> <span class="o">=</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">ntv_type</span><span class="p">(</span><span class="n">name_type</span><span class="p">,</span> <span class="n">cdc</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</span><span id="SeriesConnec-453"><a href="#SeriesConnec-453"><span class="linenos">453</span></a>            <span class="n">cat_value</span> <span class="o">=</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">ntv_val</span><span class="p">(</span><span class="n">ntv_type</span><span class="p">,</span> <span class="n">cdc</span><span class="p">)</span>
</span><span id="SeriesConnec-454"><a href="#SeriesConnec-454"><span class="linenos">454</span></a>            <span class="n">cat_value</span> <span class="o">=</span> <span class="n">NtvList</span><span class="p">(</span><span class="n">cat_value</span><span class="p">,</span> <span class="n">ntv_type</span><span class="o">=</span><span class="n">ntv_type</span><span class="p">)</span>
</span><span id="SeriesConnec-455"><a href="#SeriesConnec-455"><span class="linenos">455</span></a>            <span class="n">cod_value</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">srs</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span><span class="p">)</span>
</span><span id="SeriesConnec-456"><a href="#SeriesConnec-456"><span class="linenos">456</span></a>            <span class="n">coef</span> <span class="o">=</span> <span class="n">NtvConnector</span><span class="o">.</span><span class="n">encode_coef</span><span class="p">(</span><span class="n">cod_value</span><span class="p">)</span>
</span><span id="SeriesConnec-457"><a href="#SeriesConnec-457"><span class="linenos">457</span></a>            <span class="n">ntv_value</span> <span class="o">=</span> <span class="p">[</span><span class="n">cat_value</span><span class="p">,</span> <span class="n">NtvList</span><span class="p">([</span><span class="n">coef</span><span class="p">])</span> <span class="k">if</span> <span class="n">coef</span> <span class="k">else</span> <span class="n">NtvList</span><span class="p">(</span><span class="n">cod_value</span><span class="p">)]</span>
</span><span id="SeriesConnec-458"><a href="#SeriesConnec-458"><span class="linenos">458</span></a>            <span class="n">ntv_type</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SeriesConnec-459"><a href="#SeriesConnec-459"><span class="linenos">459</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SeriesConnec-460"><a href="#SeriesConnec-460"><span class="linenos">460</span></a>            <span class="n">ntv_type</span> <span class="o">=</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">ntv_type</span><span class="p">(</span><span class="n">name_type</span><span class="p">,</span> <span class="n">srs</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</span><span id="SeriesConnec-461"><a href="#SeriesConnec-461"><span class="linenos">461</span></a>            <span class="n">ntv_value</span> <span class="o">=</span> <span class="n">Ntv</span><span class="o">.</span><span class="n">from_obj</span><span class="p">(</span>
</span><span id="SeriesConnec-462"><a href="#SeriesConnec-462"><span class="linenos">462</span></a>                <span class="n">PdUtil</span><span class="o">.</span><span class="n">ntv_val</span><span class="p">(</span><span class="n">ntv_type</span><span class="p">,</span> <span class="n">srs</span><span class="p">),</span> <span class="n">def_type</span><span class="o">=</span><span class="n">ntv_type</span>
</span><span id="SeriesConnec-463"><a href="#SeriesConnec-463"><span class="linenos">463</span></a>            <span class="p">)</span><span class="o">.</span><span class="n">ntv_value</span>
</span><span id="SeriesConnec-464"><a href="#SeriesConnec-464"><span class="linenos">464</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ntv_value</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="SeriesConnec-465"><a href="#SeriesConnec-465"><span class="linenos">465</span></a>            <span class="n">ntv_value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_name</span><span class="p">(</span><span class="n">ntv_name</span><span class="p">)</span>
</span><span id="SeriesConnec-466"><a href="#SeriesConnec-466"><span class="linenos">466</span></a>            <span class="k">return</span> <span class="p">(</span>
</span><span id="SeriesConnec-467"><a href="#SeriesConnec-467"><span class="linenos">467</span></a>                <span class="n">ntv_value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">to_obj</span><span class="p">(),</span>
</span><span id="SeriesConnec-468"><a href="#SeriesConnec-468"><span class="linenos">468</span></a>                <span class="n">name</span><span class="p">,</span>
</span><span id="SeriesConnec-469"><a href="#SeriesConnec-469"><span class="linenos">469</span></a>                <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">clas_typ</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">typ</span> <span class="k">else</span> <span class="n">typ</span><span class="p">,</span>
</span><span id="SeriesConnec-470"><a href="#SeriesConnec-470"><span class="linenos">470</span></a>            <span class="p">)</span>
</span><span id="SeriesConnec-471"><a href="#SeriesConnec-471"><span class="linenos">471</span></a>        <span class="k">return</span> <span class="p">(</span>
</span><span id="SeriesConnec-472"><a href="#SeriesConnec-472"><span class="linenos">472</span></a>            <span class="n">NtvList</span><span class="p">(</span><span class="n">ntv_value</span><span class="p">,</span> <span class="n">ntv_name</span><span class="p">,</span> <span class="n">ntv_type</span><span class="p">)</span><span class="o">.</span><span class="n">to_obj</span><span class="p">(),</span>
</span><span id="SeriesConnec-473"><a href="#SeriesConnec-473"><span class="linenos">473</span></a>            <span class="n">name</span><span class="p">,</span>
</span><span id="SeriesConnec-474"><a href="#SeriesConnec-474"><span class="linenos">474</span></a>            <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">clas_typ</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">typ</span> <span class="k">else</span> <span class="n">typ</span><span class="p">,</span>
</span><span id="SeriesConnec-475"><a href="#SeriesConnec-475"><span class="linenos">475</span></a>        <span class="p">)</span>
</span><span id="SeriesConnec-476"><a href="#SeriesConnec-476"><span class="linenos">476</span></a>
</span><span id="SeriesConnec-477"><a href="#SeriesConnec-477"><span class="linenos">477</span></a>    <span class="nd">@staticmethod</span>
</span><span id="SeriesConnec-478"><a href="#SeriesConnec-478"><span class="linenos">478</span></a>    <span class="k">def</span> <span class="nf">to_idx</span><span class="p">(</span><span class="n">ser</span><span class="p">):</span>
</span><span id="SeriesConnec-479"><a href="#SeriesConnec-479"><span class="linenos">479</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;convert a Series in categorical data</span>
</span><span id="SeriesConnec-480"><a href="#SeriesConnec-480"><span class="linenos">480</span></a>
</span><span id="SeriesConnec-481"><a href="#SeriesConnec-481"><span class="linenos">481</span></a><span class="sd">        *return (dict)*</span>
</span><span id="SeriesConnec-482"><a href="#SeriesConnec-482"><span class="linenos">482</span></a>
</span><span id="SeriesConnec-483"><a href="#SeriesConnec-483"><span class="linenos">483</span></a><span class="sd">        { &#39;codec&#39;: &#39;list of pandas categories&#39;,</span>
</span><span id="SeriesConnec-484"><a href="#SeriesConnec-484"><span class="linenos">484</span></a><span class="sd">          &#39;name&#39;: &#39;name of the series&#39;,</span>
</span><span id="SeriesConnec-485"><a href="#SeriesConnec-485"><span class="linenos">485</span></a><span class="sd">          &#39;keys&#39;: &#39;list of pandas codes&#39; }</span>
</span><span id="SeriesConnec-486"><a href="#SeriesConnec-486"><span class="linenos">486</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SeriesConnec-487"><a href="#SeriesConnec-487"><span class="linenos">487</span></a>        <span class="n">idx</span> <span class="o">=</span> <span class="n">ser</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;category&quot;</span><span class="p">)</span>
</span><span id="SeriesConnec-488"><a href="#SeriesConnec-488"><span class="linenos">488</span></a>        <span class="n">lis</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">idx</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">categories</span><span class="p">)</span>
</span><span id="SeriesConnec-489"><a href="#SeriesConnec-489"><span class="linenos">489</span></a>        <span class="k">if</span> <span class="n">lis</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">lis</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pd</span><span class="o">.</span><span class="n">_libs</span><span class="o">.</span><span class="n">tslibs</span><span class="o">.</span><span class="n">timestamps</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">):</span>
</span><span id="SeriesConnec-490"><a href="#SeriesConnec-490"><span class="linenos">490</span></a>            <span class="n">lis</span> <span class="o">=</span> <span class="p">[</span><span class="n">ts</span><span class="o">.</span><span class="n">to_pydatetime</span><span class="p">()</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span> <span class="k">for</span> <span class="n">ts</span> <span class="ow">in</span> <span class="n">lis</span><span class="p">]</span>
</span><span id="SeriesConnec-491"><a href="#SeriesConnec-491"><span class="linenos">491</span></a>        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;codec&quot;</span><span class="p">:</span> <span class="n">lis</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">ser</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;keys&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">idx</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span><span class="p">)}</span>
</span><span id="SeriesConnec-492"><a href="#SeriesConnec-492"><span class="linenos">492</span></a>
</span><span id="SeriesConnec-493"><a href="#SeriesConnec-493"><span class="linenos">493</span></a>    <span class="nd">@staticmethod</span>
</span><span id="SeriesConnec-494"><a href="#SeriesConnec-494"><span class="linenos">494</span></a>    <span class="k">def</span> <span class="nf">to_series</span><span class="p">(</span><span class="n">ntv_codec</span><span class="p">,</span> <span class="n">ntv_name</span><span class="p">,</span> <span class="n">ntv_keys</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="SeriesConnec-495"><a href="#SeriesConnec-495"><span class="linenos">495</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;return a pd.Series from Field data (codec, name, keys)</span>
</span><span id="SeriesConnec-496"><a href="#SeriesConnec-496"><span class="linenos">496</span></a>
</span><span id="SeriesConnec-497"><a href="#SeriesConnec-497"><span class="linenos">497</span></a><span class="sd">        *Parameters*</span>
</span><span id="SeriesConnec-498"><a href="#SeriesConnec-498"><span class="linenos">498</span></a>
</span><span id="SeriesConnec-499"><a href="#SeriesConnec-499"><span class="linenos">499</span></a><span class="sd">        - **ntv_codec**: Ntv object - codec value to convert in Series values</span>
</span><span id="SeriesConnec-500"><a href="#SeriesConnec-500"><span class="linenos">500</span></a><span class="sd">        - **ntv_type**: string - default type to apply to convert in dtype</span>
</span><span id="SeriesConnec-501"><a href="#SeriesConnec-501"><span class="linenos">501</span></a><span class="sd">        - **ntv_name**: string - name of the Series</span>
</span><span id="SeriesConnec-502"><a href="#SeriesConnec-502"><span class="linenos">502</span></a>
</span><span id="SeriesConnec-503"><a href="#SeriesConnec-503"><span class="linenos">503</span></a><span class="sd">        *parameters (kwargs)*</span>
</span><span id="SeriesConnec-504"><a href="#SeriesConnec-504"><span class="linenos">504</span></a>
</span><span id="SeriesConnec-505"><a href="#SeriesConnec-505"><span class="linenos">505</span></a><span class="sd">        - **index**: list (default None) - if present, add the index in Series</span>
</span><span id="SeriesConnec-506"><a href="#SeriesConnec-506"><span class="linenos">506</span></a><span class="sd">        - **leng**: integer (default None) - leng of the Series (used with single codec value)</span>
</span><span id="SeriesConnec-507"><a href="#SeriesConnec-507"><span class="linenos">507</span></a><span class="sd">        - **alias**: boolean (default False) - if True, convert dtype in alias dtype</span>
</span><span id="SeriesConnec-508"><a href="#SeriesConnec-508"><span class="linenos">508</span></a><span class="sd">        - **annotated**: boolean (default False) - if True, ntv_codec names are ignored</span>
</span><span id="SeriesConnec-509"><a href="#SeriesConnec-509"><span class="linenos">509</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SeriesConnec-510"><a href="#SeriesConnec-510"><span class="linenos">510</span></a>        <span class="n">option</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="SeriesConnec-511"><a href="#SeriesConnec-511"><span class="linenos">511</span></a>            <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="SeriesConnec-512"><a href="#SeriesConnec-512"><span class="linenos">512</span></a>            <span class="s2">&quot;leng&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="SeriesConnec-513"><a href="#SeriesConnec-513"><span class="linenos">513</span></a>            <span class="s2">&quot;alias&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="SeriesConnec-514"><a href="#SeriesConnec-514"><span class="linenos">514</span></a>            <span class="s2">&quot;annotated&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="SeriesConnec-515"><a href="#SeriesConnec-515"><span class="linenos">515</span></a>        <span class="p">}</span> <span class="o">|</span> <span class="n">kwargs</span>
</span><span id="SeriesConnec-516"><a href="#SeriesConnec-516"><span class="linenos">516</span></a>        <span class="n">types</span> <span class="o">=</span> <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;ntv_type&quot;</span><span class="p">)</span>
</span><span id="SeriesConnec-517"><a href="#SeriesConnec-517"><span class="linenos">517</span></a>        <span class="n">astype</span> <span class="o">=</span> <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">astype</span>
</span><span id="SeriesConnec-518"><a href="#SeriesConnec-518"><span class="linenos">518</span></a>        <span class="n">leng</span> <span class="o">=</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;leng&quot;</span><span class="p">]</span>
</span><span id="SeriesConnec-519"><a href="#SeriesConnec-519"><span class="linenos">519</span></a>
</span><span id="SeriesConnec-520"><a href="#SeriesConnec-520"><span class="linenos">520</span></a>        <span class="n">ntv_type</span> <span class="o">=</span> <span class="n">ntv_codec</span><span class="o">.</span><span class="n">type_str</span>
</span><span id="SeriesConnec-521"><a href="#SeriesConnec-521"><span class="linenos">521</span></a>        <span class="n">len_unique</span> <span class="o">=</span> <span class="n">leng</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ntv_codec</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">leng</span> <span class="k">else</span> <span class="mi">1</span>
</span><span id="SeriesConnec-522"><a href="#SeriesConnec-522"><span class="linenos">522</span></a>        <span class="n">pd_convert</span> <span class="o">=</span> <span class="n">ntv_type</span> <span class="ow">in</span> <span class="n">types</span><span class="o">.</span><span class="n">index</span>
</span><span id="SeriesConnec-523"><a href="#SeriesConnec-523"><span class="linenos">523</span></a>
</span><span id="SeriesConnec-524"><a href="#SeriesConnec-524"><span class="linenos">524</span></a>        <span class="n">pd_name</span><span class="p">,</span> <span class="n">name_type</span><span class="p">,</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">pd_name</span><span class="p">(</span><span class="n">ntv_name</span><span class="p">,</span> <span class="n">ntv_type</span><span class="p">,</span> <span class="n">pd_convert</span><span class="p">)</span>
</span><span id="SeriesConnec-525"><a href="#SeriesConnec-525"><span class="linenos">525</span></a>        <span class="n">ntv_obj</span> <span class="o">=</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">ntv_obj</span><span class="p">(</span>
</span><span id="SeriesConnec-526"><a href="#SeriesConnec-526"><span class="linenos">526</span></a>            <span class="n">ntv_codec</span><span class="p">,</span>
</span><span id="SeriesConnec-527"><a href="#SeriesConnec-527"><span class="linenos">527</span></a>            <span class="n">name_type</span> <span class="k">if</span> <span class="n">pd_convert</span> <span class="k">else</span> <span class="n">ntv_type</span><span class="p">,</span>
</span><span id="SeriesConnec-528"><a href="#SeriesConnec-528"><span class="linenos">528</span></a>            <span class="n">option</span><span class="p">[</span><span class="s2">&quot;annotated&quot;</span><span class="p">],</span>
</span><span id="SeriesConnec-529"><a href="#SeriesConnec-529"><span class="linenos">529</span></a>            <span class="n">pd_convert</span><span class="p">,</span>
</span><span id="SeriesConnec-530"><a href="#SeriesConnec-530"><span class="linenos">530</span></a>        <span class="p">)</span>
</span><span id="SeriesConnec-531"><a href="#SeriesConnec-531"><span class="linenos">531</span></a>        <span class="k">if</span> <span class="n">ntv_keys</span><span class="p">:</span>
</span><span id="SeriesConnec-532"><a href="#SeriesConnec-532"><span class="linenos">532</span></a>            <span class="k">if</span> <span class="n">pd_convert</span> <span class="ow">and</span> <span class="n">name_type</span> <span class="o">!=</span> <span class="s2">&quot;array&quot;</span><span class="p">:</span>
</span><span id="SeriesConnec-533"><a href="#SeriesConnec-533"><span class="linenos">533</span></a>                <span class="n">categ</span> <span class="o">=</span> <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">_from_json</span><span class="p">(</span><span class="n">ntv_obj</span><span class="p">,</span> <span class="n">dtype</span><span class="p">,</span> <span class="n">ntv_type</span><span class="p">)</span>
</span><span id="SeriesConnec-534"><a href="#SeriesConnec-534"><span class="linenos">534</span></a>                <span class="n">cat_type</span> <span class="o">=</span> <span class="n">categ</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span>
</span><span id="SeriesConnec-535"><a href="#SeriesConnec-535"><span class="linenos">535</span></a>                <span class="n">categories</span> <span class="o">=</span> <span class="n">categ</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">astype</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">cat_type</span><span class="p">,</span> <span class="n">cat_type</span><span class="p">))</span>
</span><span id="SeriesConnec-536"><a href="#SeriesConnec-536"><span class="linenos">536</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="SeriesConnec-537"><a href="#SeriesConnec-537"><span class="linenos">537</span></a>                <span class="n">categories</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">ntv_obj</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;object&quot;</span><span class="p">)</span>
</span><span id="SeriesConnec-538"><a href="#SeriesConnec-538"><span class="linenos">538</span></a>            <span class="n">cat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">CategoricalDtype</span><span class="p">(</span><span class="n">categories</span><span class="o">=</span><span class="n">categories</span><span class="p">)</span>
</span><span id="SeriesConnec-539"><a href="#SeriesConnec-539"><span class="linenos">539</span></a>            <span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="o">.</span><span class="n">from_codes</span><span class="p">(</span><span class="n">codes</span><span class="o">=</span><span class="n">ntv_keys</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">cat</span><span class="p">)</span>
</span><span id="SeriesConnec-540"><a href="#SeriesConnec-540"><span class="linenos">540</span></a>            <span class="n">srs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">pd_name</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">option</span><span class="p">[</span><span class="s2">&quot;index&quot;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;category&quot;</span><span class="p">)</span>
</span><span id="SeriesConnec-541"><a href="#SeriesConnec-541"><span class="linenos">541</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SeriesConnec-542"><a href="#SeriesConnec-542"><span class="linenos">542</span></a>            <span class="n">data</span> <span class="o">=</span> <span class="n">ntv_obj</span> <span class="o">*</span> <span class="n">len_unique</span>
</span><span id="SeriesConnec-543"><a href="#SeriesConnec-543"><span class="linenos">543</span></a>            <span class="k">if</span> <span class="n">pd_convert</span><span class="p">:</span>
</span><span id="SeriesConnec-544"><a href="#SeriesConnec-544"><span class="linenos">544</span></a>                <span class="n">srs</span> <span class="o">=</span> <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">_from_json</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">dtype</span><span class="p">,</span> <span class="n">ntv_type</span><span class="p">,</span> <span class="n">pd_name</span><span class="p">)</span>
</span><span id="SeriesConnec-545"><a href="#SeriesConnec-545"><span class="linenos">545</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="SeriesConnec-546"><a href="#SeriesConnec-546"><span class="linenos">546</span></a>                <span class="n">srs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">pd_name</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">)</span>
</span><span id="SeriesConnec-547"><a href="#SeriesConnec-547"><span class="linenos">547</span></a>
</span><span id="SeriesConnec-548"><a href="#SeriesConnec-548"><span class="linenos">548</span></a>        <span class="k">if</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;alias&quot;</span><span class="p">]:</span>
</span><span id="SeriesConnec-549"><a href="#SeriesConnec-549"><span class="linenos">549</span></a>            <span class="k">return</span> <span class="n">srs</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">astype</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">srs</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">srs</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
</span><span id="SeriesConnec-550"><a href="#SeriesConnec-550"><span class="linenos">550</span></a>        <span class="k">return</span> <span class="n">srs</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">SeriesConnec</span><span class="o">.</span><span class="n">deftype</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">srs</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">srs</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
</span><span id="SeriesConnec-551"><a href="#SeriesConnec-551"><span class="linenos">551</span></a>
</span><span id="SeriesConnec-552"><a href="#SeriesConnec-552"><span class="linenos">552</span></a>    <span class="nd">@staticmethod</span>
</span><span id="SeriesConnec-553"><a href="#SeriesConnec-553"><span class="linenos">553</span></a>    <span class="k">def</span> <span class="nf">_from_json</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">dtype</span><span class="p">,</span> <span class="n">ntv_type</span><span class="p">,</span> <span class="n">pd_name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="SeriesConnec-554"><a href="#SeriesConnec-554"><span class="linenos">554</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;return a Series from a Json data.</span>
</span><span id="SeriesConnec-555"><a href="#SeriesConnec-555"><span class="linenos">555</span></a>
</span><span id="SeriesConnec-556"><a href="#SeriesConnec-556"><span class="linenos">556</span></a><span class="sd">        *Parameters*</span>
</span><span id="SeriesConnec-557"><a href="#SeriesConnec-557"><span class="linenos">557</span></a>
</span><span id="SeriesConnec-558"><a href="#SeriesConnec-558"><span class="linenos">558</span></a><span class="sd">        - **data**: Json-value - data to convert in a Series</span>
</span><span id="SeriesConnec-559"><a href="#SeriesConnec-559"><span class="linenos">559</span></a><span class="sd">        - **dtype**: string - dtype of the Series</span>
</span><span id="SeriesConnec-560"><a href="#SeriesConnec-560"><span class="linenos">560</span></a><span class="sd">        - **ntv_type**: string - default type to apply to convert in dtype</span>
</span><span id="SeriesConnec-561"><a href="#SeriesConnec-561"><span class="linenos">561</span></a><span class="sd">        - **pd_name**: string - name of the Series including ntv_type</span>
</span><span id="SeriesConnec-562"><a href="#SeriesConnec-562"><span class="linenos">562</span></a>
</span><span id="SeriesConnec-563"><a href="#SeriesConnec-563"><span class="linenos">563</span></a><span class="sd">        NTVvalue and a ntv_type&quot;&quot;&quot;</span>
</span><span id="SeriesConnec-564"><a href="#SeriesConnec-564"><span class="linenos">564</span></a>        <span class="n">srs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">)),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s2">&quot;series&quot;</span><span class="p">)</span>
</span><span id="SeriesConnec-565"><a href="#SeriesConnec-565"><span class="linenos">565</span></a>        <span class="k">if</span> <span class="n">pd_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SeriesConnec-566"><a href="#SeriesConnec-566"><span class="linenos">566</span></a>            <span class="n">srs</span> <span class="o">=</span> <span class="n">srs</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">pd_name</span><span class="p">)</span>
</span><span id="SeriesConnec-567"><a href="#SeriesConnec-567"><span class="linenos">567</span></a>        <span class="k">return</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">ntv_type</span><span class="p">,</span> <span class="n">srs</span><span class="p">,</span> <span class="n">tojson</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="SeriesConnec-568"><a href="#SeriesConnec-568"><span class="linenos">568</span></a>
</span><span id="SeriesConnec-569"><a href="#SeriesConnec-569"><span class="linenos">569</span></a>    <span class="nd">@staticmethod</span>
</span><span id="SeriesConnec-570"><a href="#SeriesConnec-570"><span class="linenos">570</span></a>    <span class="k">def</span> <span class="nf">equals</span><span class="p">(</span><span class="n">pdself</span><span class="p">,</span> <span class="n">pdother</span><span class="p">):</span>
</span><span id="SeriesConnec-571"><a href="#SeriesConnec-571"><span class="linenos">571</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;return True if pd.equals is True and names are equal and dtype of categories are equal&quot;&quot;&quot;</span>
</span><span id="SeriesConnec-572"><a href="#SeriesConnec-572"><span class="linenos">572</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">pdself</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pdother</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">)):</span>
</span><span id="SeriesConnec-573"><a href="#SeriesConnec-573"><span class="linenos">573</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="SeriesConnec-574"><a href="#SeriesConnec-574"><span class="linenos">574</span></a>        <span class="k">if</span> <span class="n">pdself</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">pdother</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
</span><span id="SeriesConnec-575"><a href="#SeriesConnec-575"><span class="linenos">575</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="SeriesConnec-576"><a href="#SeriesConnec-576"><span class="linenos">576</span></a>        <span class="n">type_cat</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">pdself</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="n">pdother</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;category&quot;</span>
</span><span id="SeriesConnec-577"><a href="#SeriesConnec-577"><span class="linenos">577</span></a>        <span class="k">if</span> <span class="n">type_cat</span><span class="p">:</span>
</span><span id="SeriesConnec-578"><a href="#SeriesConnec-578"><span class="linenos">578</span></a>            <span class="k">return</span> <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">pdself</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">categories</span><span class="p">,</span> <span class="n">pdother</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">categories</span><span class="p">)</span>
</span><span id="SeriesConnec-579"><a href="#SeriesConnec-579"><span class="linenos">579</span></a>        <span class="k">return</span> <span class="n">as_def_type</span><span class="p">(</span><span class="n">pdself</span><span class="p">)</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">as_def_type</span><span class="p">(</span><span class="n">pdother</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>NTV connector for pandas Series</p>

<p>Two static methods are included:</p>

<ul>
<li>to_idx: convert a Series in categorical data</li>
<li>to_series: return a Series from Field data</li>
</ul>
</div>


                            <div id="SeriesConnec.clas_obj" class="classattr">
                                <div class="attr variable">
            <span class="name">clas_obj</span>        =
<span class="default_value">&#39;Series&#39;</span>

        
    </div>
    <a class="headerlink" href="#SeriesConnec.clas_obj"></a>
    
    

                            </div>
                            <div id="SeriesConnec.clas_typ" class="classattr">
                                <div class="attr variable">
            <span class="name">clas_typ</span>        =
<span class="default_value">&#39;field&#39;</span>

        
    </div>
    <a class="headerlink" href="#SeriesConnec.clas_typ"></a>
    
    

                            </div>
                            <div id="SeriesConnec.config" class="classattr">
                                <div class="attr variable">
            <span class="name">config</span>        =
<span class="default_value">&lt;configparser.ConfigParser object&gt;</span>

        
    </div>
    <a class="headerlink" href="#SeriesConnec.config"></a>
    
    

                            </div>
                            <div id="SeriesConnec.types" class="classattr">
                                <div class="attr variable">
            <span class="name">types</span>        =
<input id="SeriesConnec.types-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="SeriesConnec.types-view-value"></label><span class="default_value">    ntv_type name_type            dtype
0                 None             None
1   duration      None  timedelta64[ns]
2   datetime      None   datetime64[ns]
3     string      None           string
4       json      None             None
5    float16      None          Float16
6    float32      None          Float32
7      uint8      None            UInt8
8     uint16      None           UInt16
9     uint32      None           UInt32
10    uint64      None           UInt64
11      int8      None             Int8
12     int16      None            Int16
13     int32      None            Int32
14       int       int            Int64
15     float     float          Float64
16    number    number          Float64
17     int64     int64            Int64
18   float64   float64          Float64
19   boolean   boolean          boolean
20     array     array           object
21    object    object           object
22      null      null           object
23    period    period           string
24       uri       uri           string
25     email     email           string
26      file      file           string
27      date      date           object
28      time      time           object
29     point     point           object
30      line      line           object
31   polygon   polygon           object
32  geometry  geometry           object
33   geojson   geojson           object
34     month     month             None
35      year      year             None
36       day       day             None
37      wday      wday             None
38      yday      yday             None
39      week      week             None
40      hour      hour             None
41    minute    minute             None
42    second    second             None</span>

        
    </div>
    <a class="headerlink" href="#SeriesConnec.types"></a>
    
    

                            </div>
                            <div id="SeriesConnec.astype" class="classattr">
                                <div class="attr variable">
            <span class="name">astype</span>        =
<input id="SeriesConnec.astype-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="SeriesConnec.astype-view-value"></label><span class="default_value">{&#39;uint8&#39;: &#39;UInt8&#39;, &#39;uint16&#39;: &#39;UInt16&#39;, &#39;uint32&#39;: &#39;UInt32&#39;, &#39;uint64&#39;: &#39;UInt64&#39;, &#39;int8&#39;: &#39;Int8&#39;, &#39;int16&#39;: &#39;Int16&#39;, &#39;int32&#39;: &#39;Int32&#39;, &#39;int64&#39;: &#39;Int64&#39;, &#39;float16&#39;: &#39;Float16&#39;, &#39;float32&#39;: &#39;Float32&#39;, &#39;float64&#39;: &#39;Float64&#39;, &#39;bool&#39;: &#39;boolean&#39;}</span>

        
    </div>
    <a class="headerlink" href="#SeriesConnec.astype"></a>
    
    

                            </div>
                            <div id="SeriesConnec.deftype" class="classattr">
                                <div class="attr variable">
            <span class="name">deftype</span>        =
<input id="SeriesConnec.deftype-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="SeriesConnec.deftype-view-value"></label><span class="default_value">{&#39;UInt8&#39;: &#39;uint8&#39;, &#39;UInt16&#39;: &#39;uint16&#39;, &#39;UInt32&#39;: &#39;uint32&#39;, &#39;UInt64&#39;: &#39;uint64&#39;, &#39;Int8&#39;: &#39;int8&#39;, &#39;Int16&#39;: &#39;int16&#39;, &#39;Int32&#39;: &#39;int32&#39;, &#39;Int64&#39;: &#39;int64&#39;, &#39;Float16&#39;: &#39;float16&#39;, &#39;Float32&#39;: &#39;float32&#39;, &#39;Float64&#39;: &#39;float64&#39;, &#39;boolean&#39;: &#39;bool&#39;}</span>

        
    </div>
    <a class="headerlink" href="#SeriesConnec.deftype"></a>
    
    

                            </div>
                            <div id="SeriesConnec.table" class="classattr">
                                <div class="attr variable">
            <span class="name">table</span>        =
<input id="SeriesConnec.table-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="SeriesConnec.table-view-value"></label><span class="default_value">    ntv_type    format       type
0        int   default    integer
1     number   default     number
2    boolean   default    boolean
3     string   default     string
4        uri       uri     string
5      email     email     string
6       json   default     object
7      array   default      array
8   duration   default   duration
9   datetime   default   datetime
10      date   default       date
11      time   default       time
12     month   default  yearmonth
13      year   default       year
14     point     array   geopoint
15   geojson   default    geojson
16   float64   float64     number
17     float     float     number
18   float16   float16     number
19   float32   float32     number
20     uint8     uint8    integer
21    uint16    uint16    integer
22    uint32    uint32    integer
23    uint64    uint64    integer
24      int8      int8    integer
25     int16     int16    integer
26     int32     int32    integer
27     int64     int64    integer
28      file      file     string
29      null      null     object
30    object    object     object
31       day       day       date
32      wday      wday       date
33      yday      yday       date
34      week      week       date
35      hour      hour       time
36    minute    minute       time
37    second    second       time
38  geometry  geometry    geojson
39   polygon   polygon    geojson
40      line      line    geojson</span>

        
    </div>
    <a class="headerlink" href="#SeriesConnec.table"></a>
    
    

                            </div>
                            <div id="SeriesConnec.typtab" class="classattr">
                                <div class="attr variable">
            <span class="name">typtab</span>        =
<input id="SeriesConnec.typtab-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="SeriesConnec.typtab-view-value"></label><span class="default_value">  ntv_type name_type    dtype
0      int      None    int64
1     json      None   object
2  boolean      None  boolean
3   number      None  float64</span>

        
    </div>
    <a class="headerlink" href="#SeriesConnec.typtab"></a>
    
    

                            </div>
                            <div id="SeriesConnec.to_obj_ntv" class="classattr">
                                        <input id="SeriesConnec.to_obj_ntv-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">to_obj_ntv</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">ntv_value</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SeriesConnec.to_obj_ntv-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SeriesConnec.to_obj_ntv"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SeriesConnec.to_obj_ntv-382"><a href="#SeriesConnec.to_obj_ntv-382"><span class="linenos">382</span></a>    <span class="nd">@staticmethod</span>
</span><span id="SeriesConnec.to_obj_ntv-383"><a href="#SeriesConnec.to_obj_ntv-383"><span class="linenos">383</span></a>    <span class="k">def</span> <span class="nf">to_obj_ntv</span><span class="p">(</span><span class="n">ntv_value</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="SeriesConnec.to_obj_ntv-384"><a href="#SeriesConnec.to_obj_ntv-384"><span class="linenos">384</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a Series Object from a Ntv field object</span>
</span><span id="SeriesConnec.to_obj_ntv-385"><a href="#SeriesConnec.to_obj_ntv-385"><span class="linenos">385</span></a>
</span><span id="SeriesConnec.to_obj_ntv-386"><a href="#SeriesConnec.to_obj_ntv-386"><span class="linenos">386</span></a><span class="sd">        *Parameters*</span>
</span><span id="SeriesConnec.to_obj_ntv-387"><a href="#SeriesConnec.to_obj_ntv-387"><span class="linenos">387</span></a>
</span><span id="SeriesConnec.to_obj_ntv-388"><a href="#SeriesConnec.to_obj_ntv-388"><span class="linenos">388</span></a><span class="sd">        - **ntv_value**: Ntv object or Ntv value - value to convert in Series</span>
</span><span id="SeriesConnec.to_obj_ntv-389"><a href="#SeriesConnec.to_obj_ntv-389"><span class="linenos">389</span></a>
</span><span id="SeriesConnec.to_obj_ntv-390"><a href="#SeriesConnec.to_obj_ntv-390"><span class="linenos">390</span></a><span class="sd">        *parameters (kwargs)*</span>
</span><span id="SeriesConnec.to_obj_ntv-391"><a href="#SeriesConnec.to_obj_ntv-391"><span class="linenos">391</span></a>
</span><span id="SeriesConnec.to_obj_ntv-392"><a href="#SeriesConnec.to_obj_ntv-392"><span class="linenos">392</span></a><span class="sd">        - **extkeys**: list (default None) - keys to use if not present in ntv_value</span>
</span><span id="SeriesConnec.to_obj_ntv-393"><a href="#SeriesConnec.to_obj_ntv-393"><span class="linenos">393</span></a><span class="sd">        - **decode_str**: boolean (default False) - if True, string values are converted</span>
</span><span id="SeriesConnec.to_obj_ntv-394"><a href="#SeriesConnec.to_obj_ntv-394"><span class="linenos">394</span></a><span class="sd">        in object values</span>
</span><span id="SeriesConnec.to_obj_ntv-395"><a href="#SeriesConnec.to_obj_ntv-395"><span class="linenos">395</span></a><span class="sd">        - **index**: list (default None) - if present, add the index in Series</span>
</span><span id="SeriesConnec.to_obj_ntv-396"><a href="#SeriesConnec.to_obj_ntv-396"><span class="linenos">396</span></a><span class="sd">        - **leng**: integer (default None) - leng of the Series (used with single codec value)</span>
</span><span id="SeriesConnec.to_obj_ntv-397"><a href="#SeriesConnec.to_obj_ntv-397"><span class="linenos">397</span></a><span class="sd">        - **alias**: boolean (default False) - if True, convert dtype in alias dtype</span>
</span><span id="SeriesConnec.to_obj_ntv-398"><a href="#SeriesConnec.to_obj_ntv-398"><span class="linenos">398</span></a><span class="sd">        - **annotated**: boolean (default False) - if True, ntv_codec names are ignored</span>
</span><span id="SeriesConnec.to_obj_ntv-399"><a href="#SeriesConnec.to_obj_ntv-399"><span class="linenos">399</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SeriesConnec.to_obj_ntv-400"><a href="#SeriesConnec.to_obj_ntv-400"><span class="linenos">400</span></a>        <span class="n">option</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="SeriesConnec.to_obj_ntv-401"><a href="#SeriesConnec.to_obj_ntv-401"><span class="linenos">401</span></a>            <span class="s2">&quot;extkeys&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="SeriesConnec.to_obj_ntv-402"><a href="#SeriesConnec.to_obj_ntv-402"><span class="linenos">402</span></a>            <span class="s2">&quot;decode_str&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="SeriesConnec.to_obj_ntv-403"><a href="#SeriesConnec.to_obj_ntv-403"><span class="linenos">403</span></a>            <span class="s2">&quot;leng&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="SeriesConnec.to_obj_ntv-404"><a href="#SeriesConnec.to_obj_ntv-404"><span class="linenos">404</span></a>            <span class="s2">&quot;annotated&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="SeriesConnec.to_obj_ntv-405"><a href="#SeriesConnec.to_obj_ntv-405"><span class="linenos">405</span></a>        <span class="p">}</span> <span class="o">|</span> <span class="n">kwargs</span>
</span><span id="SeriesConnec.to_obj_ntv-406"><a href="#SeriesConnec.to_obj_ntv-406"><span class="linenos">406</span></a>        <span class="k">if</span> <span class="n">ntv_value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SeriesConnec.to_obj_ntv-407"><a href="#SeriesConnec.to_obj_ntv-407"><span class="linenos">407</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="SeriesConnec.to_obj_ntv-408"><a href="#SeriesConnec.to_obj_ntv-408"><span class="linenos">408</span></a>        <span class="n">ntv</span> <span class="o">=</span> <span class="n">Ntv</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="n">ntv_value</span><span class="p">,</span> <span class="n">decode_str</span><span class="o">=</span><span class="n">option</span><span class="p">[</span><span class="s2">&quot;decode_str&quot;</span><span class="p">])</span>
</span><span id="SeriesConnec.to_obj_ntv-409"><a href="#SeriesConnec.to_obj_ntv-409"><span class="linenos">409</span></a>
</span><span id="SeriesConnec.to_obj_ntv-410"><a href="#SeriesConnec.to_obj_ntv-410"><span class="linenos">410</span></a>        <span class="n">ntv_name</span><span class="p">,</span> <span class="n">typ</span><span class="p">,</span> <span class="n">codec</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">ntv_keys</span><span class="p">,</span> <span class="n">coef</span><span class="p">,</span> <span class="n">leng_field</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="SeriesConnec.to_obj_ntv-411"><a href="#SeriesConnec.to_obj_ntv-411"><span class="linenos">411</span></a>            <span class="n">NtvUtil</span><span class="o">.</span><span class="n">decode_ntv_tab</span><span class="p">(</span><span class="n">ntv</span><span class="p">,</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">decode_ntv_to_val</span><span class="p">)</span>
</span><span id="SeriesConnec.to_obj_ntv-412"><a href="#SeriesConnec.to_obj_ntv-412"><span class="linenos">412</span></a>        <span class="p">)</span>
</span><span id="SeriesConnec.to_obj_ntv-413"><a href="#SeriesConnec.to_obj_ntv-413"><span class="linenos">413</span></a>        <span class="k">if</span> <span class="n">parent</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;extkeys&quot;</span><span class="p">]:</span>
</span><span id="SeriesConnec.to_obj_ntv-414"><a href="#SeriesConnec.to_obj_ntv-414"><span class="linenos">414</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="SeriesConnec.to_obj_ntv-415"><a href="#SeriesConnec.to_obj_ntv-415"><span class="linenos">415</span></a>        <span class="k">if</span> <span class="n">coef</span><span class="p">:</span>
</span><span id="SeriesConnec.to_obj_ntv-416"><a href="#SeriesConnec.to_obj_ntv-416"><span class="linenos">416</span></a>            <span class="n">ntv_keys</span> <span class="o">=</span> <span class="n">NtvConnector</span><span class="o">.</span><span class="n">keysfromcoef</span><span class="p">(</span>
</span><span id="SeriesConnec.to_obj_ntv-417"><a href="#SeriesConnec.to_obj_ntv-417"><span class="linenos">417</span></a>                <span class="n">coef</span><span class="p">,</span> <span class="n">leng_field</span> <span class="o">//</span> <span class="n">coef</span><span class="p">,</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;leng&quot;</span><span class="p">]</span>
</span><span id="SeriesConnec.to_obj_ntv-418"><a href="#SeriesConnec.to_obj_ntv-418"><span class="linenos">418</span></a>            <span class="p">)</span>
</span><span id="SeriesConnec.to_obj_ntv-419"><a href="#SeriesConnec.to_obj_ntv-419"><span class="linenos">419</span></a>        <span class="k">elif</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;extkeys&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="n">parent</span><span class="p">:</span>
</span><span id="SeriesConnec.to_obj_ntv-420"><a href="#SeriesConnec.to_obj_ntv-420"><span class="linenos">420</span></a>            <span class="n">ntv_keys</span> <span class="o">=</span> <span class="n">NtvConnector</span><span class="o">.</span><span class="n">keysfromderkeys</span><span class="p">(</span><span class="n">option</span><span class="p">[</span><span class="s2">&quot;extkeys&quot;</span><span class="p">],</span> <span class="n">ntv_keys</span><span class="p">)</span>
</span><span id="SeriesConnec.to_obj_ntv-421"><a href="#SeriesConnec.to_obj_ntv-421"><span class="linenos">421</span></a>        <span class="k">elif</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;extkeys&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">parent</span><span class="p">:</span>
</span><span id="SeriesConnec.to_obj_ntv-422"><a href="#SeriesConnec.to_obj_ntv-422"><span class="linenos">422</span></a>            <span class="n">ntv_keys</span> <span class="o">=</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;extkeys&quot;</span><span class="p">]</span>
</span><span id="SeriesConnec.to_obj_ntv-423"><a href="#SeriesConnec.to_obj_ntv-423"><span class="linenos">423</span></a>        <span class="n">ntv_codec</span> <span class="o">=</span> <span class="n">Ntv</span><span class="o">.</span><span class="n">fast</span><span class="p">(</span><span class="n">Ntv</span><span class="o">.</span><span class="n">obj_ntv</span><span class="p">(</span><span class="n">codec</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="n">typ</span><span class="p">,</span> <span class="n">single</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">codec</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">))</span>
</span><span id="SeriesConnec.to_obj_ntv-424"><a href="#SeriesConnec.to_obj_ntv-424"><span class="linenos">424</span></a>        <span class="k">return</span> <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">to_series</span><span class="p">(</span><span class="n">ntv_codec</span><span class="p">,</span> <span class="n">ntv_name</span><span class="p">,</span> <span class="n">ntv_keys</span><span class="p">,</span> <span class="o">**</span><span class="n">option</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Generate a Series Object from a Ntv field object</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>ntv_value</strong>: Ntv object or Ntv value - value to convert in Series</li>
</ul>

<p><em>parameters (kwargs)</em></p>

<ul>
<li><strong>extkeys</strong>: list (default None) - keys to use if not present in ntv_value</li>
<li><strong>decode_str</strong>: boolean (default False) - if True, string values are converted
in object values</li>
<li><strong>index</strong>: list (default None) - if present, add the index in Series</li>
<li><strong>leng</strong>: integer (default None) - leng of the Series (used with single codec value)</li>
<li><strong>alias</strong>: boolean (default False) - if True, convert dtype in alias dtype</li>
<li><strong>annotated</strong>: boolean (default False) - if True, ntv_codec names are ignored</li>
</ul>
</div>


                            </div>
                            <div id="SeriesConnec.to_json_ntv" class="classattr">
                                        <input id="SeriesConnec.to_json_ntv-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">to_json_ntv</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">value</span>, </span><span class="param"><span class="n">name</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">typ</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SeriesConnec.to_json_ntv-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SeriesConnec.to_json_ntv"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SeriesConnec.to_json_ntv-426"><a href="#SeriesConnec.to_json_ntv-426"><span class="linenos">426</span></a>    <span class="nd">@staticmethod</span>
</span><span id="SeriesConnec.to_json_ntv-427"><a href="#SeriesConnec.to_json_ntv-427"><span class="linenos">427</span></a>    <span class="k">def</span> <span class="nf">to_json_ntv</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="SeriesConnec.to_json_ntv-428"><a href="#SeriesConnec.to_json_ntv-428"><span class="linenos">428</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;convert a Series (value, name, type) into NTV json (json-value, name, type).</span>
</span><span id="SeriesConnec.to_json_ntv-429"><a href="#SeriesConnec.to_json_ntv-429"><span class="linenos">429</span></a>
</span><span id="SeriesConnec.to_json_ntv-430"><a href="#SeriesConnec.to_json_ntv-430"><span class="linenos">430</span></a><span class="sd">        *Parameters*</span>
</span><span id="SeriesConnec.to_json_ntv-431"><a href="#SeriesConnec.to_json_ntv-431"><span class="linenos">431</span></a>
</span><span id="SeriesConnec.to_json_ntv-432"><a href="#SeriesConnec.to_json_ntv-432"><span class="linenos">432</span></a><span class="sd">        - **typ** : string (default None) - type of the NTV object,</span>
</span><span id="SeriesConnec.to_json_ntv-433"><a href="#SeriesConnec.to_json_ntv-433"><span class="linenos">433</span></a><span class="sd">        - **name** : string (default None) - name of the NTV object</span>
</span><span id="SeriesConnec.to_json_ntv-434"><a href="#SeriesConnec.to_json_ntv-434"><span class="linenos">434</span></a><span class="sd">        - **value** : Series values</span>
</span><span id="SeriesConnec.to_json_ntv-435"><a href="#SeriesConnec.to_json_ntv-435"><span class="linenos">435</span></a><span class="sd">        - **table** : boolean (default False) - if True return (ntv_value, ntv_name, ntv_type)</span>
</span><span id="SeriesConnec.to_json_ntv-436"><a href="#SeriesConnec.to_json_ntv-436"><span class="linenos">436</span></a><span class="sd">        - **no_val** : boolean (default False) - if True return (ntv_name, ntv_type)&quot;&quot;&quot;</span>
</span><span id="SeriesConnec.to_json_ntv-437"><a href="#SeriesConnec.to_json_ntv-437"><span class="linenos">437</span></a>
</span><span id="SeriesConnec.to_json_ntv-438"><a href="#SeriesConnec.to_json_ntv-438"><span class="linenos">438</span></a>        <span class="n">table</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="SeriesConnec.to_json_ntv-439"><a href="#SeriesConnec.to_json_ntv-439"><span class="linenos">439</span></a>        <span class="n">no_val</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;no_val&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="SeriesConnec.to_json_ntv-440"><a href="#SeriesConnec.to_json_ntv-440"><span class="linenos">440</span></a>        <span class="n">srs</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">SeriesConnec</span><span class="o">.</span><span class="n">astype</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
</span><span id="SeriesConnec.to_json_ntv-441"><a href="#SeriesConnec.to_json_ntv-441"><span class="linenos">441</span></a>        <span class="n">sr_name</span> <span class="o">=</span> <span class="n">srs</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="n">srs</span><span class="o">.</span><span class="n">name</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
</span><span id="SeriesConnec.to_json_ntv-442"><a href="#SeriesConnec.to_json_ntv-442"><span class="linenos">442</span></a>        <span class="n">ntv_name</span><span class="p">,</span> <span class="n">name_type</span> <span class="o">=</span> <span class="n">NtvUtil</span><span class="o">.</span><span class="n">from_obj_name</span><span class="p">(</span><span class="n">sr_name</span><span class="p">)[:</span><span class="mi">2</span><span class="p">]</span>
</span><span id="SeriesConnec.to_json_ntv-443"><a href="#SeriesConnec.to_json_ntv-443"><span class="linenos">443</span></a>
</span><span id="SeriesConnec.to_json_ntv-444"><a href="#SeriesConnec.to_json_ntv-444"><span class="linenos">444</span></a>        <span class="k">if</span> <span class="n">table</span><span class="p">:</span>
</span><span id="SeriesConnec.to_json_ntv-445"><a href="#SeriesConnec.to_json_ntv-445"><span class="linenos">445</span></a>            <span class="n">ntv_type</span> <span class="o">=</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">ntv_type</span><span class="p">(</span><span class="n">name_type</span><span class="p">,</span> <span class="n">srs</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="SeriesConnec.to_json_ntv-446"><a href="#SeriesConnec.to_json_ntv-446"><span class="linenos">446</span></a>            <span class="n">ntv_value</span> <span class="o">=</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">table_val</span><span class="p">(</span><span class="n">ntv_type</span><span class="p">,</span> <span class="n">ntv_name</span><span class="p">,</span> <span class="n">srs</span><span class="p">)</span>
</span><span id="SeriesConnec.to_json_ntv-447"><a href="#SeriesConnec.to_json_ntv-447"><span class="linenos">447</span></a>            <span class="k">if</span> <span class="n">no_val</span><span class="p">:</span>
</span><span id="SeriesConnec.to_json_ntv-448"><a href="#SeriesConnec.to_json_ntv-448"><span class="linenos">448</span></a>                <span class="k">return</span> <span class="p">(</span><span class="n">ntv_name</span><span class="p">,</span> <span class="n">ntv_type</span><span class="p">)</span>
</span><span id="SeriesConnec.to_json_ntv-449"><a href="#SeriesConnec.to_json_ntv-449"><span class="linenos">449</span></a>            <span class="k">return</span> <span class="p">(</span><span class="n">ntv_value</span><span class="p">,</span> <span class="n">ntv_name</span><span class="p">,</span> <span class="n">ntv_type</span><span class="p">)</span>
</span><span id="SeriesConnec.to_json_ntv-450"><a href="#SeriesConnec.to_json_ntv-450"><span class="linenos">450</span></a>        <span class="k">if</span> <span class="n">srs</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;category&quot;</span><span class="p">:</span>
</span><span id="SeriesConnec.to_json_ntv-451"><a href="#SeriesConnec.to_json_ntv-451"><span class="linenos">451</span></a>            <span class="n">cdc</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">srs</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">categories</span><span class="p">)</span>
</span><span id="SeriesConnec.to_json_ntv-452"><a href="#SeriesConnec.to_json_ntv-452"><span class="linenos">452</span></a>            <span class="n">ntv_type</span> <span class="o">=</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">ntv_type</span><span class="p">(</span><span class="n">name_type</span><span class="p">,</span> <span class="n">cdc</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</span><span id="SeriesConnec.to_json_ntv-453"><a href="#SeriesConnec.to_json_ntv-453"><span class="linenos">453</span></a>            <span class="n">cat_value</span> <span class="o">=</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">ntv_val</span><span class="p">(</span><span class="n">ntv_type</span><span class="p">,</span> <span class="n">cdc</span><span class="p">)</span>
</span><span id="SeriesConnec.to_json_ntv-454"><a href="#SeriesConnec.to_json_ntv-454"><span class="linenos">454</span></a>            <span class="n">cat_value</span> <span class="o">=</span> <span class="n">NtvList</span><span class="p">(</span><span class="n">cat_value</span><span class="p">,</span> <span class="n">ntv_type</span><span class="o">=</span><span class="n">ntv_type</span><span class="p">)</span>
</span><span id="SeriesConnec.to_json_ntv-455"><a href="#SeriesConnec.to_json_ntv-455"><span class="linenos">455</span></a>            <span class="n">cod_value</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">srs</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span><span class="p">)</span>
</span><span id="SeriesConnec.to_json_ntv-456"><a href="#SeriesConnec.to_json_ntv-456"><span class="linenos">456</span></a>            <span class="n">coef</span> <span class="o">=</span> <span class="n">NtvConnector</span><span class="o">.</span><span class="n">encode_coef</span><span class="p">(</span><span class="n">cod_value</span><span class="p">)</span>
</span><span id="SeriesConnec.to_json_ntv-457"><a href="#SeriesConnec.to_json_ntv-457"><span class="linenos">457</span></a>            <span class="n">ntv_value</span> <span class="o">=</span> <span class="p">[</span><span class="n">cat_value</span><span class="p">,</span> <span class="n">NtvList</span><span class="p">([</span><span class="n">coef</span><span class="p">])</span> <span class="k">if</span> <span class="n">coef</span> <span class="k">else</span> <span class="n">NtvList</span><span class="p">(</span><span class="n">cod_value</span><span class="p">)]</span>
</span><span id="SeriesConnec.to_json_ntv-458"><a href="#SeriesConnec.to_json_ntv-458"><span class="linenos">458</span></a>            <span class="n">ntv_type</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SeriesConnec.to_json_ntv-459"><a href="#SeriesConnec.to_json_ntv-459"><span class="linenos">459</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SeriesConnec.to_json_ntv-460"><a href="#SeriesConnec.to_json_ntv-460"><span class="linenos">460</span></a>            <span class="n">ntv_type</span> <span class="o">=</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">ntv_type</span><span class="p">(</span><span class="n">name_type</span><span class="p">,</span> <span class="n">srs</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</span><span id="SeriesConnec.to_json_ntv-461"><a href="#SeriesConnec.to_json_ntv-461"><span class="linenos">461</span></a>            <span class="n">ntv_value</span> <span class="o">=</span> <span class="n">Ntv</span><span class="o">.</span><span class="n">from_obj</span><span class="p">(</span>
</span><span id="SeriesConnec.to_json_ntv-462"><a href="#SeriesConnec.to_json_ntv-462"><span class="linenos">462</span></a>                <span class="n">PdUtil</span><span class="o">.</span><span class="n">ntv_val</span><span class="p">(</span><span class="n">ntv_type</span><span class="p">,</span> <span class="n">srs</span><span class="p">),</span> <span class="n">def_type</span><span class="o">=</span><span class="n">ntv_type</span>
</span><span id="SeriesConnec.to_json_ntv-463"><a href="#SeriesConnec.to_json_ntv-463"><span class="linenos">463</span></a>            <span class="p">)</span><span class="o">.</span><span class="n">ntv_value</span>
</span><span id="SeriesConnec.to_json_ntv-464"><a href="#SeriesConnec.to_json_ntv-464"><span class="linenos">464</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ntv_value</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="SeriesConnec.to_json_ntv-465"><a href="#SeriesConnec.to_json_ntv-465"><span class="linenos">465</span></a>            <span class="n">ntv_value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_name</span><span class="p">(</span><span class="n">ntv_name</span><span class="p">)</span>
</span><span id="SeriesConnec.to_json_ntv-466"><a href="#SeriesConnec.to_json_ntv-466"><span class="linenos">466</span></a>            <span class="k">return</span> <span class="p">(</span>
</span><span id="SeriesConnec.to_json_ntv-467"><a href="#SeriesConnec.to_json_ntv-467"><span class="linenos">467</span></a>                <span class="n">ntv_value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">to_obj</span><span class="p">(),</span>
</span><span id="SeriesConnec.to_json_ntv-468"><a href="#SeriesConnec.to_json_ntv-468"><span class="linenos">468</span></a>                <span class="n">name</span><span class="p">,</span>
</span><span id="SeriesConnec.to_json_ntv-469"><a href="#SeriesConnec.to_json_ntv-469"><span class="linenos">469</span></a>                <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">clas_typ</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">typ</span> <span class="k">else</span> <span class="n">typ</span><span class="p">,</span>
</span><span id="SeriesConnec.to_json_ntv-470"><a href="#SeriesConnec.to_json_ntv-470"><span class="linenos">470</span></a>            <span class="p">)</span>
</span><span id="SeriesConnec.to_json_ntv-471"><a href="#SeriesConnec.to_json_ntv-471"><span class="linenos">471</span></a>        <span class="k">return</span> <span class="p">(</span>
</span><span id="SeriesConnec.to_json_ntv-472"><a href="#SeriesConnec.to_json_ntv-472"><span class="linenos">472</span></a>            <span class="n">NtvList</span><span class="p">(</span><span class="n">ntv_value</span><span class="p">,</span> <span class="n">ntv_name</span><span class="p">,</span> <span class="n">ntv_type</span><span class="p">)</span><span class="o">.</span><span class="n">to_obj</span><span class="p">(),</span>
</span><span id="SeriesConnec.to_json_ntv-473"><a href="#SeriesConnec.to_json_ntv-473"><span class="linenos">473</span></a>            <span class="n">name</span><span class="p">,</span>
</span><span id="SeriesConnec.to_json_ntv-474"><a href="#SeriesConnec.to_json_ntv-474"><span class="linenos">474</span></a>            <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">clas_typ</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">typ</span> <span class="k">else</span> <span class="n">typ</span><span class="p">,</span>
</span><span id="SeriesConnec.to_json_ntv-475"><a href="#SeriesConnec.to_json_ntv-475"><span class="linenos">475</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>convert a Series (value, name, type) into NTV json (json-value, name, type).</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>typ</strong> : string (default None) - type of the NTV object,</li>
<li><strong>name</strong> : string (default None) - name of the NTV object</li>
<li><strong>value</strong> : Series values</li>
<li><strong>table</strong> : boolean (default False) - if True return (ntv_value, ntv_name, ntv_type)</li>
<li><strong>no_val</strong> : boolean (default False) - if True return (ntv_name, ntv_type)</li>
</ul>
</div>


                            </div>
                            <div id="SeriesConnec.to_idx" class="classattr">
                                        <input id="SeriesConnec.to_idx-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">to_idx</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">ser</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SeriesConnec.to_idx-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SeriesConnec.to_idx"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SeriesConnec.to_idx-477"><a href="#SeriesConnec.to_idx-477"><span class="linenos">477</span></a>    <span class="nd">@staticmethod</span>
</span><span id="SeriesConnec.to_idx-478"><a href="#SeriesConnec.to_idx-478"><span class="linenos">478</span></a>    <span class="k">def</span> <span class="nf">to_idx</span><span class="p">(</span><span class="n">ser</span><span class="p">):</span>
</span><span id="SeriesConnec.to_idx-479"><a href="#SeriesConnec.to_idx-479"><span class="linenos">479</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;convert a Series in categorical data</span>
</span><span id="SeriesConnec.to_idx-480"><a href="#SeriesConnec.to_idx-480"><span class="linenos">480</span></a>
</span><span id="SeriesConnec.to_idx-481"><a href="#SeriesConnec.to_idx-481"><span class="linenos">481</span></a><span class="sd">        *return (dict)*</span>
</span><span id="SeriesConnec.to_idx-482"><a href="#SeriesConnec.to_idx-482"><span class="linenos">482</span></a>
</span><span id="SeriesConnec.to_idx-483"><a href="#SeriesConnec.to_idx-483"><span class="linenos">483</span></a><span class="sd">        { &#39;codec&#39;: &#39;list of pandas categories&#39;,</span>
</span><span id="SeriesConnec.to_idx-484"><a href="#SeriesConnec.to_idx-484"><span class="linenos">484</span></a><span class="sd">          &#39;name&#39;: &#39;name of the series&#39;,</span>
</span><span id="SeriesConnec.to_idx-485"><a href="#SeriesConnec.to_idx-485"><span class="linenos">485</span></a><span class="sd">          &#39;keys&#39;: &#39;list of pandas codes&#39; }</span>
</span><span id="SeriesConnec.to_idx-486"><a href="#SeriesConnec.to_idx-486"><span class="linenos">486</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SeriesConnec.to_idx-487"><a href="#SeriesConnec.to_idx-487"><span class="linenos">487</span></a>        <span class="n">idx</span> <span class="o">=</span> <span class="n">ser</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;category&quot;</span><span class="p">)</span>
</span><span id="SeriesConnec.to_idx-488"><a href="#SeriesConnec.to_idx-488"><span class="linenos">488</span></a>        <span class="n">lis</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">idx</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">categories</span><span class="p">)</span>
</span><span id="SeriesConnec.to_idx-489"><a href="#SeriesConnec.to_idx-489"><span class="linenos">489</span></a>        <span class="k">if</span> <span class="n">lis</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">lis</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pd</span><span class="o">.</span><span class="n">_libs</span><span class="o">.</span><span class="n">tslibs</span><span class="o">.</span><span class="n">timestamps</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">):</span>
</span><span id="SeriesConnec.to_idx-490"><a href="#SeriesConnec.to_idx-490"><span class="linenos">490</span></a>            <span class="n">lis</span> <span class="o">=</span> <span class="p">[</span><span class="n">ts</span><span class="o">.</span><span class="n">to_pydatetime</span><span class="p">()</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span> <span class="k">for</span> <span class="n">ts</span> <span class="ow">in</span> <span class="n">lis</span><span class="p">]</span>
</span><span id="SeriesConnec.to_idx-491"><a href="#SeriesConnec.to_idx-491"><span class="linenos">491</span></a>        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;codec&quot;</span><span class="p">:</span> <span class="n">lis</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">ser</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;keys&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">idx</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span><span class="p">)}</span>
</span></pre></div>


            <div class="docstring"><p>convert a Series in categorical data</p>

<p><em>return (dict)</em></p>

<p>{ 'codec': 'list of pandas categories',
  'name': 'name of the series',
  'keys': 'list of pandas codes' }</p>
</div>


                            </div>
                            <div id="SeriesConnec.to_series" class="classattr">
                                        <input id="SeriesConnec.to_series-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">to_series</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">ntv_codec</span>, </span><span class="param"><span class="n">ntv_name</span>, </span><span class="param"><span class="n">ntv_keys</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SeriesConnec.to_series-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SeriesConnec.to_series"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SeriesConnec.to_series-493"><a href="#SeriesConnec.to_series-493"><span class="linenos">493</span></a>    <span class="nd">@staticmethod</span>
</span><span id="SeriesConnec.to_series-494"><a href="#SeriesConnec.to_series-494"><span class="linenos">494</span></a>    <span class="k">def</span> <span class="nf">to_series</span><span class="p">(</span><span class="n">ntv_codec</span><span class="p">,</span> <span class="n">ntv_name</span><span class="p">,</span> <span class="n">ntv_keys</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="SeriesConnec.to_series-495"><a href="#SeriesConnec.to_series-495"><span class="linenos">495</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;return a pd.Series from Field data (codec, name, keys)</span>
</span><span id="SeriesConnec.to_series-496"><a href="#SeriesConnec.to_series-496"><span class="linenos">496</span></a>
</span><span id="SeriesConnec.to_series-497"><a href="#SeriesConnec.to_series-497"><span class="linenos">497</span></a><span class="sd">        *Parameters*</span>
</span><span id="SeriesConnec.to_series-498"><a href="#SeriesConnec.to_series-498"><span class="linenos">498</span></a>
</span><span id="SeriesConnec.to_series-499"><a href="#SeriesConnec.to_series-499"><span class="linenos">499</span></a><span class="sd">        - **ntv_codec**: Ntv object - codec value to convert in Series values</span>
</span><span id="SeriesConnec.to_series-500"><a href="#SeriesConnec.to_series-500"><span class="linenos">500</span></a><span class="sd">        - **ntv_type**: string - default type to apply to convert in dtype</span>
</span><span id="SeriesConnec.to_series-501"><a href="#SeriesConnec.to_series-501"><span class="linenos">501</span></a><span class="sd">        - **ntv_name**: string - name of the Series</span>
</span><span id="SeriesConnec.to_series-502"><a href="#SeriesConnec.to_series-502"><span class="linenos">502</span></a>
</span><span id="SeriesConnec.to_series-503"><a href="#SeriesConnec.to_series-503"><span class="linenos">503</span></a><span class="sd">        *parameters (kwargs)*</span>
</span><span id="SeriesConnec.to_series-504"><a href="#SeriesConnec.to_series-504"><span class="linenos">504</span></a>
</span><span id="SeriesConnec.to_series-505"><a href="#SeriesConnec.to_series-505"><span class="linenos">505</span></a><span class="sd">        - **index**: list (default None) - if present, add the index in Series</span>
</span><span id="SeriesConnec.to_series-506"><a href="#SeriesConnec.to_series-506"><span class="linenos">506</span></a><span class="sd">        - **leng**: integer (default None) - leng of the Series (used with single codec value)</span>
</span><span id="SeriesConnec.to_series-507"><a href="#SeriesConnec.to_series-507"><span class="linenos">507</span></a><span class="sd">        - **alias**: boolean (default False) - if True, convert dtype in alias dtype</span>
</span><span id="SeriesConnec.to_series-508"><a href="#SeriesConnec.to_series-508"><span class="linenos">508</span></a><span class="sd">        - **annotated**: boolean (default False) - if True, ntv_codec names are ignored</span>
</span><span id="SeriesConnec.to_series-509"><a href="#SeriesConnec.to_series-509"><span class="linenos">509</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SeriesConnec.to_series-510"><a href="#SeriesConnec.to_series-510"><span class="linenos">510</span></a>        <span class="n">option</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="SeriesConnec.to_series-511"><a href="#SeriesConnec.to_series-511"><span class="linenos">511</span></a>            <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="SeriesConnec.to_series-512"><a href="#SeriesConnec.to_series-512"><span class="linenos">512</span></a>            <span class="s2">&quot;leng&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="SeriesConnec.to_series-513"><a href="#SeriesConnec.to_series-513"><span class="linenos">513</span></a>            <span class="s2">&quot;alias&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="SeriesConnec.to_series-514"><a href="#SeriesConnec.to_series-514"><span class="linenos">514</span></a>            <span class="s2">&quot;annotated&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="SeriesConnec.to_series-515"><a href="#SeriesConnec.to_series-515"><span class="linenos">515</span></a>        <span class="p">}</span> <span class="o">|</span> <span class="n">kwargs</span>
</span><span id="SeriesConnec.to_series-516"><a href="#SeriesConnec.to_series-516"><span class="linenos">516</span></a>        <span class="n">types</span> <span class="o">=</span> <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;ntv_type&quot;</span><span class="p">)</span>
</span><span id="SeriesConnec.to_series-517"><a href="#SeriesConnec.to_series-517"><span class="linenos">517</span></a>        <span class="n">astype</span> <span class="o">=</span> <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">astype</span>
</span><span id="SeriesConnec.to_series-518"><a href="#SeriesConnec.to_series-518"><span class="linenos">518</span></a>        <span class="n">leng</span> <span class="o">=</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;leng&quot;</span><span class="p">]</span>
</span><span id="SeriesConnec.to_series-519"><a href="#SeriesConnec.to_series-519"><span class="linenos">519</span></a>
</span><span id="SeriesConnec.to_series-520"><a href="#SeriesConnec.to_series-520"><span class="linenos">520</span></a>        <span class="n">ntv_type</span> <span class="o">=</span> <span class="n">ntv_codec</span><span class="o">.</span><span class="n">type_str</span>
</span><span id="SeriesConnec.to_series-521"><a href="#SeriesConnec.to_series-521"><span class="linenos">521</span></a>        <span class="n">len_unique</span> <span class="o">=</span> <span class="n">leng</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ntv_codec</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">leng</span> <span class="k">else</span> <span class="mi">1</span>
</span><span id="SeriesConnec.to_series-522"><a href="#SeriesConnec.to_series-522"><span class="linenos">522</span></a>        <span class="n">pd_convert</span> <span class="o">=</span> <span class="n">ntv_type</span> <span class="ow">in</span> <span class="n">types</span><span class="o">.</span><span class="n">index</span>
</span><span id="SeriesConnec.to_series-523"><a href="#SeriesConnec.to_series-523"><span class="linenos">523</span></a>
</span><span id="SeriesConnec.to_series-524"><a href="#SeriesConnec.to_series-524"><span class="linenos">524</span></a>        <span class="n">pd_name</span><span class="p">,</span> <span class="n">name_type</span><span class="p">,</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">pd_name</span><span class="p">(</span><span class="n">ntv_name</span><span class="p">,</span> <span class="n">ntv_type</span><span class="p">,</span> <span class="n">pd_convert</span><span class="p">)</span>
</span><span id="SeriesConnec.to_series-525"><a href="#SeriesConnec.to_series-525"><span class="linenos">525</span></a>        <span class="n">ntv_obj</span> <span class="o">=</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">ntv_obj</span><span class="p">(</span>
</span><span id="SeriesConnec.to_series-526"><a href="#SeriesConnec.to_series-526"><span class="linenos">526</span></a>            <span class="n">ntv_codec</span><span class="p">,</span>
</span><span id="SeriesConnec.to_series-527"><a href="#SeriesConnec.to_series-527"><span class="linenos">527</span></a>            <span class="n">name_type</span> <span class="k">if</span> <span class="n">pd_convert</span> <span class="k">else</span> <span class="n">ntv_type</span><span class="p">,</span>
</span><span id="SeriesConnec.to_series-528"><a href="#SeriesConnec.to_series-528"><span class="linenos">528</span></a>            <span class="n">option</span><span class="p">[</span><span class="s2">&quot;annotated&quot;</span><span class="p">],</span>
</span><span id="SeriesConnec.to_series-529"><a href="#SeriesConnec.to_series-529"><span class="linenos">529</span></a>            <span class="n">pd_convert</span><span class="p">,</span>
</span><span id="SeriesConnec.to_series-530"><a href="#SeriesConnec.to_series-530"><span class="linenos">530</span></a>        <span class="p">)</span>
</span><span id="SeriesConnec.to_series-531"><a href="#SeriesConnec.to_series-531"><span class="linenos">531</span></a>        <span class="k">if</span> <span class="n">ntv_keys</span><span class="p">:</span>
</span><span id="SeriesConnec.to_series-532"><a href="#SeriesConnec.to_series-532"><span class="linenos">532</span></a>            <span class="k">if</span> <span class="n">pd_convert</span> <span class="ow">and</span> <span class="n">name_type</span> <span class="o">!=</span> <span class="s2">&quot;array&quot;</span><span class="p">:</span>
</span><span id="SeriesConnec.to_series-533"><a href="#SeriesConnec.to_series-533"><span class="linenos">533</span></a>                <span class="n">categ</span> <span class="o">=</span> <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">_from_json</span><span class="p">(</span><span class="n">ntv_obj</span><span class="p">,</span> <span class="n">dtype</span><span class="p">,</span> <span class="n">ntv_type</span><span class="p">)</span>
</span><span id="SeriesConnec.to_series-534"><a href="#SeriesConnec.to_series-534"><span class="linenos">534</span></a>                <span class="n">cat_type</span> <span class="o">=</span> <span class="n">categ</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span>
</span><span id="SeriesConnec.to_series-535"><a href="#SeriesConnec.to_series-535"><span class="linenos">535</span></a>                <span class="n">categories</span> <span class="o">=</span> <span class="n">categ</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">astype</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">cat_type</span><span class="p">,</span> <span class="n">cat_type</span><span class="p">))</span>
</span><span id="SeriesConnec.to_series-536"><a href="#SeriesConnec.to_series-536"><span class="linenos">536</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="SeriesConnec.to_series-537"><a href="#SeriesConnec.to_series-537"><span class="linenos">537</span></a>                <span class="n">categories</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">ntv_obj</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;object&quot;</span><span class="p">)</span>
</span><span id="SeriesConnec.to_series-538"><a href="#SeriesConnec.to_series-538"><span class="linenos">538</span></a>            <span class="n">cat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">CategoricalDtype</span><span class="p">(</span><span class="n">categories</span><span class="o">=</span><span class="n">categories</span><span class="p">)</span>
</span><span id="SeriesConnec.to_series-539"><a href="#SeriesConnec.to_series-539"><span class="linenos">539</span></a>            <span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="o">.</span><span class="n">from_codes</span><span class="p">(</span><span class="n">codes</span><span class="o">=</span><span class="n">ntv_keys</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">cat</span><span class="p">)</span>
</span><span id="SeriesConnec.to_series-540"><a href="#SeriesConnec.to_series-540"><span class="linenos">540</span></a>            <span class="n">srs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">pd_name</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">option</span><span class="p">[</span><span class="s2">&quot;index&quot;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;category&quot;</span><span class="p">)</span>
</span><span id="SeriesConnec.to_series-541"><a href="#SeriesConnec.to_series-541"><span class="linenos">541</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SeriesConnec.to_series-542"><a href="#SeriesConnec.to_series-542"><span class="linenos">542</span></a>            <span class="n">data</span> <span class="o">=</span> <span class="n">ntv_obj</span> <span class="o">*</span> <span class="n">len_unique</span>
</span><span id="SeriesConnec.to_series-543"><a href="#SeriesConnec.to_series-543"><span class="linenos">543</span></a>            <span class="k">if</span> <span class="n">pd_convert</span><span class="p">:</span>
</span><span id="SeriesConnec.to_series-544"><a href="#SeriesConnec.to_series-544"><span class="linenos">544</span></a>                <span class="n">srs</span> <span class="o">=</span> <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">_from_json</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">dtype</span><span class="p">,</span> <span class="n">ntv_type</span><span class="p">,</span> <span class="n">pd_name</span><span class="p">)</span>
</span><span id="SeriesConnec.to_series-545"><a href="#SeriesConnec.to_series-545"><span class="linenos">545</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="SeriesConnec.to_series-546"><a href="#SeriesConnec.to_series-546"><span class="linenos">546</span></a>                <span class="n">srs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">pd_name</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">)</span>
</span><span id="SeriesConnec.to_series-547"><a href="#SeriesConnec.to_series-547"><span class="linenos">547</span></a>
</span><span id="SeriesConnec.to_series-548"><a href="#SeriesConnec.to_series-548"><span class="linenos">548</span></a>        <span class="k">if</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;alias&quot;</span><span class="p">]:</span>
</span><span id="SeriesConnec.to_series-549"><a href="#SeriesConnec.to_series-549"><span class="linenos">549</span></a>            <span class="k">return</span> <span class="n">srs</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">astype</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">srs</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">srs</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
</span><span id="SeriesConnec.to_series-550"><a href="#SeriesConnec.to_series-550"><span class="linenos">550</span></a>        <span class="k">return</span> <span class="n">srs</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">SeriesConnec</span><span class="o">.</span><span class="n">deftype</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">srs</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">srs</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>return a pd.Series from Field data (codec, name, keys)</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>ntv_codec</strong>: Ntv object - codec value to convert in Series values</li>
<li><strong>ntv_type</strong>: string - default type to apply to convert in dtype</li>
<li><strong>ntv_name</strong>: string - name of the Series</li>
</ul>

<p><em>parameters (kwargs)</em></p>

<ul>
<li><strong>index</strong>: list (default None) - if present, add the index in Series</li>
<li><strong>leng</strong>: integer (default None) - leng of the Series (used with single codec value)</li>
<li><strong>alias</strong>: boolean (default False) - if True, convert dtype in alias dtype</li>
<li><strong>annotated</strong>: boolean (default False) - if True, ntv_codec names are ignored</li>
</ul>
</div>


                            </div>
                            <div id="SeriesConnec.equals" class="classattr">
                                        <input id="SeriesConnec.equals-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">equals</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">pdself</span>, </span><span class="param"><span class="n">pdother</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SeriesConnec.equals-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SeriesConnec.equals"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SeriesConnec.equals-569"><a href="#SeriesConnec.equals-569"><span class="linenos">569</span></a>    <span class="nd">@staticmethod</span>
</span><span id="SeriesConnec.equals-570"><a href="#SeriesConnec.equals-570"><span class="linenos">570</span></a>    <span class="k">def</span> <span class="nf">equals</span><span class="p">(</span><span class="n">pdself</span><span class="p">,</span> <span class="n">pdother</span><span class="p">):</span>
</span><span id="SeriesConnec.equals-571"><a href="#SeriesConnec.equals-571"><span class="linenos">571</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;return True if pd.equals is True and names are equal and dtype of categories are equal&quot;&quot;&quot;</span>
</span><span id="SeriesConnec.equals-572"><a href="#SeriesConnec.equals-572"><span class="linenos">572</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">pdself</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pdother</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">)):</span>
</span><span id="SeriesConnec.equals-573"><a href="#SeriesConnec.equals-573"><span class="linenos">573</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="SeriesConnec.equals-574"><a href="#SeriesConnec.equals-574"><span class="linenos">574</span></a>        <span class="k">if</span> <span class="n">pdself</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">pdother</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
</span><span id="SeriesConnec.equals-575"><a href="#SeriesConnec.equals-575"><span class="linenos">575</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="SeriesConnec.equals-576"><a href="#SeriesConnec.equals-576"><span class="linenos">576</span></a>        <span class="n">type_cat</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">pdself</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="n">pdother</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;category&quot;</span>
</span><span id="SeriesConnec.equals-577"><a href="#SeriesConnec.equals-577"><span class="linenos">577</span></a>        <span class="k">if</span> <span class="n">type_cat</span><span class="p">:</span>
</span><span id="SeriesConnec.equals-578"><a href="#SeriesConnec.equals-578"><span class="linenos">578</span></a>            <span class="k">return</span> <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">pdself</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">categories</span><span class="p">,</span> <span class="n">pdother</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">categories</span><span class="p">)</span>
</span><span id="SeriesConnec.equals-579"><a href="#SeriesConnec.equals-579"><span class="linenos">579</span></a>        <span class="k">return</span> <span class="n">as_def_type</span><span class="p">(</span><span class="n">pdself</span><span class="p">)</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">as_def_type</span><span class="p">(</span><span class="n">pdother</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>return True if pd.equals is True and names are equal and dtype of categories are equal</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>json_ntv.ntv_util.NtvConnector</dt>
                                <dd id="SeriesConnec.DIC_NTV_CL" class="variable">DIC_NTV_CL</dd>
                <dd id="SeriesConnec.DIC_GEO_CL" class="variable">DIC_GEO_CL</dd>
                <dd id="SeriesConnec.DIC_DAT_CL" class="variable">DIC_DAT_CL</dd>
                <dd id="SeriesConnec.DIC_FCT" class="variable">DIC_FCT</dd>
                <dd id="SeriesConnec.DIC_GEO" class="variable">DIC_GEO</dd>
                <dd id="SeriesConnec.DIC_CBOR" class="variable">DIC_CBOR</dd>
                <dd id="SeriesConnec.DIC_OBJ" class="variable">DIC_OBJ</dd>
                <dd id="SeriesConnec.castable" class="variable">castable</dd>
                <dd id="SeriesConnec.dic_obj" class="variable">dic_obj</dd>
                <dd id="SeriesConnec.dic_type" class="variable">dic_type</dd>
                <dd id="SeriesConnec.connector" class="function">connector</dd>
                <dd id="SeriesConnec.dic_connec" class="function">dic_connec</dd>
                <dd id="SeriesConnec.cast" class="function">cast</dd>
                <dd id="SeriesConnec.uncast" class="function">uncast</dd>
                <dd id="SeriesConnec.is_json_class" class="function">is_json_class</dd>
                <dd id="SeriesConnec.is_json" class="function">is_json</dd>
                <dd id="SeriesConnec.keysfromderkeys" class="function">keysfromderkeys</dd>
                <dd id="SeriesConnec.encode_coef" class="function">encode_coef</dd>
                <dd id="SeriesConnec.keysfromcoef" class="function">keysfromcoef</dd>
                <dd id="SeriesConnec.format_field" class="function">format_field</dd>
                <dd id="SeriesConnec.init_ntv_keys" class="function">init_ntv_keys</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="read_json">
                            <input id="read_json-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">read_json</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">jsn</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="read_json-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#read_json"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="read_json-98"><a href="#read_json-98"><span class="linenos"> 98</span></a><span class="k">def</span> <span class="nf">read_json</span><span class="p">(</span><span class="n">jsn</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="read_json-99"><a href="#read_json-99"><span class="linenos"> 99</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;convert JSON text or JSON Value to pandas Series or Dataframe.</span>
</span><span id="read_json-100"><a href="#read_json-100"><span class="linenos">100</span></a>
</span><span id="read_json-101"><a href="#read_json-101"><span class="linenos">101</span></a><span class="sd">    *parameters*</span>
</span><span id="read_json-102"><a href="#read_json-102"><span class="linenos">102</span></a>
</span><span id="read_json-103"><a href="#read_json-103"><span class="linenos">103</span></a><span class="sd">    - **jsn** : JSON text or JSON value to convert</span>
</span><span id="read_json-104"><a href="#read_json-104"><span class="linenos">104</span></a><span class="sd">    - **extkeys**: list (default None) - keys to use if not present in ntv_value</span>
</span><span id="read_json-105"><a href="#read_json-105"><span class="linenos">105</span></a><span class="sd">    - **decode_str**: boolean (default False) - if True, string values are converted</span>
</span><span id="read_json-106"><a href="#read_json-106"><span class="linenos">106</span></a><span class="sd">    in object values</span>
</span><span id="read_json-107"><a href="#read_json-107"><span class="linenos">107</span></a><span class="sd">    - **leng**: integer (default None) - leng of the Series (used with single codec value)</span>
</span><span id="read_json-108"><a href="#read_json-108"><span class="linenos">108</span></a><span class="sd">    - **alias**: boolean (default False) - if True, convert dtype in alias dtype</span>
</span><span id="read_json-109"><a href="#read_json-109"><span class="linenos">109</span></a><span class="sd">    - **annotated**: boolean (default False) - if True, ntv_codec names are ignored</span>
</span><span id="read_json-110"><a href="#read_json-110"><span class="linenos">110</span></a><span class="sd">    - **series**: boolean (default False) - used only without header. If True</span>
</span><span id="read_json-111"><a href="#read_json-111"><span class="linenos">111</span></a><span class="sd">    JSON data is converted into Series else DataFrame</span>
</span><span id="read_json-112"><a href="#read_json-112"><span class="linenos">112</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="read_json-113"><a href="#read_json-113"><span class="linenos">113</span></a>    <span class="n">option</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="read_json-114"><a href="#read_json-114"><span class="linenos">114</span></a>        <span class="s2">&quot;extkeys&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="read_json-115"><a href="#read_json-115"><span class="linenos">115</span></a>        <span class="s2">&quot;decode_str&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="read_json-116"><a href="#read_json-116"><span class="linenos">116</span></a>        <span class="s2">&quot;leng&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="read_json-117"><a href="#read_json-117"><span class="linenos">117</span></a>        <span class="s2">&quot;alias&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="read_json-118"><a href="#read_json-118"><span class="linenos">118</span></a>        <span class="s2">&quot;annotated&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="read_json-119"><a href="#read_json-119"><span class="linenos">119</span></a>        <span class="s2">&quot;series&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="read_json-120"><a href="#read_json-120"><span class="linenos">120</span></a>    <span class="p">}</span> <span class="o">|</span> <span class="n">kwargs</span>
</span><span id="read_json-121"><a href="#read_json-121"><span class="linenos">121</span></a>    <span class="n">jso</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">jsn</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">jsn</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">jsn</span>
</span><span id="read_json-122"><a href="#read_json-122"><span class="linenos">122</span></a>    <span class="k">if</span> <span class="s2">&quot;schema&quot;</span> <span class="ow">in</span> <span class="n">jso</span><span class="p">:</span>
</span><span id="read_json-123"><a href="#read_json-123"><span class="linenos">123</span></a>        <span class="k">return</span> <span class="n">PdUtil</span><span class="o">.</span><span class="n">to_obj_table</span><span class="p">(</span><span class="n">jso</span><span class="p">,</span> <span class="o">**</span><span class="n">option</span><span class="p">)</span>
</span><span id="read_json-124"><a href="#read_json-124"><span class="linenos">124</span></a>    <span class="n">ntv</span> <span class="o">=</span> <span class="n">Ntv</span><span class="o">.</span><span class="n">from_obj</span><span class="p">(</span><span class="n">jso</span><span class="p">)</span>
</span><span id="read_json-125"><a href="#read_json-125"><span class="linenos">125</span></a>    <span class="k">if</span> <span class="n">ntv</span><span class="o">.</span><span class="n">type_str</span> <span class="o">==</span> <span class="s2">&quot;field&quot;</span><span class="p">:</span>
</span><span id="read_json-126"><a href="#read_json-126"><span class="linenos">126</span></a>        <span class="k">return</span> <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">to_obj_ntv</span><span class="p">(</span><span class="n">ntv</span><span class="o">.</span><span class="n">ntv_value</span><span class="p">,</span> <span class="o">**</span><span class="n">option</span><span class="p">)</span>
</span><span id="read_json-127"><a href="#read_json-127"><span class="linenos">127</span></a>    <span class="k">if</span> <span class="n">ntv</span><span class="o">.</span><span class="n">type_str</span> <span class="o">==</span> <span class="s2">&quot;tab&quot;</span><span class="p">:</span>
</span><span id="read_json-128"><a href="#read_json-128"><span class="linenos">128</span></a>        <span class="k">return</span> <span class="n">DataFrameConnec</span><span class="o">.</span><span class="n">to_obj_ntv</span><span class="p">(</span><span class="n">ntv</span><span class="o">.</span><span class="n">ntv_value</span><span class="p">,</span> <span class="o">**</span><span class="n">option</span><span class="p">)</span>
</span><span id="read_json-129"><a href="#read_json-129"><span class="linenos">129</span></a>    <span class="k">if</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;series&quot;</span><span class="p">]:</span>
</span><span id="read_json-130"><a href="#read_json-130"><span class="linenos">130</span></a>        <span class="k">return</span> <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">to_obj_ntv</span><span class="p">(</span><span class="n">ntv</span><span class="p">,</span> <span class="o">**</span><span class="n">option</span><span class="p">)</span>
</span><span id="read_json-131"><a href="#read_json-131"><span class="linenos">131</span></a>    <span class="k">return</span> <span class="n">DataFrameConnec</span><span class="o">.</span><span class="n">to_obj_ntv</span><span class="p">(</span><span class="n">ntv</span><span class="o">.</span><span class="n">ntv_value</span><span class="p">,</span> <span class="o">**</span><span class="n">option</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>convert JSON text or JSON Value to pandas Series or Dataframe.</p>

<p><em>parameters</em></p>

<ul>
<li><strong>jsn</strong> : JSON text or JSON value to convert</li>
<li><strong>extkeys</strong>: list (default None) - keys to use if not present in ntv_value</li>
<li><strong>decode_str</strong>: boolean (default False) - if True, string values are converted
in object values</li>
<li><strong>leng</strong>: integer (default None) - leng of the Series (used with single codec value)</li>
<li><strong>alias</strong>: boolean (default False) - if True, convert dtype in alias dtype</li>
<li><strong>annotated</strong>: boolean (default False) - if True, ntv_codec names are ignored</li>
<li><strong>series</strong>: boolean (default False) - used only without header. If True
JSON data is converted into Series else DataFrame</li>
</ul>
</div>


                </section>
                <section id="to_json">
                            <input id="to_json-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">to_json</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">pd_array</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="to_json-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#to_json"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="to_json-186"><a href="#to_json-186"><span class="linenos">186</span></a><span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="n">pd_array</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="to_json-187"><a href="#to_json-187"><span class="linenos">187</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;convert pandas Series or Dataframe to JSON text or JSON Value.</span>
</span><span id="to_json-188"><a href="#to_json-188"><span class="linenos">188</span></a>
</span><span id="to_json-189"><a href="#to_json-189"><span class="linenos">189</span></a><span class="sd">    *parameters*</span>
</span><span id="to_json-190"><a href="#to_json-190"><span class="linenos">190</span></a>
</span><span id="to_json-191"><a href="#to_json-191"><span class="linenos">191</span></a><span class="sd">    - **pd_array** : Series or Dataframe to convert</span>
</span><span id="to_json-192"><a href="#to_json-192"><span class="linenos">192</span></a><span class="sd">    - **encoded** : boolean (default: False) - if True return a JSON text else a JSON value</span>
</span><span id="to_json-193"><a href="#to_json-193"><span class="linenos">193</span></a><span class="sd">    - **header** : boolean (default: True) - if True the JSON data is included as</span>
</span><span id="to_json-194"><a href="#to_json-194"><span class="linenos">194</span></a><span class="sd">    value in a {key:value} object where key is &#39;:field&#39; for Series or &#39;:tab&#39; for DataFrame</span>
</span><span id="to_json-195"><a href="#to_json-195"><span class="linenos">195</span></a><span class="sd">    - **table** : boolean (default False) - if True return TableSchema format</span>
</span><span id="to_json-196"><a href="#to_json-196"><span class="linenos">196</span></a><span class="sd">    - **index** : boolean (default True) - if True the index Series is included</span>
</span><span id="to_json-197"><a href="#to_json-197"><span class="linenos">197</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="to_json-198"><a href="#to_json-198"><span class="linenos">198</span></a>    <span class="n">option</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;encoded&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;header&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span> <span class="o">|</span> <span class="n">kwargs</span>
</span><span id="to_json-199"><a href="#to_json-199"><span class="linenos">199</span></a>    <span class="n">option</span><span class="p">[</span><span class="s2">&quot;header&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span> <span class="k">if</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;table&quot;</span><span class="p">]</span> <span class="k">else</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;header&quot;</span><span class="p">]</span>
</span><span id="to_json-200"><a href="#to_json-200"><span class="linenos">200</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pd_array</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">):</span>
</span><span id="to_json-201"><a href="#to_json-201"><span class="linenos">201</span></a>        <span class="n">jsn</span> <span class="o">=</span> <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">to_json_ntv</span><span class="p">(</span><span class="n">pd_array</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="n">option</span><span class="p">[</span><span class="s2">&quot;table&quot;</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="to_json-202"><a href="#to_json-202"><span class="linenos">202</span></a>        <span class="n">head</span> <span class="o">=</span> <span class="s2">&quot;:field&quot;</span>
</span><span id="to_json-203"><a href="#to_json-203"><span class="linenos">203</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="to_json-204"><a href="#to_json-204"><span class="linenos">204</span></a>        <span class="n">jsn</span> <span class="o">=</span> <span class="n">DataFrameConnec</span><span class="o">.</span><span class="n">to_json_ntv</span><span class="p">(</span>
</span><span id="to_json-205"><a href="#to_json-205"><span class="linenos">205</span></a>            <span class="n">pd_array</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="n">option</span><span class="p">[</span><span class="s2">&quot;table&quot;</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="n">option</span><span class="p">[</span><span class="s2">&quot;index&quot;</span><span class="p">]</span>
</span><span id="to_json-206"><a href="#to_json-206"><span class="linenos">206</span></a>        <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="to_json-207"><a href="#to_json-207"><span class="linenos">207</span></a>        <span class="n">head</span> <span class="o">=</span> <span class="s2">&quot;:tab&quot;</span>
</span><span id="to_json-208"><a href="#to_json-208"><span class="linenos">208</span></a>    <span class="k">if</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;header&quot;</span><span class="p">]:</span>
</span><span id="to_json-209"><a href="#to_json-209"><span class="linenos">209</span></a>        <span class="n">jsn</span> <span class="o">=</span> <span class="p">{</span><span class="n">head</span><span class="p">:</span> <span class="n">jsn</span><span class="p">}</span>
</span><span id="to_json-210"><a href="#to_json-210"><span class="linenos">210</span></a>    <span class="k">if</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;encoded&quot;</span><span class="p">]:</span>
</span><span id="to_json-211"><a href="#to_json-211"><span class="linenos">211</span></a>        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">jsn</span><span class="p">)</span>
</span><span id="to_json-212"><a href="#to_json-212"><span class="linenos">212</span></a>    <span class="k">return</span> <span class="n">jsn</span>
</span></pre></div>


            <div class="docstring"><p>convert pandas Series or Dataframe to JSON text or JSON Value.</p>

<p><em>parameters</em></p>

<ul>
<li><strong>pd_array</strong> : Series or Dataframe to convert</li>
<li><strong>encoded</strong> : boolean (default: False) - if True return a JSON text else a JSON value</li>
<li><strong>header</strong> : boolean (default: True) - if True the JSON data is included as
value in a {key:value} object where key is ':field' for Series or ':tab' for DataFrame</li>
<li><strong>table</strong> : boolean (default False) - if True return TableSchema format</li>
<li><strong>index</strong> : boolean (default True) - if True the index Series is included</li>
</ul>
</div>


                </section>
                <section id="as_def_type">
                            <input id="as_def_type-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">as_def_type</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">pd_array</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="as_def_type-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#as_def_type"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="as_def_type-56"><a href="#as_def_type-56"><span class="linenos">56</span></a><span class="k">def</span> <span class="nf">as_def_type</span><span class="p">(</span><span class="n">pd_array</span><span class="p">):</span>
</span><span id="as_def_type-57"><a href="#as_def_type-57"><span class="linenos">57</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;convert a Series or DataFrame with default dtype&quot;&quot;&quot;</span>
</span><span id="as_def_type-58"><a href="#as_def_type-58"><span class="linenos">58</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pd_array</span><span class="p">,</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">)):</span>
</span><span id="as_def_type-59"><a href="#as_def_type-59"><span class="linenos">59</span></a>        <span class="k">return</span> <span class="n">pd_array</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span>
</span><span id="as_def_type-60"><a href="#as_def_type-60"><span class="linenos">60</span></a>            <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">deftype</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pd_array</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">pd_array</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</span><span id="as_def_type-61"><a href="#as_def_type-61"><span class="linenos">61</span></a>        <span class="p">)</span>
</span><span id="as_def_type-62"><a href="#as_def_type-62"><span class="linenos">62</span></a>    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="n">col</span><span class="p">:</span> <span class="n">as_def_type</span><span class="p">(</span><span class="n">pd_array</span><span class="p">[</span><span class="n">col</span><span class="p">])</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">pd_array</span><span class="o">.</span><span class="n">columns</span><span class="p">})</span>
</span></pre></div>


            <div class="docstring"><p>convert a Series or DataFrame with default dtype</p>
</div>


                </section>
                <section id="equals">
                            <input id="equals-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">equals</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">pdself</span>, </span><span class="param"><span class="n">pdother</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="equals-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#equals"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="equals-89"><a href="#equals-89"><span class="linenos">89</span></a><span class="k">def</span> <span class="nf">equals</span><span class="p">(</span><span class="n">pdself</span><span class="p">,</span> <span class="n">pdother</span><span class="p">):</span>
</span><span id="equals-90"><a href="#equals-90"><span class="linenos">90</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;return True if pd.equals is True and names are equal and dtype of categories are equal&quot;&quot;&quot;</span>
</span><span id="equals-91"><a href="#equals-91"><span class="linenos">91</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pdself</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pdother</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">):</span>
</span><span id="equals-92"><a href="#equals-92"><span class="linenos">92</span></a>        <span class="k">return</span> <span class="n">SeriesConnec</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">pdself</span><span class="p">,</span> <span class="n">pdother</span><span class="p">)</span>
</span><span id="equals-93"><a href="#equals-93"><span class="linenos">93</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pdself</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pdother</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
</span><span id="equals-94"><a href="#equals-94"><span class="linenos">94</span></a>        <span class="k">return</span> <span class="n">DataFrameConnec</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">pdself</span><span class="p">,</span> <span class="n">pdother</span><span class="p">)</span>
</span><span id="equals-95"><a href="#equals-95"><span class="linenos">95</span></a>    <span class="k">return</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>return True if pd.equals is True and names are equal and dtype of categories are equal</p>
</div>


                </section>
                <section id="to_analysis">
                            <input id="to_analysis-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">to_analysis</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">pd_df</span>, </span><span class="param"><span class="n">distr</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="to_analysis-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#to_analysis"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="to_analysis-151"><a href="#to_analysis-151"><span class="linenos">151</span></a><span class="k">def</span> <span class="nf">to_analysis</span><span class="p">(</span><span class="n">pd_df</span><span class="p">,</span> <span class="n">distr</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="to_analysis-152"><a href="#to_analysis-152"><span class="linenos">152</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;return a dict with data used in AnaDataset module&quot;&quot;&quot;</span>
</span><span id="to_analysis-153"><a href="#to_analysis-153"><span class="linenos">153</span></a>
</span><span id="to_analysis-154"><a href="#to_analysis-154"><span class="linenos">154</span></a>    <span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">pd_df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;category&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span><span class="p">)</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">pd_df</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
</span><span id="to_analysis-155"><a href="#to_analysis-155"><span class="linenos">155</span></a>    <span class="n">lencodec</span> <span class="o">=</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">key</span><span class="p">))</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">]</span>
</span><span id="to_analysis-156"><a href="#to_analysis-156"><span class="linenos">156</span></a>    <span class="k">if</span> <span class="n">distr</span><span class="p">:</span>
</span><span id="to_analysis-157"><a href="#to_analysis-157"><span class="linenos">157</span></a>        <span class="n">dist</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="to_analysis-158"><a href="#to_analysis-158"><span class="linenos">158</span></a>            <span class="p">[</span><span class="n">_dist</span><span class="p">(</span><span class="n">keys</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">keys</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">distr</span><span class="p">)</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">keys</span><span class="p">))]</span>
</span><span id="to_analysis-159"><a href="#to_analysis-159"><span class="linenos">159</span></a>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="to_analysis-160"><a href="#to_analysis-160"><span class="linenos">160</span></a>        <span class="p">]</span>
</span><span id="to_analysis-161"><a href="#to_analysis-161"><span class="linenos">161</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="to_analysis-162"><a href="#to_analysis-162"><span class="linenos">162</span></a>        <span class="n">dist</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="to_analysis-163"><a href="#to_analysis-163"><span class="linenos">163</span></a>            <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">keys</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">keys</span><span class="p">[</span><span class="n">j</span><span class="p">])))</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">keys</span><span class="p">))]</span>
</span><span id="to_analysis-164"><a href="#to_analysis-164"><span class="linenos">164</span></a>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="to_analysis-165"><a href="#to_analysis-165"><span class="linenos">165</span></a>        <span class="p">]</span>
</span><span id="to_analysis-166"><a href="#to_analysis-166"><span class="linenos">166</span></a>    <span class="k">return</span> <span class="p">{</span>
</span><span id="to_analysis-167"><a href="#to_analysis-167"><span class="linenos">167</span></a>        <span class="s2">&quot;fields&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="to_analysis-168"><a href="#to_analysis-168"><span class="linenos">168</span></a>            <span class="p">{</span>
</span><span id="to_analysis-169"><a href="#to_analysis-169"><span class="linenos">169</span></a>                <span class="s2">&quot;lencodec&quot;</span><span class="p">:</span> <span class="n">lencodec</span><span class="p">[</span><span class="n">ind</span><span class="p">],</span>
</span><span id="to_analysis-170"><a href="#to_analysis-170"><span class="linenos">170</span></a>                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">pd_df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">ind</span><span class="p">],</span>
</span><span id="to_analysis-171"><a href="#to_analysis-171"><span class="linenos">171</span></a>                <span class="s2">&quot;mincodec&quot;</span><span class="p">:</span> <span class="n">lencodec</span><span class="p">[</span><span class="n">ind</span><span class="p">],</span>
</span><span id="to_analysis-172"><a href="#to_analysis-172"><span class="linenos">172</span></a>            <span class="p">}</span>
</span><span id="to_analysis-173"><a href="#to_analysis-173"><span class="linenos">173</span></a>            <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pd_df</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>
</span><span id="to_analysis-174"><a href="#to_analysis-174"><span class="linenos">174</span></a>        <span class="p">],</span>
</span><span id="to_analysis-175"><a href="#to_analysis-175"><span class="linenos">175</span></a>        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="to_analysis-176"><a href="#to_analysis-176"><span class="linenos">176</span></a>        <span class="s2">&quot;length&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">pd_df</span><span class="p">),</span>
</span><span id="to_analysis-177"><a href="#to_analysis-177"><span class="linenos">177</span></a>        <span class="s2">&quot;relations&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="to_analysis-178"><a href="#to_analysis-178"><span class="linenos">178</span></a>            <span class="n">pd_df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span> <span class="p">{</span>
</span><span id="to_analysis-179"><a href="#to_analysis-179"><span class="linenos">179</span></a>                <span class="n">pd_df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">j</span> <span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]:</span> <span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
</span><span id="to_analysis-180"><a href="#to_analysis-180"><span class="linenos">180</span></a>            <span class="p">}</span>
</span><span id="to_analysis-181"><a href="#to_analysis-181"><span class="linenos">181</span></a>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">dist</span><span class="p">))</span>
</span><span id="to_analysis-182"><a href="#to_analysis-182"><span class="linenos">182</span></a>        <span class="p">},</span>
</span><span id="to_analysis-183"><a href="#to_analysis-183"><span class="linenos">183</span></a>    <span class="p">}</span>
</span></pre></div>


            <div class="docstring"><p>return a dict with data used in AnaDataset module</p>
</div>


                </section>
                <section id="from_xarray">
                            <input id="from_xarray-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">from_xarray</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">xdt</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="from_xarray-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#from_xarray"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="from_xarray-215"><a href="#from_xarray-215"><span class="linenos">215</span></a><span class="k">def</span> <span class="nf">from_xarray</span><span class="p">(</span><span class="n">xdt</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="from_xarray-216"><a href="#from_xarray-216"><span class="linenos">216</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;convert xarray.Dataset to pandas DataFrame.</span>
</span><span id="from_xarray-217"><a href="#from_xarray-217"><span class="linenos">217</span></a>
</span><span id="from_xarray-218"><a href="#from_xarray-218"><span class="linenos">218</span></a><span class="sd">    *Parameters*</span>
</span><span id="from_xarray-219"><a href="#from_xarray-219"><span class="linenos">219</span></a>
</span><span id="from_xarray-220"><a href="#from_xarray-220"><span class="linenos">220</span></a><span class="sd">    - **ntv_type**: Boolean (default True) - if False use full_name else json_name</span>
</span><span id="from_xarray-221"><a href="#from_xarray-221"><span class="linenos">221</span></a><span class="sd">    - **info**: Boolean (default True) - if True add xdt.info in DataFrame.attrs</span>
</span><span id="from_xarray-222"><a href="#from_xarray-222"><span class="linenos">222</span></a><span class="sd">    - **dims**: list of string (default None) - order of dimensions full_name to apply</span>
</span><span id="from_xarray-223"><a href="#from_xarray-223"><span class="linenos">223</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="from_xarray-224"><a href="#from_xarray-224"><span class="linenos">224</span></a>    <span class="k">return</span> <span class="n">Xdataset</span><span class="o">.</span><span class="n">from_xarray</span><span class="p">(</span><span class="n">xdt</span><span class="p">)</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>convert xarray.Dataset to pandas DataFrame.</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>ntv_type</strong>: Boolean (default True) - if False use full_name else json_name</li>
<li><strong>info</strong>: Boolean (default True) - if True add xdt.info in DataFrame.attrs</li>
<li><strong>dims</strong>: list of string (default None) - order of dimensions full_name to apply</li>
</ul>
</div>


                </section>
                <section id="from_scipp">
                            <input id="from_scipp-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">from_scipp</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">sci</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="from_scipp-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#from_scipp"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="from_scipp-227"><a href="#from_scipp-227"><span class="linenos">227</span></a><span class="k">def</span> <span class="nf">from_scipp</span><span class="p">(</span><span class="n">sci</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="from_scipp-228"><a href="#from_scipp-228"><span class="linenos">228</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;convert scipp.Dataset / scipp.DataArray / scipp.DataGroup to pandas DataFrame.</span>
</span><span id="from_scipp-229"><a href="#from_scipp-229"><span class="linenos">229</span></a>
</span><span id="from_scipp-230"><a href="#from_scipp-230"><span class="linenos">230</span></a><span class="sd">    *Parameters*</span>
</span><span id="from_scipp-231"><a href="#from_scipp-231"><span class="linenos">231</span></a>
</span><span id="from_scipp-232"><a href="#from_scipp-232"><span class="linenos">232</span></a><span class="sd">    - **ntv_type**: Boolean (default True) - if False use full_name else json_name</span>
</span><span id="from_scipp-233"><a href="#from_scipp-233"><span class="linenos">233</span></a><span class="sd">    - **info**: Boolean (default True) - if True add xdt.info in DataFrame.attrs</span>
</span><span id="from_scipp-234"><a href="#from_scipp-234"><span class="linenos">234</span></a><span class="sd">    - **dims**: list of string (default None) - order of dimensions full_name to apply</span>
</span><span id="from_scipp-235"><a href="#from_scipp-235"><span class="linenos">235</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="from_scipp-236"><a href="#from_scipp-236"><span class="linenos">236</span></a>    <span class="k">return</span> <span class="n">Xdataset</span><span class="o">.</span><span class="n">from_scipp</span><span class="p">(</span><span class="n">sci</span><span class="p">)</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>convert scipp.Dataset / scipp.DataArray / scipp.DataGroup to pandas DataFrame.</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>ntv_type</strong>: Boolean (default True) - if False use full_name else json_name</li>
<li><strong>info</strong>: Boolean (default True) - if True add xdt.info in DataFrame.attrs</li>
<li><strong>dims</strong>: list of string (default None) - order of dimensions full_name to apply</li>
</ul>
</div>


                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>