<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 8.1.0" />
    <title>ES.ilist API documentation</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2264%22%20height%3D%2264%22%20viewBox%3D%2244.5%202.5%2015%2015%22%3E%3Cpath%20d%3D%22M49.351%2021.041c-.233-.721-.546-2.408-.772-4.076-.042-.09-.067-.187-.046-.288-.166-1.347-.277-2.625-.241-3.351-1.378-1.008-2.271-2.586-2.271-4.362%200-.976.272-1.935.788-2.774.057-.094.122-.18.184-.268-.033-.167-.052-.339-.052-.516%200-1.477%201.202-2.679%202.679-2.679.791%200%201.496.352%201.987.9a6.3%206.3%200%200%201%201.001.029c.492-.564%201.207-.929%202.012-.929%201.477%200%202.679%201.202%202.679%202.679a2.65%202.65%200%200%201-.269%201.148c.383.747.595%201.572.595%202.41%200%202.311-1.507%204.29-3.635%205.107.037.699.147%202.27.423%203.294l.137.461c.156%202.136-4.612%205.166-5.199%203.215zm.127-4.919a4.78%204.78%200%200%200%20.775-.584c-.172-.115-.505-.254-.88-.378zm.331%202.302l.828-.502c-.202-.143-.576-.328-.984-.49zm.45%202.157l.701-.403c-.214-.115-.536-.249-.891-.376l.19.779zM49.13%204.141c0%20.152.123.276.276.276s.275-.124.275-.276-.123-.276-.276-.276-.275.124-.275.276zm.735-.389a1.15%201.15%200%200%201%20.314.783%201.16%201.16%200%200%201-1.162%201.162c-.457%200-.842-.27-1.032-.653-.026.117-.042.238-.042.362a1.68%201.68%200%200%200%201.679%201.679%201.68%201.68%200%200%200%201.679-1.679c0-.843-.626-1.535-1.436-1.654zm3.076%201.654a1.68%201.68%200%200%200%201.679%201.679%201.68%201.68%200%200%200%201.679-1.679c0-.037-.009-.072-.011-.109-.21.3-.541.508-.935.508a1.16%201.16%200%200%201-1.162-1.162%201.14%201.14%200%200%201%20.474-.912c-.015%200-.03-.005-.045-.005-.926.001-1.679.754-1.679%201.68zm1.861-1.265c0%20.152.123.276.276.276s.275-.124.275-.276-.123-.276-.276-.276-.275.124-.275.276zm1.823%204.823c0-.52-.103-1.035-.288-1.52-.466.394-1.06.64-1.717.64-1.144%200-2.116-.725-2.499-1.738-.383%201.012-1.355%201.738-2.499%201.738-.867%200-1.631-.421-2.121-1.062-.307.605-.478%201.267-.478%201.942%200%202.486%202.153%204.51%204.801%204.51s4.801-2.023%204.801-4.51zm-3.032%209.156l-.146-.492c-.276-1.02-.395-2.457-.444-3.268a6.11%206.11%200%200%201-1.18.115%206.01%206.01%200%200%201-2.536-.562l.006.175c.802.215%201.848.612%202.021%201.25.079.295-.021.601-.274.837l-.598.501c.667.304%201.243.698%201.311%201.179.02.144.022.507-.393.787l-.564.365c1.285.521%201.361.96%201.381%201.126.018.142.011.496-.427.746l-.854.489c.064-1.19%201.985-2.585%202.697-3.248zM49.34%209.925c0-.667%201-.667%201%200%200%20.653.818%201.205%201.787%201.205s1.787-.552%201.787-1.205c0-.667%201-.667%201%200%200%201.216-1.25%202.205-2.787%202.205s-2.787-.989-2.787-2.205zm-.887-7.633c-.093.077-.205.114-.317.114a.5.5%200%200%201-.318-.886L49.183.397a.5.5%200%200%201%20.703.068.5.5%200%200%201-.069.703zm7.661-.065c-.086%200-.173-.022-.253-.068l-1.523-.893c-.575-.337-.069-1.2.506-.863l1.523.892a.5.5%200%200%201%20.179.685c-.094.158-.261.247-.432.247z%22%20fill%3D%22%233bb300%22/%3E%3C/svg%3E"/>


<style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
<style>/*! pygments syntax highlighting */pre{line-height:125%;}td.linenos pre{color:#000000; background-color:#f0f0f0; padding-left:5px; padding-right:5px;}span.linenos{color:#000000; background-color:#f0f0f0; padding-left:5px; padding-right:5px;}td.linenos pre.special{color:#000000; background-color:#ffffc0; padding-left:5px; padding-right:5px;}span.linenos.special{color:#000000; background-color:#ffffc0; padding-left:5px; padding-right:5px;}.pdoc .hll{background-color:#ffffcc}.pdoc{background:#f8f8f8;}.pdoc .c{color:#408080; font-style:italic}.pdoc .err{border:1px solid #FF0000}.pdoc .k{color:#008000; font-weight:bold}.pdoc .o{color:#666666}.pdoc .ch{color:#408080; font-style:italic}.pdoc .cm{color:#408080; font-style:italic}.pdoc .cp{color:#BC7A00}.pdoc .cpf{color:#408080; font-style:italic}.pdoc .c1{color:#408080; font-style:italic}.pdoc .cs{color:#408080; font-style:italic}.pdoc .gd{color:#A00000}.pdoc .ge{font-style:italic}.pdoc .gr{color:#FF0000}.pdoc .gh{color:#000080; font-weight:bold}.pdoc .gi{color:#00A000}.pdoc .go{color:#888888}.pdoc .gp{color:#000080; font-weight:bold}.pdoc .gs{font-weight:bold}.pdoc .gu{color:#800080; font-weight:bold}.pdoc .gt{color:#0044DD}.pdoc .kc{color:#008000; font-weight:bold}.pdoc .kd{color:#008000; font-weight:bold}.pdoc .kn{color:#008000; font-weight:bold}.pdoc .kp{color:#008000}.pdoc .kr{color:#008000; font-weight:bold}.pdoc .kt{color:#B00040}.pdoc .m{color:#666666}.pdoc .s{color:#BA2121}.pdoc .na{color:#7D9029}.pdoc .nb{color:#008000}.pdoc .nc{color:#0000FF; font-weight:bold}.pdoc .no{color:#880000}.pdoc .nd{color:#AA22FF}.pdoc .ni{color:#999999; font-weight:bold}.pdoc .ne{color:#D2413A; font-weight:bold}.pdoc .nf{color:#0000FF}.pdoc .nl{color:#A0A000}.pdoc .nn{color:#0000FF; font-weight:bold}.pdoc .nt{color:#008000; font-weight:bold}.pdoc .nv{color:#19177C}.pdoc .ow{color:#AA22FF; font-weight:bold}.pdoc .w{color:#bbbbbb}.pdoc .mb{color:#666666}.pdoc .mf{color:#666666}.pdoc .mh{color:#666666}.pdoc .mi{color:#666666}.pdoc .mo{color:#666666}.pdoc .sa{color:#BA2121}.pdoc .sb{color:#BA2121}.pdoc .sc{color:#BA2121}.pdoc .dl{color:#BA2121}.pdoc .sd{color:#BA2121; font-style:italic}.pdoc .s2{color:#BA2121}.pdoc .se{color:#BB6622; font-weight:bold}.pdoc .sh{color:#BA2121}.pdoc .si{color:#BB6688; font-weight:bold}.pdoc .sx{color:#008000}.pdoc .sr{color:#BB6688}.pdoc .s1{color:#BA2121}.pdoc .ss{color:#19177C}.pdoc .bp{color:#008000}.pdoc .fm{color:#0000FF}.pdoc .vc{color:#19177C}.pdoc .vg{color:#19177C}.pdoc .vi{color:#19177C}.pdoc .vm{color:#19177C}.pdoc .il{color:#666666}</style>
<style>/*! pdoc */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f7f7f7;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}body{background-color:var(--pdoc-background);}html, body{width:100%;height:100%;}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}.git-button{display:none !important;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}#navtoggle{display:none;}}#togglestate{display:none;}nav.pdoc{--pad:1.75rem;--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc li{display:block;margin:0;padding:.2rem 0 .2rem var(--indent);transition:all 100ms;}nav.pdoc > div > ul > li{padding-left:0;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}html, main{scroll-behavior:smooth;}.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{background-color:var(--code);border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.pdoc details{--shift:-40px;text-align:right;margin-top:var(--shift);margin-bottom:calc(0px - var(--shift));clear:both;filter:opacity(1);}.pdoc details:not([open]){height:0;overflow:visible;}.pdoc details > summary{font-size:.75rem;cursor:pointer;color:var(--muted);border-width:0;padding:0 .7em;display:inline-block;display:inline list-item;user-select:none;}.pdoc details > summary:focus{outline:0;}.pdoc details > div{margin-top:calc(0px - var(--shift) / 2);text-align:left;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc > section:first-of-type > .docstring{margin-bottom:3rem;}.pdoc .docstring pre{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc .headerlink{position:absolute;width:0;margin-left:-1.5rem;line-height:1.4rem;font-size:1.5rem;font-weight:normal;transition:all 100ms ease-in-out;opacity:0;}.pdoc .attr > .headerlink{margin-left:-2.5rem;}.pdoc *:hover > .headerlink,.pdoc *:target > .attr > .headerlink{opacity:1;}.pdoc .attr{display:block;color:var(--text);margin:1rem 0 .5rem;padding:.4rem 5rem .4rem 1rem;background-color:var(--accent);}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{white-space:pre-wrap;}.pdoc .annotation{color:var(--annotation);}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
</head>
<body>        <nav class="pdoc">
            <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
            <input id="togglestate" type="checkbox">
            <div>
                        <a class="pdoc-button module-list-button" href="../ES.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                            &nbsp;ES</a>

                        <img src="https://loco-philippe.github.io/ES/logo_loco.png" class="logo" alt="project logo"/>

                        <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                               pattern=".+" required>

                    <h2>Contents</h2>
                    <ul>
  <li><a href="#what-is-the-ilist-object">What is the Ilist Object ?</a></li>
  <li><a href="#main-principles">Main principles</a>
  <ul>
    <li><a href="#index-properties">Index properties</a></li>
  </ul></li>
</ul>



                    <h2>API Documentation</h2>
                        <ul class="memberlist">
            <li>
                    <a class="function" href="#identity">identity</a>
            </li>
            <li>
                    <a class="class" href="#Ilist">Ilist</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Ilist.__init__">Ilist</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.Idict">Idict</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.Iset">Iset</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.Iidx">Iidx</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.Iext">Iext</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.Izip">Izip</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.Icsv">Icsv</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.extval">extval</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.iidx">iidx</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.setidx">setidx</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.valname">valname</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.idxname">idxname</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.axes">axes</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.axesall">axesall</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.axesmin">axesmin</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.axeslen">axeslen</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.complete">complete</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.consistent">consistent</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.dimension">dimension</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.extidx">extidx</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.idxcoupled">idxcoupled</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.idxder">idxder</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.idxderived">idxderived</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.idxlen">idxlen</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.idxref">idxref</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.idxunique">idxunique</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.ind">ind</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.ival">ival</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.lencomplete">lencomplete</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.lenidx">lenidx</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.minMaxIndex">minMaxIndex</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.rate">rate</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.setval">setval</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.setvallen">setvallen</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.tiidx">tiidx</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.textidx">textidx</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ilist.zip">zip</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.addextidx">addextidx</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.addlistidx">addlistidx</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.append">append</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.appendi">appendi</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.extidxtoi">extidxtoi</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.full">full</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.iadd">iadd</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.iidxtoext">iidxtoext</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.iloc">iloc</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.isextIndex">isextIndex</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.isiIndex">isiIndex</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.isValue">isValue</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.json">json</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.loc">loc</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.reindex">reindex</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.reorder">reorder</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.sort">sort</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.sortidx">sortidx</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.swapindex">swapindex</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.to_csv">to_csv</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.to_numpy">to_numpy</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.to_xarray">to_xarray</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.updateidx">updateidx</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.updatelist">updatelist</a>
                        </li>
                        <li>
                                <a class="function" href="#Ilist.vlist">vlist</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#IlistError">IlistError</a>
                            <ul class="memberlist">
                </ul>

            </li>
    </ul>



                    <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev">
                        built with <span class="visually-hidden">pdoc</span><img
                            alt="pdoc logo"
                            src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
                    </a>
            </div>
        </nav>
    <main class="pdoc">
            <section>
                    <h1 class="modulename">
<a href="./../ES.html">ES</a><wbr>.ilist    </h1>

                        <div class="docstring"><p>Created on Sun Jan  2 18:30:14 2022</p>

<p>@author: Philippe@loco-labs.io</p>

<p>The <code><a href="">ES.ilist</a></code> module contains the <code><a href="#Ilist">Ilist</a></code> class.</p>

<h1 id="what-is-the-ilist-object">What is the Ilist Object ?</h1>

<p>The Ilist Object is a combination of a set of data and properties (index) that describe it.
In the example below, the set of data is scores of students and the properties are the name,
 the age and the subject.</p>

<p><img src="./ilist_example.png" width="500"></p>

<p>The Ilist Object has many properties and can be converted into a matrix (e.g. numpy
or Xarray object to perform statistical processing) or into several formats (e.g. json, csv).</p>

<p><img src="./ilist_xarray.png" width="400"></p>

<p>The data model is as follows :</p>

<p><img src="./ilist_data_structure.png" width="500"></p>

<ul>
<li>the user data (extval, extidx) can be everything,</li>
<li>the internal data (ival, iidx) are integers, which makes the processing to be performed
much simpler</li>
<li>the index user data (extidx) are dynamic to reduce the size of data.</li>
</ul>

<h1 id="main-principles">Main principles</h1>

<h2 id="index-properties">Index properties</h2>

<p>There are 4 index categories :</p>

<ul>
<li>coupled index : two index are coupled if there is a 1-to-1 correspondence between each value</li>
<li>derived index : two index are derived if there is a 1-to-n correspondence between each value</li>
<li>unique index : the values of an index are identical</li>
<li>independant index : if the index is not unique, not derived, not coupled</li>
</ul>

<p>In the example below, 3 columns are independant (Full name, Course, Examen),
3 columns are derived (First name, Last name, Group), 1 column is coupled (Surname),
1 column is unique (Year).</p>

<p><img src="./ilist_index.png" width="800"></p>

<p>If an index is not independant, values can be calculated from independent indexes.
This property is very usefull if new values have to be added to the Ilist, for example,
if i decide to have all the combinations of independant index.</p>

<p>In the example below, the 'full' method generates missing data for all combinations
of independent indexes fullname, course and examen.</p>

<p><img src="./ilist_full.png" width="800"></p>
</div>

                        <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Created on Sun Jan  2 18:30:14 2022</span>

<span class="sd">@author: Philippe@loco-labs.io</span>

<span class="sd">The `ES.ilist` module contains the `Ilist` class.</span>

<span class="sd"># What is the Ilist Object ?</span>

<span class="sd">The Ilist Object is a combination of a set of data and properties (index) that describe it.</span>
<span class="sd">In the example below, the set of data is scores of students and the properties are the name,</span>
<span class="sd"> the age and the subject.</span>

<span class="sd">&lt;img src=&quot;./ilist_example.png&quot; width=&quot;500&quot;&gt;</span>

<span class="sd">The Ilist Object has many properties and can be converted into a matrix (e.g. numpy</span>
<span class="sd">or Xarray object to perform statistical processing) or into several formats (e.g. json, csv).</span>

<span class="sd">&lt;img src=&quot;./ilist_xarray.png&quot; width=&quot;400&quot;&gt;</span>

<span class="sd">The data model is as follows :</span>

<span class="sd">&lt;img src=&quot;./ilist_data_structure.png&quot; width=&quot;500&quot;&gt;</span>

<span class="sd">- the user data (extval, extidx) can be everything,</span>
<span class="sd">- the internal data (ival, iidx) are integers, which makes the processing to be performed</span>
<span class="sd"> much simpler</span>
<span class="sd">- the index user data (extidx) are dynamic to reduce the size of data.</span>

<span class="sd"># Main principles</span>

<span class="sd">## Index properties</span>

<span class="sd">There are 4 index categories :</span>

<span class="sd">- coupled index : two index are coupled if there is a 1-to-1 correspondence between each value</span>
<span class="sd">- derived index : two index are derived if there is a 1-to-n correspondence between each value</span>
<span class="sd">- unique index : the values of an index are identical</span>
<span class="sd">- independant index : if the index is not unique, not derived, not coupled</span>

<span class="sd">In the example below, 3 columns are independant (Full name, Course, Examen),</span>
<span class="sd">3 columns are derived (First name, Last name, Group), 1 column is coupled (Surname),</span>
<span class="sd">1 column is unique (Year).</span>

<span class="sd">&lt;img src=&quot;./ilist_index.png&quot; width=&quot;800&quot;&gt;</span>

<span class="sd">If an index is not independant, values can be calculated from independent indexes.</span>
<span class="sd">This property is very usefull if new values have to be added to the Ilist, for example,</span>
<span class="sd">if i decide to have all the combinations of independant index.</span>

<span class="sd">In the example below, the &#39;full&#39; method generates missing data for all combinations</span>
<span class="sd">of independent indexes fullname, course and examen.</span>

<span class="sd">&lt;img src=&quot;./ilist_full.png&quot; width=&quot;800&quot;&gt;</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">product</span>
<span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">copy</span><span class="p">,</span> <span class="n">deepcopy</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">csv</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">xarray</span>


<span class="k">def</span> <span class="nf">identity</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;return the same value as args or kwargs&#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">:</span> <span class="k">return</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">:</span> <span class="k">return</span> <span class="n">kwargs</span><span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]]</span>
    <span class="k">return</span> <span class="kc">None</span>

<span class="k">class</span> <span class="nc">Ilist</span><span class="p">:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    An `Ilist` is a representation of an indexed list (a list is indexed by others list).</span>
<span class="sd">    E.g. python zip or csv file.</span>

<span class="sd">    *Attributes (for @property see methods)* :</span>

<span class="sd">    - **extval** : list of data to be indexed</span>
<span class="sd">    - **valname** : name of the extval list</span>
<span class="sd">    - **setval** : list of the different extval values (dynamic value)</span>
<span class="sd">    - **ival** : index of the extval (dynamic value)</span>
<span class="sd">    - **extidx** : list of index (dynamic value)</span>
<span class="sd">    - **idxname** : list of the index name</span>
<span class="sd">    - **setidx** : list of the different idxval values</span>
<span class="sd">    - **iidx** : index of the extidx list of values</span>

<span class="sd">    The methods defined in this class are :</span>

<span class="sd">    *class methods (constructor)*</span>

<span class="sd">    - `Ilist.Idict`</span>
<span class="sd">    - `Ilist.Iset`</span>
<span class="sd">    - `Ilist.Iidx`</span>
<span class="sd">    - `Ilist.Iext`</span>
<span class="sd">    - `Ilist.Izip`</span>
<span class="sd">    - `Ilist.Icsv`</span>

<span class="sd">    *dynamic value property (getters)*</span>

<span class="sd">    - `Ilist.ival`</span>
<span class="sd">    - `Ilist.setval`</span>
<span class="sd">    - `Ilist.extidx`</span>
<span class="sd">    - `Ilist.tiidx`</span>
<span class="sd">    - `Ilist.textidx`</span>

<span class="sd">    *global property (getters)*</span>

<span class="sd">    - `Ilist.axes`</span>
<span class="sd">    - `Ilist.axesall`</span>
<span class="sd">    - `Ilist.axeslen`</span>
<span class="sd">    - `Ilist.axesmin`</span>
<span class="sd">    - `Ilist.complete`</span>
<span class="sd">    - `Ilist.consistent`</span>
<span class="sd">    - `Ilist.dimension`</span>
<span class="sd">    - `Ilist.lencomplete`</span>
<span class="sd">    - `Ilist.rate`</span>
<span class="sd">    - `Ilist.setvallen`</span>
<span class="sd">    - `Ilist.zip`</span>

<span class="sd">    *idx property (getters)*</span>

<span class="sd">    - `Ilist.idxcoupled`</span>
<span class="sd">    - `Ilist.idxderived`</span>
<span class="sd">    - `Ilist.idxlen`</span>
<span class="sd">    - `Ilist.idxref`</span>
<span class="sd">    - `Ilist.idxunique`</span>
<span class="sd">    - `Ilist.ind`</span>
<span class="sd">    - `Ilist.lenidx`</span>
<span class="sd">    - `Ilist.minMaxIndex`</span>

<span class="sd">    *add - update methods*</span>

<span class="sd">    - `Ilist.addextidx`</span>
<span class="sd">    - `Ilist.addlistidx`</span>
<span class="sd">    - `Ilist.append`</span>
<span class="sd">    - `Ilist.appendi`</span>
<span class="sd">    - `Ilist.updateidx`</span>
<span class="sd">    - `Ilist.updatelist`</span>

<span class="sd">    *selecting methods*</span>

<span class="sd">    - `Ilist.extidxtoi`</span>
<span class="sd">    - `Ilist.iidxtoext`</span>
<span class="sd">    - `Ilist.iloc`</span>
<span class="sd">    - `Ilist.isextIndex`</span>
<span class="sd">    - `Ilist.isiIndex`</span>
<span class="sd">    - `Ilist.isValue`</span>
<span class="sd">    - `Ilist.loc`</span>

<span class="sd">    *management - conversion methods*</span>

<span class="sd">    - `Ilist.full`</span>
<span class="sd">    - `Ilist.reindex`</span>
<span class="sd">    - `Ilist.reorder`</span>
<span class="sd">    - `Ilist.sort`</span>
<span class="sd">    - `Ilist.sortidx`</span>
<span class="sd">    - `Ilist.swapindex`</span>

<span class="sd">    *exports methods*</span>

<span class="sd">    - `Ilist.json`</span>
<span class="sd">    - `Ilist.to_csv`</span>
<span class="sd">    - `Ilist.to_numpy`</span>
<span class="sd">    - `Ilist.to_xarray`</span>
<span class="sd">    - `Ilist.vlist`</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="s1">&#39;extval&#39;</span><span class="p">,</span> <span class="s1">&#39;iidx&#39;</span><span class="p">,</span> <span class="s1">&#39;setidx&#39;</span><span class="p">,</span> <span class="s1">&#39;valname&#39;</span><span class="p">,</span> <span class="s1">&#39;idxname&#39;</span>

    <span class="nd">@classmethod</span>     <span class="c1"># !!! class methods</span>
    <span class="k">def</span> <span class="nf">Idict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">dictvaliidx</span><span class="p">,</span> <span class="n">dictsetidx</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">[],</span> <span class="n">idxref</span><span class="o">=</span><span class="p">[],</span> <span class="n">defaultidx</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Ilist constructor (dictionnary data).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **dictvaliidx** :  {valname : valiidx} with val=list(list(val, indexval))</span>
<span class="sd">        - **dictsetidx** :  {idxname0 : setidx0, ... , idxnamen : setidxn}</span>
<span class="sd">        - **order** : list (default []) of axes used if there is no indexval in valiidx</span>
<span class="sd">        - **idxref** : list (default []) of reference axes used if there is no indexval</span>
<span class="sd">        in valiidx</span>
<span class="sd">        - **defaultidx** : boolean (default True). If True, a generic index is generated</span>
<span class="sd">        if no index is defined</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **Ilist**  &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="o">*</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_initdict</span><span class="p">(</span><span class="n">dictvaliidx</span><span class="p">,</span> <span class="n">dictsetidx</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">idxref</span><span class="p">),</span> <span class="n">defaultidx</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">Iset</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">valiidx</span><span class="p">,</span> <span class="n">setidx</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">[],</span> <span class="n">idxref</span><span class="o">=</span><span class="p">[],</span> <span class="n">valname</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span>
             <span class="n">idxname</span><span class="o">=</span><span class="p">[],</span> <span class="n">defaultidx</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Ilist constructor (list data with indexed values ).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **valiidx** :  coupled val / index list : list(list(val, indexval))</span>
<span class="sd">        - **setidx** :  external different values of index (see data model)</span>
<span class="sd">        - **order** : list (default []) of axes used if there is no indexval in valiidx</span>
<span class="sd">        - **idxref** : list (default []) of reference axes used if there is no indexval in valiidx</span>
<span class="sd">        - **valname** : string (default &#39;value&#39;) name of indexed list (see data model)</span>
<span class="sd">        - **idxname** : list of string (default []) name of index list (see data model)</span>
<span class="sd">        - **defaultidx** : boolean (default True). If True, a generic index is generated</span>
<span class="sd">        if no index is defined</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **Ilist**  &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">valiidx</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="p">:</span> <span class="n">validx</span> <span class="o">=</span> <span class="p">[</span><span class="n">valiidx</span><span class="p">]</span>
        <span class="k">else</span> <span class="p">:</span> <span class="n">validx</span> <span class="o">=</span> <span class="n">valiidx</span>
        <span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">iidx</span><span class="p">)</span> <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_initset</span><span class="p">(</span><span class="n">validx</span><span class="p">,</span> <span class="n">setidx</span><span class="p">,</span> <span class="n">idxref</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">setidx</span><span class="p">,</span> <span class="n">iidx</span><span class="p">,</span> <span class="n">valname</span><span class="p">,</span> <span class="n">idxname</span><span class="p">,</span> <span class="n">defaultidx</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">Iidx</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">extval</span><span class="p">,</span> <span class="n">idxlen</span><span class="p">,</span> <span class="n">idxref</span><span class="o">=</span><span class="p">[],</span> <span class="n">order</span><span class="o">=</span><span class="p">[],</span> <span class="n">valname</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">idxname</span><span class="o">=</span><span class="p">[],</span>
             <span class="n">defaultidx</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Ilist constructor (automatic index).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extval** : indexed list (see data model)</span>
<span class="sd">        - **idxlen** : integer - number of index</span>
<span class="sd">        - **idxref** : list (default []) of reference axes used</span>
<span class="sd">        - **order** : list (default []) of axes used to order the index</span>
<span class="sd">        - **valname** : string (default &#39;value&#39;) name of indexed list (see data model)</span>
<span class="sd">        - **idxname** : list of string (default []) name of index list (see data model)</span>
<span class="sd">        - **defaultidx** : boolean (default True). If True, a generic index</span>
<span class="sd">        is generated if no index is defined</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **Ilist**  &#39;&#39;&#39;</span>
        <span class="n">iidx</span> <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_initiidx</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">extval</span><span class="p">),</span> <span class="n">idxlen</span><span class="p">,</span> <span class="n">idxref</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">defaultidx</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">extval</span><span class="p">,</span> <span class="p">[],</span> <span class="n">iidx</span><span class="p">,</span> <span class="n">valname</span><span class="p">,</span> <span class="n">idxname</span><span class="p">,</span> <span class="n">defaultidx</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">Iext</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">extval</span><span class="o">=</span><span class="p">[],</span> <span class="n">extidx</span><span class="o">=</span><span class="p">[],</span> <span class="n">valname</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">idxname</span><span class="o">=</span><span class="p">[],</span> <span class="n">defaultidx</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Ilist constructor (external index).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extval** : indexed list (see data model)</span>
<span class="sd">        - **extidx** : index list (see data model)</span>
<span class="sd">        - **valname** : string (default &#39;value&#39;) name of indexed list (see data model)</span>
<span class="sd">        - **idxname** : list of string (default []) name of index list (see data model)</span>
<span class="sd">        - **defaultidx** : boolean (default True). If True, a generic index</span>
<span class="sd">        is generated if no index is defined</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **Ilist**  &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">extval</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">extidx</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">defaultidx</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">extidx</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="ow">or</span> <span class="n">extidx</span> <span class="o">==</span> <span class="p">[])</span> <span class="p">:</span>
            <span class="n">ext</span> <span class="o">=</span> <span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">extval</span><span class="p">)))]</span>
            <span class="n">idxname</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;default index&#39;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">extidx</span> <span class="o">!=</span> <span class="p">[]</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">extidx</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">!=</span> <span class="nb">list</span> <span class="p">:</span> <span class="n">ext</span> <span class="o">=</span> <span class="p">[</span><span class="n">extidx</span><span class="p">]</span>
        <span class="k">else</span> <span class="p">:</span>                                          <span class="n">ext</span> <span class="o">=</span> <span class="n">extidx</span>
        <span class="n">setidx</span> <span class="o">=</span> <span class="p">[</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_toset</span><span class="p">(</span><span class="n">ind</span><span class="p">)</span> <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">ext</span><span class="p">]</span>
        <span class="n">iidx</span>   <span class="o">=</span> <span class="p">[</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_toint</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">setind</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">setind</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">ext</span><span class="p">,</span> <span class="n">setidx</span><span class="p">)]</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">extval</span><span class="p">,</span> <span class="n">setidx</span><span class="p">,</span> <span class="n">iidx</span><span class="p">,</span> <span class="n">valname</span><span class="p">,</span> <span class="n">idxname</span><span class="p">,</span> <span class="n">defaultidx</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">Izip</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Ilist constructor (external index only).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **args** : index list extidx=list(args) (see data model)</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **Ilist**  &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">Iext</span><span class="p">(</span><span class="n">extval</span><span class="o">=</span><span class="p">[],</span> <span class="n">extidx</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="n">valname</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">idxname</span><span class="o">=</span><span class="p">[],</span> <span class="n">defaultidx</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">Icsv</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;ilist.csv&#39;</span><span class="p">,</span> <span class="n">valfirst</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Ilist constructor (from a csv file). Each column represents extidx or extval values.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **filename** : string (default &#39;ilist.csv&#39;), name of the file to read</span>
<span class="sd">        - **valfirst** : boolean (default False). If False extval is the last columns</span>
<span class="sd">        else it&#39;s the first</span>
<span class="sd">        - **header** : boolean (default True). If True, the first raw is dedicated to names</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **Ilist**  &#39;&#39;&#39;</span>
        <span class="n">extval</span><span class="o">=</span><span class="p">[]</span>
        <span class="n">extidx</span><span class="o">=</span><span class="p">[]</span>
        <span class="n">valname</span><span class="o">=</span><span class="s1">&#39;value&#39;</span>
        <span class="n">idxname</span><span class="o">=</span><span class="p">[]</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="n">first</span><span class="o">=</span><span class="kc">True</span>
            <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">first</span> <span class="p">:</span>
                    <span class="k">for</span> <span class="n">vrow</span> <span class="ow">in</span> <span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="p">:</span> <span class="n">extidx</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
                <span class="k">if</span> <span class="n">first</span> <span class="ow">and</span> <span class="n">header</span> <span class="p">:</span>
                    <span class="k">if</span> <span class="n">valfirst</span>      <span class="p">:</span>
                        <span class="n">valname</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                        <span class="k">for</span> <span class="n">vrow</span> <span class="ow">in</span> <span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="p">:</span> <span class="n">idxname</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vrow</span><span class="p">)</span>
                    <span class="k">else</span> <span class="p">:</span>
                        <span class="n">valname</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="k">for</span> <span class="n">vrow</span> <span class="ow">in</span> <span class="n">row</span><span class="p">[:</span><span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">idxname</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vrow</span><span class="p">)</span>
                <span class="k">else</span> <span class="p">:</span>
                    <span class="k">if</span> <span class="n">valfirst</span>      <span class="p">:</span>
                        <span class="n">extval</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">:</span> <span class="n">extidx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
                    <span class="k">else</span> <span class="p">:</span>
                        <span class="n">extval</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">:</span> <span class="n">extidx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="n">first</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">Iext</span><span class="p">(</span><span class="n">extval</span><span class="p">,</span> <span class="n">extidx</span><span class="p">,</span> <span class="n">valname</span><span class="p">,</span> <span class="n">idxname</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extval</span><span class="o">=</span><span class="p">[],</span> <span class="n">setidx</span><span class="o">=</span><span class="p">[],</span> <span class="n">iidx</span><span class="o">=</span><span class="p">[],</span> <span class="n">valname</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">idxname</span><span class="o">=</span><span class="p">[],</span> <span class="n">defaultidx</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Ilist constructor.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extval** : list (default []) - indexed list (see data model)</span>
<span class="sd">        - **setidx** :  list (default []) - external different values of index (see data model)</span>
<span class="sd">        - **iidx** :  list (default [])  - integer value of index (see data model)</span>
<span class="sd">        - **valname** : string (default &#39;value&#39;) - name of indexed list (see data model)</span>
<span class="sd">        - **idxname** : list of string (default []) - name of index list (see data model)</span>
<span class="sd">        - **defaultidx** : boolean (default True) - If True, a generic index</span>
<span class="sd">        is generated if no index is defined</span>

<span class="sd">        *Returns* : None&#39;&#39;&#39;</span>
        <span class="k">if</span>   <span class="nb">type</span><span class="p">(</span><span class="n">extval</span><span class="p">)</span>  <span class="o">!=</span> <span class="nb">list</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">iidx</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="p">:</span> <span class="k">return</span>
        <span class="k">if</span>   <span class="n">defaultidx</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">iidx</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="ow">or</span> <span class="n">iidx</span> <span class="o">==</span> <span class="p">[])</span> <span class="p">:</span>
            <span class="n">iindex</span> <span class="o">=</span> <span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">extval</span><span class="p">)))]</span>
            <span class="k">if</span> <span class="n">idxname</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span>                      <span class="n">idxname</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;default index&#39;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">iidx</span> <span class="o">!=</span> <span class="p">[]</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">iidx</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">!=</span> <span class="nb">list</span> <span class="p">:</span> <span class="n">iindex</span> <span class="o">=</span> <span class="p">[</span><span class="n">iidx</span><span class="p">]</span>
        <span class="k">else</span> <span class="p">:</span>                                      <span class="n">iindex</span> <span class="o">=</span> <span class="n">iidx</span>
        <span class="k">if</span>   <span class="nb">type</span><span class="p">(</span><span class="n">setidx</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="ow">or</span> <span class="n">setidx</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span> <span class="n">setindex</span> <span class="o">=</span> <span class="p">[</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_toset</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">iindex</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">setidx</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">!=</span> <span class="nb">list</span> <span class="p">:</span>              <span class="n">setindex</span> <span class="o">=</span> <span class="p">[</span><span class="n">setidx</span><span class="p">]</span>
        <span class="k">else</span> <span class="p">:</span>                                      <span class="n">setindex</span> <span class="o">=</span>  <span class="n">setidx</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">extval</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span>                   <span class="p">:</span> <span class="n">extvalue</span> <span class="o">=</span> <span class="p">[</span><span class="n">extval</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">extval</span> <span class="o">==</span> <span class="p">[]</span> <span class="ow">and</span> <span class="n">iindex</span> <span class="o">==</span> <span class="p">[]</span>        <span class="p">:</span> <span class="n">extvalue</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">elif</span> <span class="n">extval</span> <span class="o">==</span> <span class="p">[]</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">iindex</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="nb">list</span><span class="p">:</span>
                                                    <span class="n">extvalue</span> <span class="o">=</span> <span class="p">[</span><span class="kc">True</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">iindex</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
                                                    <span class="n">valname</span> <span class="o">=</span> <span class="s1">&#39;default value&#39;</span>
        <span class="k">else</span> <span class="p">:</span>                                      <span class="n">extvalue</span> <span class="o">=</span> <span class="n">extval</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extval</span>  <span class="o">=</span> <span class="n">extvalue</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span>    <span class="o">=</span> <span class="n">iindex</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span>  <span class="o">=</span> <span class="n">setindex</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">valname</span> <span class="o">=</span> <span class="n">valname</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;idx&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">iindex</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">setindex</span><span class="p">)))]</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">idxname</span><span class="p">)</span> <span class="o">==</span> <span class="nb">list</span> <span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">idxname</span><span class="p">))</span> <span class="p">:</span>
                <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">==</span> <span class="nb">str</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_initset</span><span class="p">(</span><span class="n">validx</span><span class="p">,</span> <span class="n">setidx</span><span class="p">,</span> <span class="n">idxref</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">defaultidx</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; generate extval and iidx &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">validx</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span>
            <span class="n">extval</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">iidx</span>   <span class="o">=</span> <span class="p">[[]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">setidx</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">validx</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">!=</span> <span class="nb">list</span> <span class="p">:</span>
            <span class="n">extval</span> <span class="o">=</span> <span class="n">validx</span>
            <span class="n">idxlen</span> <span class="o">=</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">ind</span><span class="p">)</span> <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">setidx</span><span class="p">]</span>
            <span class="n">iidx</span>   <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_initiidx</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">extval</span><span class="p">),</span> <span class="n">idxlen</span><span class="p">,</span> <span class="n">idxref</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">defaultidx</span><span class="p">)</span>
        <span class="k">else</span> <span class="p">:</span>
            <span class="n">tvalidx</span> <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="n">validx</span><span class="p">)</span>
            <span class="n">extval</span>  <span class="o">=</span> <span class="n">tvalidx</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">iidx</span>    <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="n">tvalidx</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">extval</span><span class="p">,</span> <span class="n">iidx</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_initdict</span><span class="p">(</span><span class="n">dictvaliidx</span><span class="p">,</span> <span class="n">dictsetidx</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">[],</span> <span class="n">idxref</span><span class="o">=</span><span class="p">[]):</span>
        <span class="sd">&#39;&#39;&#39; generate extval, setidx, iidx, valname and idxname&#39;&#39;&#39;</span>
        <span class="n">valname</span> <span class="o">=</span> <span class="s1">&#39;value&#39;</span>
        <span class="n">validx</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dictvaliidx</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="p">:</span>
            <span class="n">valname</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">dictvaliidx</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">validx</span> <span class="o">=</span> <span class="n">dictvaliidx</span><span class="p">[</span><span class="n">valname</span><span class="p">]</span>
        <span class="n">setidx</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">idxname</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">dictsetidx</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="p">:</span>
            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">==</span> <span class="nb">list</span> <span class="p">:</span> <span class="n">vl</span> <span class="o">=</span> <span class="n">v</span>
            <span class="k">else</span> <span class="p">:</span> <span class="n">vl</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span><span class="p">]</span>
            <span class="n">idxname</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
            <span class="n">setidx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vl</span><span class="p">)</span>
        <span class="p">(</span><span class="n">extval</span><span class="p">,</span> <span class="n">iidx</span><span class="p">)</span> <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_initset</span><span class="p">(</span><span class="n">validx</span><span class="p">,</span> <span class="n">setidx</span><span class="p">,</span> <span class="n">idxref</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">extval</span><span class="p">,</span> <span class="n">setidx</span><span class="p">,</span> <span class="n">iidx</span><span class="p">,</span> <span class="n">valname</span><span class="p">,</span> <span class="n">idxname</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_initiidx</span><span class="p">(</span><span class="n">vallen</span><span class="p">,</span> <span class="n">idxlen</span><span class="p">,</span> <span class="n">idxref</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">defaultidx</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; generate a generic iidx&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">idxlen</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span>       <span class="k">return</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">idxlen</span> <span class="o">==</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span>  <span class="k">return</span> <span class="p">[</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]</span> <span class="p">]</span>
        <span class="k">if</span> <span class="nb">min</span><span class="p">(</span><span class="n">idxlen</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">:</span>   <span class="k">return</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">idxref</span> <span class="o">==</span> <span class="p">[]</span> <span class="ow">and</span> <span class="n">defaultidx</span> <span class="p">:</span> <span class="n">ref</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">idxlen</span><span class="p">)))</span>
        <span class="k">else</span> <span class="p">:</span> <span class="n">ref</span> <span class="o">=</span> <span class="n">idxref</span>
        <span class="k">if</span> <span class="n">order</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span> <span class="n">orde</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">idxlen</span><span class="p">)))</span>
        <span class="k">else</span> <span class="p">:</span> <span class="n">orde</span> <span class="o">=</span> <span class="n">order</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">idxlen</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">ref</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;idxref and idxlen should have the same lenght&quot;</span><span class="p">)</span>
        <span class="n">idxcoupled</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">idxlen</span><span class="p">))</span> <span class="k">if</span> <span class="n">ref</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">i</span><span class="p">]</span>
        <span class="n">axes</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">ref</span><span class="p">))</span>
        <span class="n">axesord</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">orde</span> <span class="p">:</span>
            <span class="n">iref</span> <span class="o">=</span> <span class="n">ref</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">iref</span> <span class="ow">in</span> <span class="n">axes</span> <span class="ow">and</span> <span class="n">iref</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">axesord</span> <span class="p">:</span> <span class="n">axesord</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iref</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">axes</span> <span class="p">:</span>
            <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">axesord</span> <span class="p">:</span> <span class="n">axesord</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">iiord</span> <span class="o">=</span> <span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">idxlen</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">axesord</span><span class="p">]</span>
        <span class="n">iidxord</span> <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">product</span><span class="p">(</span><span class="o">*</span><span class="n">iiord</span><span class="p">)))</span>
        <span class="k">if</span> <span class="n">vallen</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">iidxord</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;val lenght is not consistent with index lenght&quot;</span><span class="p">)</span>
        <span class="n">iidx</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">iidxord</span><span class="p">)))</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">axes</span> <span class="p">:</span> <span class="n">iidx</span><span class="p">[</span><span class="n">axes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">i</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iidxord</span><span class="p">[</span><span class="n">axesord</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">i</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">idxcoupled</span> <span class="p">:</span>
            <span class="n">iidx</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">iidx</span><span class="p">[</span><span class="n">ref</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span>
        <span class="k">return</span> <span class="n">iidx</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return ival and iidx&#39;&#39;&#39;</span>
        <span class="n">texLis</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span> <span class="p">:</span> <span class="n">texLis</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ival</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">texLis</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return valname, extval, idxname and extidx&#39;&#39;&#39;</span>
        <span class="n">texLis</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">nam</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">)</span> <span class="p">:</span>
            <span class="n">texLis</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">nam</span> <span class="o">+</span> <span class="s1">&#39; : &#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">json_string</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">valname</span> <span class="o">+</span> <span class="s1">&#39; : &#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">,</span> <span class="n">json_string</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">texLis</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; equal if extval and extidx are equal&#39;&#39;&#39;</span>
        <span class="k">try</span><span class="p">:</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extval</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">extval</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">extidx</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">extidx</span>
        <span class="k">except</span><span class="p">:</span> <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; len of extval&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; item of extval&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extval</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ind</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return extval item&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ind</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; modify extval item&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">ind</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">ind</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;out of bounds&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>

    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Add other&#39;s values to self&#39;s values in a new Ilist&#39;&#39;&#39;</span>
        <span class="n">newilist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__copy__</span><span class="p">()</span>
        <span class="n">newilist</span><span class="o">.</span><span class="fm">__iadd__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">newilist</span>

    <span class="k">def</span> <span class="fm">__iadd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Add other&#39;s values to self&#39;s values&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">iadd</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__or__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Add other&#39;s index to self&#39;s index in a new Ilist&#39;&#39;&#39;</span>
        <span class="n">newilist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__copy__</span><span class="p">()</span>
        <span class="n">newilist</span><span class="o">.</span><span class="fm">__ior__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">newilist</span>

    <span class="k">def</span> <span class="fm">__ior__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Add other&#39;s index to self&#39;s index&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;the sizes are not equal&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">lenidx</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">other</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span> <span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">addlistidx</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">other</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">other</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">__copy__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Copy all the data (deepcopy)&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="nd">@property</span>           <span class="c1"># !!! property</span>
    <span class="k">def</span> <span class="nf">axes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return the list of independant axes (not coupled and not unique)&#39;&#39;&#39;</span>
        <span class="n">axes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">set</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span>
                                <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span> <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">y</span><span class="p">)</span> <span class="k">else</span> <span class="n">z</span><span class="p">,</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">idxlen</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxcoupled</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxref</span><span class="p">)))))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">axes</span> <span class="p">:</span> <span class="n">axes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">axes</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">axesall</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return the list of all axes &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">axesmin</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return the list of independant axes (not coupled, not derived and not unique)&#39;&#39;&#39;</span>
        <span class="n">axes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxcoupled</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxunique</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxderived</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="n">axes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">axes</span> <span class="p">:</span> <span class="n">axes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">axes</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">axeslen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return the list of axes lenght &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">idxlen</span><span class="p">[</span><span class="n">axe</span><span class="p">]</span> <span class="k">for</span> <span class="n">axe</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">complete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return a boolean (True if Ilist is complete and consistent)&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lencomplete</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">consistent</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">consistent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return a boolean (True if Ilist is consistent : only one extval</span>
<span class="sd">        for one list of index values&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span><span class="p">)))</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">dimension</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return an integer : the number of index non coupled and non unique&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">extidx</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return extidx (see data model)&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">:</span> <span class="k">return</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="p">[</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">i</span><span class="p">]))]</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">))]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">idxcoupled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return a list of boolean for each index (True if coupled)&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">idxref</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">)]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">idxder</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return the list of derived index&#39;&#39;&#39;</span>
        <span class="n">lis</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lis</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lis</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="n">j</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_derived</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">j</span><span class="p">]):</span>
                    <span class="n">lis</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">j</span>
                    <span class="k">break</span>
        <span class="k">return</span> <span class="n">lis</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">idxderived</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return a list of boolean for each index (True if derived)&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">idxder</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">)]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">idxlen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return the list of setidx lenght &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">seti</span><span class="p">)</span> <span class="k">for</span> <span class="n">seti</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">idxref</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return the list of reference index&#39;&#39;&#39;</span>
        <span class="n">lis</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">lis</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_coupled</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">j</span><span class="p">]):</span>
                    <span class="n">lis</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">j</span>
                    <span class="k">break</span>
        <span class="k">return</span> <span class="n">lis</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">idxunique</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return a list of boolean for each index (True if unique)&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="p">[</span> <span class="n">idl</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">idl</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxlen</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">ind</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return the textidx (see data model)&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">ival</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return the ival (see data model)&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_toint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">setval</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">lencomplete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return an integer : number of values if complete (prod(idxlen,not coupled))&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mul</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="nb">max</span><span class="p">((</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">y</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxcoupled</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxlen</span><span class="p">)))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">lenidx</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return an integer : number of index&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">minMaxIndex</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return a list : [ minimal value of index, maximal value of index]&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">:</span> <span class="k">return</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
        <span class="n">maxInd</span> <span class="o">=</span> <span class="n">minInd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">:</span>
                <span class="n">minInd</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">minInd</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">idx</span><span class="p">))</span>
                <span class="n">maxInd</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">maxInd</span><span class="p">,</span> <span class="nb">max</span><span class="p">(</span><span class="n">idx</span><span class="p">))</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">minInd</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">maxInd</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">minInd</span><span class="p">,</span> <span class="n">maxInd</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">rate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return the float ratio : len / lencomplete&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">lencomplete</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">setval</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return the setval (see data model)&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_toset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">setvallen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return the integer lenght of setval (see data model)&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setval</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">tiidx</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return the tiidx (see data model)&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">textidx</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return the textidx (see data model)&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">zip</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return a zip format for textidx : tuple(tuple(idx)&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">textidx</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">addextidx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idxname</span><span class="p">,</span> <span class="n">extidx</span><span class="p">):</span>             <span class="c1"># !!! methods</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        add a new index with name = idxname and extidx.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **idxname** : string - name of index list (see data model)</span>
<span class="sd">        - **extidx** : list - new index list (see data model)</span>

<span class="sd">        *Returns* : none &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addlistidx</span><span class="p">(</span><span class="n">idxname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_toset</span><span class="p">(</span><span class="n">extidx</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_toint</span><span class="p">(</span><span class="n">extidx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_toset</span><span class="p">(</span><span class="n">extidx</span><span class="p">)))</span>

    <span class="k">def</span> <span class="nf">addlistidx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idxname</span><span class="p">,</span> <span class="n">setidx</span><span class="p">,</span> <span class="n">iidx</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        add a new index with name = idxname and setidx / iidx.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **idxname** : string - name of index list (see data model)</span>
<span class="sd">        - **setidx** :  list - external different values of index (see data model)</span>
<span class="sd">        - **iidx** :  list - integer value of index (see data model)</span>

<span class="sd">        *Returns* : none &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">iidx</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">iidx</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;listindex out of bounds&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)))</span> <span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="o">=</span> <span class="n">setidx</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>    <span class="o">=</span> <span class="n">iidx</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">idxname</span>
        <span class="k">else</span> <span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span> <span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">setidx</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span>   <span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iidx</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">idxname</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extval</span><span class="p">,</span> <span class="n">extind</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        add a new value extval with index extind.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extval** : new object value</span>
<span class="sd">        - **extind** :  list - new index values to add to extidx</span>
<span class="sd">        - **unique** :  boolean (default False) - If True and extidx present</span>
<span class="sd">        in textidx append is refuse.</span>

<span class="sd">        *Returns* : none &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">isextIndex</span><span class="p">(</span><span class="n">extind</span><span class="p">)</span> <span class="ow">and</span> <span class="n">unique</span><span class="p">)</span> <span class="ow">or</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">isValue</span><span class="p">(</span><span class="n">extval</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">isextIndex</span><span class="p">(</span><span class="n">extind</span><span class="p">))):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">extval</span><span class="p">)</span>
            <span class="n">tiidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span>
            <span class="n">tiidx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_updateset</span><span class="p">(</span><span class="n">extind</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="n">tiidx</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">appendi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extval</span><span class="p">,</span> <span class="n">intind</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        add a new value extval with index intind.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extval** : new object value</span>
<span class="sd">        - **intind** :  list - new index values to add to iidx</span>
<span class="sd">        - **unique** :  boolean (default False) - If True and intind present</span>
<span class="sd">        in tiidx append is refuse.</span>

<span class="sd">        *Returns* : none &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">isiIndex</span><span class="p">(</span><span class="n">intind</span><span class="p">)</span> <span class="ow">and</span> <span class="n">unique</span><span class="p">)</span> <span class="ow">or</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">isValue</span><span class="p">(</span><span class="n">extval</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">isiIndex</span><span class="p">(</span><span class="n">intind</span><span class="p">))):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">extval</span><span class="p">)</span>
            <span class="n">tiidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span>
            <span class="n">tiidx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">intind</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="n">tiidx</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">extidxtoi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extind</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        convert an extind (value for each extidx) to an intind (value for each iidx).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extind** : value for each extidx</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **list** : intind, value for each iidx&#39;&#39;&#39;</span>
        <span class="k">try</span> <span class="p">:</span>  <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">extind</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">extind</span><span class="p">))]</span>
        <span class="k">except</span> <span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">full</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="p">[],</span> <span class="n">fillvalue</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        add new extval with new extidx to have a complet Ilist</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **axes** : list (default []) - list of index to be completed. If [], self.axes is used.</span>
<span class="sd">        - **fillvalue** : object value used for the new extval</span>
<span class="sd">        - **inplace** : boolean (default True) - if True, new values are added,</span>
<span class="sd">        if False a new Ilist is created.</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **None, if inplace. Ilist if not inplace**&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">consistent</span> <span class="p">:</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;unable to generate full Ilist with inconsistent Ilist&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">axes</span><span class="o">==</span><span class="p">[]</span> <span class="p">:</span> <span class="n">axe</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span>
        <span class="k">else</span><span class="p">:</span> <span class="n">axe</span> <span class="o">=</span> <span class="n">axes</span>
        <span class="n">tiidxfull</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span>
        <span class="n">extvalfull</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_idxfull</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="n">axe</span><span class="p">))</span> <span class="p">:</span>
            <span class="k">if</span> <span class="n">ind</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">tiidxfull</span> <span class="p">:</span>
                <span class="n">tiidxfull</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ind</span><span class="p">)</span>
                <span class="n">extvalfull</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_nullValue</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">extvalfull</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">fillvalue</span><span class="p">))</span>
        <span class="n">iidxfull</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="n">tiidxfull</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">inplace</span> <span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">extval</span> <span class="o">=</span> <span class="n">extvalfull</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span>   <span class="o">=</span> <span class="n">iidxfull</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">Ilist</span><span class="p">(</span><span class="n">extvalfull</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">,</span> <span class="n">iidxfull</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">iadd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Add other&#39;s values to self&#39;s values</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **other** : Ilist to be copied</span>
<span class="sd">        - **unique** :  boolean (default False) - If True and iidx present in tiidx,</span>
<span class="sd">        append is refuse.</span>

<span class="sd">        *Returns* : None&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">lenidx</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;the index lenght have to be equal&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">val</span><span class="p">,</span><span class="n">extidx</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">extval</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">textidx</span><span class="p">)</span> <span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">extidx</span><span class="p">,</span> <span class="n">unique</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">)</span> <span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;idx&#39;</span> <span class="ow">and</span> <span class="n">other</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;idx&#39;</span> <span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;value&#39;</span> <span class="ow">and</span> <span class="n">other</span><span class="o">.</span><span class="n">valname</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;value&#39;</span> <span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">valname</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">valname</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">iidxtoext</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">intind</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        convert an intind (value for each iidx) to an extind (value for each extidx).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **intind** : value for each iidx</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **list** : extind, value for each extidx&#39;&#39;&#39;</span>
        <span class="k">try</span> <span class="p">:</span>  <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">intind</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">intind</span><span class="p">))]</span>
        <span class="k">except</span> <span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">iloc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">intind</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Return extval corresponding to intind.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **intind** : list - value for each iidx</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **object** : extval value &#39;&#39;&#39;</span>
        <span class="k">try</span> <span class="p">:</span>
            <span class="n">ival</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">intind</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">:</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s1">&#39;index not found&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">[</span><span class="n">ival</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">isextIndex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extind</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Return True if extind is present in extidx.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extind** : list - value for each extidx</span>

<span class="sd">        *Returns* : boolean - True if found&#39;&#39;&#39;</span>
        <span class="n">intind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extidxtoi</span><span class="p">(</span><span class="n">extind</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">intind</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">intind</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span> <span class="p">:</span> <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">isiIndex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">intind</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Return True if intind is present in iidx.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **intind** : list - value for each iidx</span>

<span class="sd">        *Returns* : boolean - True if found&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">intind</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">intind</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span> <span class="p">:</span> <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">isValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extval</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Return True if present in extval.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extval** : value to test</span>

<span class="sd">        *Returns* : boolean - True if found&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">extval</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extval</span> <span class="p">:</span> <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">option</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Return json string with val (extval or ival) and idx (extidx or iidx or none).</span>

<span class="sd">        *Parameters (option)*</span>

<span class="sd">        - **json_string** : defaut False - if True return string, else return dict</span>
<span class="sd">        - **json_res_index** : default True - if True add the index to the value</span>
<span class="sd">        - **json_mode** : string (default &#39;vv&#39;)</span>
<span class="sd">        - **json_mode[0]** : char - if &#39;v&#39;, value is extval else ival</span>
<span class="sd">        - **json_mode[1]** : char - if &#39;v&#39;, index is extidx else iidx</span>

<span class="sd">        *Returns* : string or dict&#39;&#39;&#39;</span>
        <span class="n">option2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;json_string&#39;</span> <span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;json_res_index&#39;</span> <span class="p">:</span><span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;json_mode&#39;</span> <span class="p">:</span><span class="s1">&#39;vv&#39;</span><span class="p">}</span> <span class="o">|</span> <span class="n">option</span>
        <span class="n">lis</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">textidx</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span>   <span class="n">option2</span><span class="p">[</span><span class="s1">&#39;json_mode&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;v&#39;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">extidx</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span>
            <span class="n">lis</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">option2</span><span class="p">[</span><span class="s1">&#39;json_mode&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;v&#39;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">extidx</span> <span class="o">!=</span> <span class="p">[]:</span>
            <span class="n">lis</span><span class="o">=</span><span class="p">[[</span><span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">]]</span>
            <span class="n">textidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">option2</span><span class="p">[</span><span class="s1">&#39;json_mode&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;v&#39;</span> <span class="p">:</span> <span class="n">jval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">else</span>                            <span class="p">:</span> <span class="n">jval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ival</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">option2</span><span class="p">[</span><span class="s1">&#39;json_res_index&#39;</span><span class="p">]</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span> <span class="n">lis</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">jval</span><span class="p">)</span>
            <span class="k">else</span> <span class="p">:</span>
                <span class="n">lig</span><span class="o">=</span><span class="p">[</span><span class="n">jval</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">option2</span><span class="p">[</span><span class="s1">&#39;json_mode&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;v&#39;</span> <span class="p">:</span> <span class="n">lig</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">textidx</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="k">else</span>                            <span class="p">:</span> <span class="n">lig</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="n">lis</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lig</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">option2</span><span class="p">[</span><span class="s1">&#39;json_mode&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;v&#39;</span><span class="p">:</span> <span class="n">js</span> <span class="o">=</span> <span class="n">lis</span>
        <span class="k">else</span> <span class="p">:</span>
            <span class="n">js</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">))</span> <span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxlen</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">:</span> <span class="n">js</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">lis</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="p">:</span> <span class="n">js</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">]</span> <span class="o">=</span> <span class="n">lis</span>
        <span class="k">if</span> <span class="n">option2</span><span class="p">[</span><span class="s1">&#39;json_string&#39;</span><span class="p">]:</span> <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">js</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">js</span>

    <span class="k">def</span> <span class="nf">loc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extind</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Return extval corresponding to extind.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extind** : list - value for each extidx</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **object** : extval value &#39;&#39;&#39;</span>
        <span class="n">intind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extidxtoi</span><span class="p">(</span><span class="n">extind</span><span class="p">)</span>
        <span class="k">try</span> <span class="p">:</span>
            <span class="n">ival</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">intind</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">:</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s1">&#39;index not found&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">[</span><span class="n">ival</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">reindex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="p">[]):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Define new sorted index.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **index** : list (default [])- list of the index to reindex.</span>
<span class="sd">        If [] all the index are reindexed.</span>

<span class="sd">        *Returns* : None&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span> <span class="n">index</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">)))</span>
        <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">index</span> <span class="p">:</span>
            <span class="n">oldidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">ind</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span>   <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_reindexidx</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">ind</span><span class="p">],</span> <span class="n">oldidx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">ind</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">reorder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="p">[],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Change the order of extval and iidx with a new order define by sort.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **sort** : list (default [])- new order to apply. If [], no change.</span>
<span class="sd">        - **inplace** : boolean (default True) - if True, new order is apply to self,</span>
<span class="sd">        if False a new Ilist is created.</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **None, if inplace. Ilist if not inplace**&#39;&#39;&#39;</span>
        <span class="n">extval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reorder</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">,</span> <span class="n">sort</span><span class="p">)</span>
        <span class="n">iidx</span> <span class="o">=</span>  <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_reorder</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">sort</span><span class="p">)</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">inplace</span> <span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">extval</span> <span class="o">=</span> <span class="n">extval</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span>   <span class="o">=</span> <span class="n">iidx</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">Ilist</span><span class="p">(</span><span class="n">extval</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">,</span> <span class="n">iidx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">sort</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="p">[],</span> <span class="n">order</span><span class="o">=</span><span class="p">[],</span> <span class="n">reindex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; sort : calculate a new list order&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">reorder</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sortidx</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">sort</span><span class="p">,</span> <span class="n">reindex</span><span class="p">),</span> <span class="n">inplace</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">sortidx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">[],</span> <span class="n">sort</span><span class="o">=</span><span class="p">[],</span> <span class="n">reindex</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Define a new order to apply to extval and iidx (reorder method).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **order** : list (default [])- new order of index to apply in sort function.</span>
<span class="sd">        If [], the sort function is applied to extval.</span>
<span class="sd">        - **sort** : list (default [])- new order to apply. If [], the new order</span>
<span class="sd">        is calculated.</span>
<span class="sd">        - **reindex** : boolean (default True) - if True, the index are reindexed.</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **list** : sort - new order to apply&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">sort</span><span class="p">)</span> <span class="o">==</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">):</span> <span class="k">return</span> <span class="n">sort</span>
        <span class="n">newsetidx</span> <span class="o">=</span> <span class="p">[</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">ind</span><span class="p">])</span> <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">))]</span>
        <span class="n">newiidx</span> <span class="o">=</span> <span class="p">[</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_reindexidx</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">ind</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">ind</span><span class="p">],</span> <span class="n">newsetidx</span><span class="p">[</span><span class="n">ind</span><span class="p">])</span>
                   <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">))]</span>
        <span class="k">if</span> <span class="n">reindex</span> <span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span> <span class="o">=</span> <span class="n">newiidx</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span> <span class="o">=</span> <span class="n">newsetidx</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">order</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">order</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="ow">or</span> <span class="nb">max</span><span class="p">(</span><span class="n">order</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="p">:</span> <span class="n">idx</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">else</span> <span class="p">:</span> <span class="n">idx</span> <span class="o">=</span> <span class="p">[</span><span class="n">newiidx</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">order</span><span class="p">]</span>
        <span class="n">idx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">)</span>
        <span class="n">idx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">))))</span>
        <span class="k">return</span>  <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="n">idx</span><span class="p">)))[</span><span class="nb">len</span><span class="p">(</span><span class="n">order</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">swapindex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Change the order of the index (iidx, setidx, idxname).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **order** : list - new order of index to apply.</span>

<span class="sd">        *Returns* : none &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">order</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="p">:</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;order lenght not correct&quot;</span><span class="p">)</span>
        <span class="n">iidx</span>    <span class="o">=</span> <span class="p">[]</span>
        <span class="n">setidx</span>  <span class="o">=</span> <span class="p">[]</span>
        <span class="n">idxname</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">order</span> <span class="p">:</span>
            <span class="n">iidx</span><span class="o">.</span><span class="n">append</span>  <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span>  <span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">setidx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">idxname</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span>   <span class="o">=</span> <span class="n">iidx</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span> <span class="o">=</span> <span class="n">setidx</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span> <span class="o">=</span> <span class="n">idxname</span>

    <span class="k">def</span> <span class="nf">to_csv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;ilist.csv&#39;</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ifunc</span><span class="o">=</span><span class="p">[],</span> <span class="n">valfirst</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
               <span class="n">order</span><span class="o">=</span><span class="p">[],</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Generate a csv file with Ilist data (a column for extval and each extidx)</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **filename** : string (default &#39;ilist.csv&#39;) - name of the file to create</span>
<span class="sd">        - **func** : function (default none) - function to apply to extval before writting csv file</span>
<span class="sd">        - **ifunc** : list of function (default []) - function to apply to extidx</span>
<span class="sd">        before writting csv file</span>
<span class="sd">        - **valfirst** : boolean (default False). If False extval is the last columns,</span>
<span class="sd">         else it&#39;s the first</span>
<span class="sd">        - **order** : list of integer (default []) - ordered list of index in columns</span>
<span class="sd">        - **header** : boolean (default True). If True, the first raw is dedicated to names</span>
<span class="sd">        - **kwargs** : parameter for csv.writer or func</span>

<span class="sd">        *Returns* : none &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">order</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span> <span class="n">order</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">))</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">quoting</span><span class="o">=</span><span class="n">csv</span><span class="o">.</span><span class="n">QUOTE_NONNUMERIC</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">header</span><span class="p">:</span>
                <span class="n">row</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">if</span> <span class="n">valfirst</span>      <span class="p">:</span> <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">order</span> <span class="p">:</span> <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">idx</span><span class="p">])</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">valfirst</span>  <span class="p">:</span> <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">)</span>
                <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
                <span class="n">row</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ifunc</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="p">:</span> <span class="n">funci</span> <span class="o">=</span> <span class="n">func</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="k">else</span> <span class="p">:</span> <span class="n">funci</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">if</span> <span class="n">valfirst</span>      <span class="p">:</span>
                    <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_funclist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>      <span class="n">func</span><span class="p">,</span>  <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">order</span> <span class="p">:</span>
                    <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_funclist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="n">funci</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">valfirst</span>  <span class="p">:</span>
                    <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_funclist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>      <span class="n">func</span><span class="p">,</span>  <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_numpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ind</span><span class="o">=</span><span class="s1">&#39;axe&#39;</span><span class="p">,</span> <span class="n">fillvalue</span><span class="o">=</span><span class="s1">&#39;?&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Complete the Ilist and generate a Numpy array with the dimension define by ind.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **func** : function (default none) - function to apply to extval before export</span>
<span class="sd">        - **ind** : string (default &#39;axe&#39;) - &#39;axe&#39; -&gt; independant axes,</span>
<span class="sd">        &#39;all&#39; -&gt; all axes, &#39;flat&#39; -&gt; one list</span>
<span class="sd">        - **fillvalue** : object (default &#39;?&#39;) - value used for the new extval</span>
<span class="sd">        - **kwargs** : parameter for func</span>

<span class="sd">        *Returns* : none &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">consistent</span> <span class="p">:</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;unable to generate numpy array with inconsistent Ilist&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">ind</span> <span class="o">==</span> <span class="s1">&#39;flat&#39;</span> <span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tonumpy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">ind</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;axe&#39;</span><span class="p">,</span> <span class="s1">&#39;all&#39;</span><span class="p">]</span>  <span class="p">:</span>
            <span class="k">if</span> <span class="n">ind</span> <span class="o">==</span> <span class="s1">&#39;axe&#39;</span> <span class="p">:</span> <span class="n">axes</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">else</span> <span class="p">:</span> <span class="n">axes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">))</span>
            <span class="n">ilf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="n">axes</span><span class="p">,</span> <span class="n">fillvalue</span><span class="o">=</span><span class="n">fillvalue</span><span class="p">)</span>
            <span class="n">ilf</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tonumpy</span><span class="p">(</span><span class="n">ilf</span><span class="o">.</span><span class="n">extval</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">ilf</span><span class="o">.</span><span class="n">axeslen</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">to_xarray</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">info</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="p">[],</span> <span class="n">fillvalue</span><span class="o">=</span><span class="s1">&#39;?&#39;</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ifunc</span><span class="o">=</span><span class="p">[],</span>
                  <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Ilist&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Complete the Ilist and generate a Xarray DataArray with the dimension define by ind.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **info** : boolean (default False) - if True, add _dict attributes to attrs Xarray</span>
<span class="sd">        - **axes** : list (default []) - list of index to be completed. If [],</span>
<span class="sd">        self.axes is used.</span>
<span class="sd">        - **fillvalue** : object (default &#39;?&#39;) - value used for the new extval</span>
<span class="sd">        - **func** : function (default none) - function to apply to extval before export</span>
<span class="sd">        - **ifunc** : list of function (default []) - function to apply to</span>
<span class="sd">        extidx before export</span>
<span class="sd">        - **name** : string (default &#39;Ilist&#39;) - DataArray name</span>
<span class="sd">        - **kwargs** : parameter for func and ifunc</span>

<span class="sd">        *Returns* : none &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">consistent</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;Ilist not consistent&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">axes</span><span class="o">==</span><span class="p">[]</span> <span class="p">:</span> <span class="n">axe</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span>
        <span class="k">else</span><span class="p">:</span> <span class="n">axe</span> <span class="o">=</span> <span class="n">axes</span>
        <span class="n">ilf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="n">axe</span><span class="p">,</span> <span class="n">fillvalue</span><span class="o">=</span><span class="n">fillvalue</span><span class="p">)</span>
        <span class="n">ilf</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="n">axe</span><span class="p">)</span>
        <span class="n">coord</span> <span class="o">=</span> <span class="n">ilf</span><span class="o">.</span><span class="n">_xcoord</span><span class="p">(</span><span class="n">ifunc</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">dims</span> <span class="o">=</span> <span class="p">[</span><span class="n">ilf</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">ax</span><span class="p">]</span> <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">axe</span><span class="p">]</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">ilf</span><span class="o">.</span><span class="n">_tonumpy</span><span class="p">(</span><span class="n">ilf</span><span class="o">.</span><span class="n">extval</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
                            <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">([</span><span class="n">ilf</span><span class="o">.</span><span class="n">idxlen</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">axe</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">info</span> <span class="p">:</span> <span class="k">return</span> <span class="n">xarray</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">coord</span><span class="p">,</span> <span class="n">dims</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="n">ilf</span><span class="o">.</span><span class="n">_dict</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">xarray</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">coord</span><span class="p">,</span> <span class="n">dims</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">updateidx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indval</span><span class="p">,</span> <span class="n">extind</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Update the index of an extval.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **indval** : integer - row of the value in extval</span>
<span class="sd">        - **extind** : list - new value for each extidx</span>
<span class="sd">        - **unique** :  boolean (default False) - If True and extind present in textidx,</span>
<span class="sd">        update is refuse.</span>

<span class="sd">        *Returns* : none&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">extind</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="ow">or</span> <span class="n">indval</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">indval</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="p">:</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;out of bounds&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isextIndex</span><span class="p">(</span><span class="n">extind</span><span class="p">)</span> <span class="ow">and</span> <span class="n">unique</span> <span class="p">:</span> <span class="k">return</span>
        <span class="n">tiidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span>
        <span class="n">tiidx</span><span class="p">[</span><span class="n">indval</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_updateset</span><span class="p">(</span><span class="n">extind</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="n">tiidx</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">updatelist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extlist</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Update extval or extidx.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extlist** : list of list - list of values to update</span>
<span class="sd">        - **idx** : list of integer - list of index to update (idx=-1 for extval)</span>

<span class="sd">        *Returns* : none&#39;&#39;&#39;</span>
        <span class="n">extlis</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checkidxlist</span><span class="p">(</span><span class="n">extlist</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">extlis</span> <span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ind</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;out of bounds&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">extl</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">extlis</span><span class="p">)</span> <span class="p">:</span>
            <span class="k">if</span> <span class="n">ind</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="p">:</span>  <span class="bp">self</span><span class="o">.</span><span class="n">extval</span>      <span class="o">=</span> <span class="n">extl</span>
            <span class="k">else</span> <span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_toset</span><span class="p">(</span><span class="n">extl</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_toint</span><span class="p">(</span><span class="n">extl</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">ind</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">vlist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Apply a function to extval or extidx and return the result.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **func** : function (default none) - function to apply to extval or extidx</span>
<span class="sd">        - **args, kwargs** : parameters for the function</span>
<span class="sd">        - **idx** : integer - index to update (idx=-1 for extval)</span>

<span class="sd">        *Returns* : list of func result&#39;&#39;&#39;</span>
        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checkidxlist</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">idx</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="p">:</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_funclist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_funclist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_checkidxlist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">listidx</span><span class="p">,</span> <span class="n">idx</span><span class="p">):</span>      <span class="c1"># !!!</span>
        <span class="c1"># idx=-1 -&gt; val</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="p">:</span> <span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="n">idx</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">idx</span> <span class="ow">is</span> <span class="kc">None</span> <span class="p">:</span>    <span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span> <span class="p">:</span>                <span class="n">index</span> <span class="o">=</span>  <span class="n">idx</span>
        <span class="k">if</span> <span class="nb">min</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">1</span> <span class="ow">or</span> <span class="nb">max</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;index out of bounds&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">listidx</span> <span class="ow">is</span> <span class="kc">None</span> <span class="p">:</span> <span class="k">return</span> <span class="n">index</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">listidx</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;listindex not a list&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">listidx</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">!=</span> <span class="nb">list</span> <span class="p">:</span>   <span class="n">listindex</span> <span class="o">=</span> <span class="p">[</span><span class="n">listidx</span><span class="p">]</span>
        <span class="k">else</span> <span class="p">:</span>                          <span class="n">listindex</span> <span class="o">=</span>  <span class="n">listidx</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">listindex</span><span class="p">)</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;listindex out of bounds&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">listindex</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_coupled</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="n">l2</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return boolean if l2 is coupled to ref&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_idxlink</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="n">l2</span><span class="p">))</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">ref</span><span class="p">))</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_derived</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="n">l2</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return boolean if ref is derived from l2&#39;&#39;&#39;</span>
        <span class="n">lis</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_tuple</span><span class="p">(</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_transpose</span><span class="p">([</span><span class="n">ref</span><span class="p">,</span> <span class="n">l2</span><span class="p">])))</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">lis</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">l2</span><span class="p">))</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">ref</span><span class="p">))</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">l2</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">addproperty</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">long</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return the value of the properties&#39;&#39;&#39;</span>
        <span class="n">dic</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;valname&#39;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">,</span> <span class="s1">&#39;idxname&#39;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">}</span>
        <span class="k">if</span> <span class="n">long</span> <span class="p">:</span>
            <span class="n">dic</span> <span class="o">|=</span> <span class="p">{</span><span class="s1">&#39;extval&#39;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">,</span> <span class="s1">&#39;iidx&#39;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">,</span> <span class="s1">&#39;setidx&#39;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span> <span class="p">}</span>
        <span class="k">if</span> <span class="n">addproperty</span> <span class="p">:</span>
            <span class="n">dic</span> <span class="o">|=</span> <span class="p">{</span><span class="s1">&#39;axes&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">,</span> <span class="s1">&#39;axesall&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">axesall</span><span class="p">,</span> <span class="s1">&#39;axeslen&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">axeslen</span><span class="p">,</span>
            <span class="s1">&#39;axesmin&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">axesmin</span><span class="p">,</span> <span class="s1">&#39;complete&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">complete</span><span class="p">,</span>
            <span class="s1">&#39;consistent&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">consistent</span><span class="p">,</span> <span class="s1">&#39;dimension&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">dimension</span><span class="p">,</span>
            <span class="s1">&#39;idxcoupled&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">idxcoupled</span><span class="p">,</span> <span class="s1">&#39;idxderived&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">idxderived</span><span class="p">,</span> <span class="s1">&#39;idxlen&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">idxlen</span><span class="p">,</span>
            <span class="s1">&#39;idxunique&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">idxunique</span><span class="p">,</span> <span class="s1">&#39;idxder&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">idxder</span><span class="p">,</span>
            <span class="s1">&#39;idxref&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">idxref</span><span class="p">,</span> <span class="s1">&#39;lencomplete&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">lencomplete</span><span class="p">,</span> <span class="s1">&#39;lenidx&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">,</span>
            <span class="s1">&#39;minMaxIndex&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">minMaxIndex</span><span class="p">,</span> <span class="s1">&#39;rate&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">rate</span><span class="p">,</span> <span class="s1">&#39;setvallen&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">setvallen</span> <span class="p">}</span>
            <span class="k">if</span> <span class="n">long</span> <span class="p">:</span>
                <span class="n">dic</span> <span class="o">|=</span> <span class="p">{</span> <span class="s1">&#39;extidx&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">,</span> <span class="s1">&#39;ind&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">ind</span><span class="p">,</span> <span class="s1">&#39;ival&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">ival</span><span class="p">,</span>
                        <span class="s1">&#39;setval&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">setval</span><span class="p">,</span> <span class="s1">&#39;tiidx&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span><span class="p">,</span> <span class="s1">&#39;textidx&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">textidx</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">dic</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_funclist</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return the function func applied to the object value with parameters args and kwargs&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">func</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="p">[])</span> <span class="p">:</span> <span class="k">return</span> <span class="n">value</span>
        <span class="n">lis</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="p">:</span> <span class="n">listval</span> <span class="o">=</span> <span class="p">[</span><span class="n">value</span><span class="p">]</span>
        <span class="k">else</span> <span class="p">:</span> <span class="n">listval</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">listval</span> <span class="p">:</span>
            <span class="k">try</span> <span class="p">:</span> <span class="n">lis</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
            <span class="k">except</span> <span class="p">:</span>
                <span class="k">try</span> <span class="p">:</span> <span class="n">lis</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">except</span> <span class="p">:</span>
                    <span class="k">try</span> <span class="p">:</span> <span class="n">lis</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">listval</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                    <span class="k">except</span> <span class="p">:</span>
                        <span class="k">try</span> <span class="p">:</span> <span class="n">lis</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">listval</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                        <span class="k">except</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;unable to apply func&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">lis</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="p">:</span> <span class="k">return</span> <span class="n">lis</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">lis</span>

    <span class="k">def</span> <span class="nf">_idxfull</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="p">[]):</span>
        <span class="sd">&#39;&#39;&#39;return iidx with full index in the axes&#39;&#39;&#39;</span>
        <span class="k">if</span>    <span class="n">axes</span><span class="o">==</span><span class="p">[]</span> <span class="p">:</span> <span class="n">axe</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxcoupled</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
        <span class="k">else</span>           <span class="p">:</span> <span class="n">axe</span> <span class="o">=</span> <span class="n">axes</span>
        <span class="n">iidxr</span> <span class="o">=</span> <span class="p">[</span><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">axe</span><span class="p">]</span>
        <span class="n">nidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">product</span><span class="p">(</span><span class="o">*</span><span class="n">iidxr</span><span class="p">)))</span> <span class="c1"># iidx réduit aux axes et complet</span>
        <span class="n">iidxfull</span> <span class="o">=</span> <span class="p">[[]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">axe</span> <span class="p">:</span>
                <span class="n">iidxfull</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">nidx</span><span class="p">[</span><span class="n">axe</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">idx</span><span class="p">)]</span>
            <span class="k">elif</span> <span class="n">idx</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">axe</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxcoupled</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="p">:</span>
                <span class="n">dic</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_idxlink</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">idxref</span><span class="p">[</span><span class="n">idx</span><span class="p">]],</span> <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">idx</span><span class="p">])</span>
                <span class="n">iidxfull</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">dic</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">nidx</span><span class="p">[</span><span class="n">axe</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">idxref</span><span class="p">[</span><span class="n">idx</span><span class="p">])]]</span>
            <span class="k">elif</span> <span class="n">idx</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">axe</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxcoupled</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="ow">and</span> \
                   <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxunique</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxderived</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="p">:</span>
                <span class="n">dic</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_idxlink</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">idxder</span><span class="p">[</span><span class="n">idx</span><span class="p">]],</span> <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">idx</span><span class="p">],</span> <span class="n">coupled</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                <span class="n">iidxfull</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">dic</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">nidx</span><span class="p">[</span><span class="n">axe</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">idxder</span><span class="p">[</span><span class="n">idx</span><span class="p">])]]</span>
            <span class="k">elif</span> <span class="n">idx</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">axe</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxcoupled</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="ow">and</span> \
                   <span class="bp">self</span><span class="o">.</span><span class="n">idxunique</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="p">:</span>
                <span class="n">iidxfull</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nidx</span><span class="p">[</span><span class="mi">0</span><span class="p">]))]</span>
            <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;index : &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; have to be in axes&quot;</span> <span class="p">)</span>
        <span class="k">return</span> <span class="n">iidxfull</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_idxlink</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="n">l2</span><span class="p">,</span> <span class="n">coupled</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return dic ={ref i : l2 i} pour chaque tuple différent&#39;&#39;&#39;</span>
        <span class="n">lis</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_tuple</span><span class="p">(</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_transpose</span><span class="p">([</span><span class="n">ref</span><span class="p">,</span> <span class="n">l2</span><span class="p">])))</span>
        <span class="k">if</span> <span class="n">coupled</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">lis</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">ref</span><span class="p">))</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">l2</span><span class="p">))</span> <span class="p">:</span> <span class="k">return</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">lis</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_index</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return the index of val in idx&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">idx</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_json</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">json_string</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return the json format of val (if function json() or to_json() exists&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">]</span> <span class="p">:</span>
            <span class="k">if</span> <span class="n">json_string</span> <span class="p">:</span> <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">val</span>
        <span class="k">try</span>     <span class="p">:</span> <span class="k">return</span> <span class="n">val</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">json_string</span><span class="o">=</span><span class="n">json_string</span><span class="p">)</span>
        <span class="k">except</span>  <span class="p">:</span> <span class="k">return</span> <span class="n">val</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">json_string</span><span class="o">=</span><span class="n">json_string</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_list</span><span class="p">(</span><span class="n">idx</span><span class="p">):</span> <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">idx</span><span class="p">))</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_mul</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
        <span class="n">mul</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">val</span> <span class="p">:</span> <span class="n">mul</span> <span class="o">*=</span> <span class="n">v</span>
        <span class="k">return</span> <span class="n">mul</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_nullValue</span><span class="p">(</span><span class="n">Class</span><span class="p">,</span> <span class="n">fillvalue</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fillvalue</span><span class="p">,</span> <span class="n">Class</span><span class="p">)</span> <span class="p">:</span> <span class="k">return</span> <span class="n">fillvalue</span>
        <span class="k">if</span> <span class="n">Class</span> <span class="o">==</span> <span class="nb">int</span>                 <span class="p">:</span> <span class="k">return</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">Class</span> <span class="o">==</span> <span class="nb">float</span>               <span class="p">:</span> <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;nan&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">Class</span> <span class="o">==</span> <span class="nb">str</span>                 <span class="p">:</span> <span class="k">return</span> <span class="s1">&#39;-&#39;</span>
        <span class="k">if</span> <span class="n">Class</span> <span class="o">==</span> <span class="nb">bool</span>                <span class="p">:</span> <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">Class</span><span class="p">()</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_reindexidx</span><span class="p">(</span><span class="n">iidx</span><span class="p">,</span> <span class="n">setidx</span><span class="p">,</span> <span class="n">newsetidx</span><span class="p">)</span> <span class="p">:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">newsetidx</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">setidx</span><span class="p">[</span><span class="n">indb</span><span class="p">])</span> <span class="k">for</span> <span class="n">indb</span> <span class="ow">in</span> <span class="n">iidx</span><span class="p">]</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_reorder</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="p">[]):</span>
        <span class="k">if</span> <span class="n">sort</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span> <span class="k">return</span> <span class="n">val</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">val</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">sort</span><span class="p">]</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_setable</span><span class="p">(</span><span class="n">extv</span><span class="p">):</span>
        <span class="k">try</span> <span class="p">:</span>
            <span class="nb">set</span><span class="p">(</span><span class="n">extv</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">extv</span>
        <span class="k">except</span> <span class="p">:</span>
            <span class="k">return</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_tuple</span><span class="p">(</span><span class="n">extv</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_toint</span><span class="p">(</span><span class="n">extv</span><span class="p">,</span> <span class="n">extset</span><span class="p">):</span>
        <span class="n">ext</span> <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_setable</span><span class="p">(</span><span class="n">extv</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">extset</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">ext</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">_toival</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extval</span><span class="p">):</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">setval</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">extval</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_toext</span><span class="p">(</span><span class="n">iidx</span><span class="p">,</span> <span class="n">extset</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">extset</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">iidx</span><span class="p">]</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_tonumpy</span><span class="p">(</span><span class="n">lis</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="n">identity</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">func</span> <span class="ow">is</span> <span class="kc">None</span> <span class="p">:</span> <span class="n">func</span> <span class="o">=</span> <span class="n">identity</span>
        <span class="k">if</span> <span class="n">func</span> <span class="o">==</span> <span class="s1">&#39;index&#39;</span> <span class="p">:</span> <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lis</span><span class="p">))))</span>
        <span class="n">valList</span> <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_funclist</span><span class="p">(</span><span class="n">lis</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">valList</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="nb">str</span> <span class="p">:</span>
            <span class="k">try</span> <span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromisoformat</span><span class="p">(</span><span class="n">valList</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">except</span> <span class="p">:</span> <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">valList</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">valList</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">datetime64</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">valList</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="n">datetime</span> <span class="p">:</span> <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">valList</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">datetime64</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">valList</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_toset</span><span class="p">(</span><span class="n">extv</span><span class="p">):</span>
        <span class="n">ext</span> <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_setable</span><span class="p">(</span><span class="n">extv</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">ext</span><span class="p">))</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_transpose</span><span class="p">(</span><span class="n">idx</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s1">&#39;index not transposable&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">idx</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span> <span class="k">return</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="p">[[</span><span class="n">ix</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="k">for</span> <span class="n">ix</span> <span class="ow">in</span> <span class="n">idx</span><span class="p">]</span> <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">idx</span><span class="p">[</span><span class="mi">0</span><span class="p">]))]</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_tuple</span><span class="p">(</span><span class="n">idx</span><span class="p">):</span> <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="n">idx</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_updateset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extidx</span><span class="p">):</span>
        <span class="c1"># ajouter à la fin un recalcul de iidx en fonction de sorted(extset)</span>
        <span class="n">iidx</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">extidx</span><span class="p">)):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">)</span> <span class="o">==</span> <span class="n">i</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
            <span class="k">if</span> <span class="n">extidx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">extidx</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">iidx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">extidx</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
        <span class="k">return</span> <span class="n">iidx</span>

    <span class="k">def</span> <span class="nf">_xcoord</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">funcidx</span><span class="o">=</span><span class="p">[],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="p">:</span>
        <span class="sd">&#39;&#39;&#39; Coords generation for Xarray&#39;&#39;&#39;</span>
        <span class="n">coord</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxunique</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">:</span> <span class="k">continue</span>
            <span class="k">if</span> <span class="n">funcidx</span><span class="o">==</span><span class="p">[]</span> <span class="p">:</span> <span class="n">funci</span><span class="o">=</span><span class="n">identity</span>
            <span class="k">else</span> <span class="p">:</span> <span class="n">funci</span><span class="o">=</span> <span class="n">funcidx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span>   <span class="bp">self</span><span class="o">.</span><span class="n">idxcoupled</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">:</span>
                <span class="n">xlisti</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tonumpy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_xderived</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxref</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="n">func</span><span class="o">=</span><span class="n">funci</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                <span class="n">coord</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">idxref</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span> <span class="n">xlisti</span><span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxderived</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">:</span>
                <span class="n">xlisti</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tonumpy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_xderived</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxder</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="n">func</span><span class="o">=</span><span class="n">funci</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                <span class="n">coord</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">idxder</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span> <span class="n">xlisti</span><span class="p">)</span>
            <span class="k">else</span> <span class="p">:</span>
                <span class="n">xlisti</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tonumpy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">func</span><span class="o">=</span><span class="n">funci</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                <span class="n">coord</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="n">xlisti</span>
        <span class="k">return</span> <span class="n">coord</span>

    <span class="k">def</span> <span class="nf">_xderived</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idxder</span><span class="p">,</span> <span class="n">idxori</span><span class="p">)</span> <span class="p">:</span>
        <span class="n">dic</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_idxlink</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">[</span><span class="n">idxori</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">[</span><span class="n">idxder</span><span class="p">],</span> <span class="n">coupled</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">dic</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">idxori</span><span class="p">]]</span>

<span class="k">class</span> <span class="nc">IlistError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Ilist Exception&#39;&#39;&#39;</span>
    <span class="c1">#pass</span>
</pre></div>

        </details>

            </section>
                <section id="identity">
                            <div class="attr function"><a class="headerlink" href="#identity">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">identity</span><span class="signature">(*args, **kwargs)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">identity</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;return the same value as args or kwargs&#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">:</span> <span class="k">return</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">:</span> <span class="k">return</span> <span class="n">kwargs</span><span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]]</span>
    <span class="k">return</span> <span class="kc">None</span>
</pre></div>

        </details>

            <div class="docstring"><p>return the same value as args or kwargs</p>
</div>


                </section>
                <section id="Ilist">
                                <div class="attr class">
        <a class="headerlink" href="#Ilist">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">Ilist</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Ilist</span><span class="p">:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    An `Ilist` is a representation of an indexed list (a list is indexed by others list).</span>
<span class="sd">    E.g. python zip or csv file.</span>

<span class="sd">    *Attributes (for @property see methods)* :</span>

<span class="sd">    - **extval** : list of data to be indexed</span>
<span class="sd">    - **valname** : name of the extval list</span>
<span class="sd">    - **setval** : list of the different extval values (dynamic value)</span>
<span class="sd">    - **ival** : index of the extval (dynamic value)</span>
<span class="sd">    - **extidx** : list of index (dynamic value)</span>
<span class="sd">    - **idxname** : list of the index name</span>
<span class="sd">    - **setidx** : list of the different idxval values</span>
<span class="sd">    - **iidx** : index of the extidx list of values</span>

<span class="sd">    The methods defined in this class are :</span>

<span class="sd">    *class methods (constructor)*</span>

<span class="sd">    - `Ilist.Idict`</span>
<span class="sd">    - `Ilist.Iset`</span>
<span class="sd">    - `Ilist.Iidx`</span>
<span class="sd">    - `Ilist.Iext`</span>
<span class="sd">    - `Ilist.Izip`</span>
<span class="sd">    - `Ilist.Icsv`</span>

<span class="sd">    *dynamic value property (getters)*</span>

<span class="sd">    - `Ilist.ival`</span>
<span class="sd">    - `Ilist.setval`</span>
<span class="sd">    - `Ilist.extidx`</span>
<span class="sd">    - `Ilist.tiidx`</span>
<span class="sd">    - `Ilist.textidx`</span>

<span class="sd">    *global property (getters)*</span>

<span class="sd">    - `Ilist.axes`</span>
<span class="sd">    - `Ilist.axesall`</span>
<span class="sd">    - `Ilist.axeslen`</span>
<span class="sd">    - `Ilist.axesmin`</span>
<span class="sd">    - `Ilist.complete`</span>
<span class="sd">    - `Ilist.consistent`</span>
<span class="sd">    - `Ilist.dimension`</span>
<span class="sd">    - `Ilist.lencomplete`</span>
<span class="sd">    - `Ilist.rate`</span>
<span class="sd">    - `Ilist.setvallen`</span>
<span class="sd">    - `Ilist.zip`</span>

<span class="sd">    *idx property (getters)*</span>

<span class="sd">    - `Ilist.idxcoupled`</span>
<span class="sd">    - `Ilist.idxderived`</span>
<span class="sd">    - `Ilist.idxlen`</span>
<span class="sd">    - `Ilist.idxref`</span>
<span class="sd">    - `Ilist.idxunique`</span>
<span class="sd">    - `Ilist.ind`</span>
<span class="sd">    - `Ilist.lenidx`</span>
<span class="sd">    - `Ilist.minMaxIndex`</span>

<span class="sd">    *add - update methods*</span>

<span class="sd">    - `Ilist.addextidx`</span>
<span class="sd">    - `Ilist.addlistidx`</span>
<span class="sd">    - `Ilist.append`</span>
<span class="sd">    - `Ilist.appendi`</span>
<span class="sd">    - `Ilist.updateidx`</span>
<span class="sd">    - `Ilist.updatelist`</span>

<span class="sd">    *selecting methods*</span>

<span class="sd">    - `Ilist.extidxtoi`</span>
<span class="sd">    - `Ilist.iidxtoext`</span>
<span class="sd">    - `Ilist.iloc`</span>
<span class="sd">    - `Ilist.isextIndex`</span>
<span class="sd">    - `Ilist.isiIndex`</span>
<span class="sd">    - `Ilist.isValue`</span>
<span class="sd">    - `Ilist.loc`</span>

<span class="sd">    *management - conversion methods*</span>

<span class="sd">    - `Ilist.full`</span>
<span class="sd">    - `Ilist.reindex`</span>
<span class="sd">    - `Ilist.reorder`</span>
<span class="sd">    - `Ilist.sort`</span>
<span class="sd">    - `Ilist.sortidx`</span>
<span class="sd">    - `Ilist.swapindex`</span>

<span class="sd">    *exports methods*</span>

<span class="sd">    - `Ilist.json`</span>
<span class="sd">    - `Ilist.to_csv`</span>
<span class="sd">    - `Ilist.to_numpy`</span>
<span class="sd">    - `Ilist.to_xarray`</span>
<span class="sd">    - `Ilist.vlist`</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="s1">&#39;extval&#39;</span><span class="p">,</span> <span class="s1">&#39;iidx&#39;</span><span class="p">,</span> <span class="s1">&#39;setidx&#39;</span><span class="p">,</span> <span class="s1">&#39;valname&#39;</span><span class="p">,</span> <span class="s1">&#39;idxname&#39;</span>

    <span class="nd">@classmethod</span>     <span class="c1"># !!! class methods</span>
    <span class="k">def</span> <span class="nf">Idict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">dictvaliidx</span><span class="p">,</span> <span class="n">dictsetidx</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">[],</span> <span class="n">idxref</span><span class="o">=</span><span class="p">[],</span> <span class="n">defaultidx</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Ilist constructor (dictionnary data).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **dictvaliidx** :  {valname : valiidx} with val=list(list(val, indexval))</span>
<span class="sd">        - **dictsetidx** :  {idxname0 : setidx0, ... , idxnamen : setidxn}</span>
<span class="sd">        - **order** : list (default []) of axes used if there is no indexval in valiidx</span>
<span class="sd">        - **idxref** : list (default []) of reference axes used if there is no indexval</span>
<span class="sd">        in valiidx</span>
<span class="sd">        - **defaultidx** : boolean (default True). If True, a generic index is generated</span>
<span class="sd">        if no index is defined</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **Ilist**  &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="o">*</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_initdict</span><span class="p">(</span><span class="n">dictvaliidx</span><span class="p">,</span> <span class="n">dictsetidx</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">idxref</span><span class="p">),</span> <span class="n">defaultidx</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">Iset</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">valiidx</span><span class="p">,</span> <span class="n">setidx</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">[],</span> <span class="n">idxref</span><span class="o">=</span><span class="p">[],</span> <span class="n">valname</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span>
             <span class="n">idxname</span><span class="o">=</span><span class="p">[],</span> <span class="n">defaultidx</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Ilist constructor (list data with indexed values ).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **valiidx** :  coupled val / index list : list(list(val, indexval))</span>
<span class="sd">        - **setidx** :  external different values of index (see data model)</span>
<span class="sd">        - **order** : list (default []) of axes used if there is no indexval in valiidx</span>
<span class="sd">        - **idxref** : list (default []) of reference axes used if there is no indexval in valiidx</span>
<span class="sd">        - **valname** : string (default &#39;value&#39;) name of indexed list (see data model)</span>
<span class="sd">        - **idxname** : list of string (default []) name of index list (see data model)</span>
<span class="sd">        - **defaultidx** : boolean (default True). If True, a generic index is generated</span>
<span class="sd">        if no index is defined</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **Ilist**  &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">valiidx</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="p">:</span> <span class="n">validx</span> <span class="o">=</span> <span class="p">[</span><span class="n">valiidx</span><span class="p">]</span>
        <span class="k">else</span> <span class="p">:</span> <span class="n">validx</span> <span class="o">=</span> <span class="n">valiidx</span>
        <span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">iidx</span><span class="p">)</span> <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_initset</span><span class="p">(</span><span class="n">validx</span><span class="p">,</span> <span class="n">setidx</span><span class="p">,</span> <span class="n">idxref</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">setidx</span><span class="p">,</span> <span class="n">iidx</span><span class="p">,</span> <span class="n">valname</span><span class="p">,</span> <span class="n">idxname</span><span class="p">,</span> <span class="n">defaultidx</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">Iidx</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">extval</span><span class="p">,</span> <span class="n">idxlen</span><span class="p">,</span> <span class="n">idxref</span><span class="o">=</span><span class="p">[],</span> <span class="n">order</span><span class="o">=</span><span class="p">[],</span> <span class="n">valname</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">idxname</span><span class="o">=</span><span class="p">[],</span>
             <span class="n">defaultidx</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Ilist constructor (automatic index).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extval** : indexed list (see data model)</span>
<span class="sd">        - **idxlen** : integer - number of index</span>
<span class="sd">        - **idxref** : list (default []) of reference axes used</span>
<span class="sd">        - **order** : list (default []) of axes used to order the index</span>
<span class="sd">        - **valname** : string (default &#39;value&#39;) name of indexed list (see data model)</span>
<span class="sd">        - **idxname** : list of string (default []) name of index list (see data model)</span>
<span class="sd">        - **defaultidx** : boolean (default True). If True, a generic index</span>
<span class="sd">        is generated if no index is defined</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **Ilist**  &#39;&#39;&#39;</span>
        <span class="n">iidx</span> <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_initiidx</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">extval</span><span class="p">),</span> <span class="n">idxlen</span><span class="p">,</span> <span class="n">idxref</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">defaultidx</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">extval</span><span class="p">,</span> <span class="p">[],</span> <span class="n">iidx</span><span class="p">,</span> <span class="n">valname</span><span class="p">,</span> <span class="n">idxname</span><span class="p">,</span> <span class="n">defaultidx</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">Iext</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">extval</span><span class="o">=</span><span class="p">[],</span> <span class="n">extidx</span><span class="o">=</span><span class="p">[],</span> <span class="n">valname</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">idxname</span><span class="o">=</span><span class="p">[],</span> <span class="n">defaultidx</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Ilist constructor (external index).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extval** : indexed list (see data model)</span>
<span class="sd">        - **extidx** : index list (see data model)</span>
<span class="sd">        - **valname** : string (default &#39;value&#39;) name of indexed list (see data model)</span>
<span class="sd">        - **idxname** : list of string (default []) name of index list (see data model)</span>
<span class="sd">        - **defaultidx** : boolean (default True). If True, a generic index</span>
<span class="sd">        is generated if no index is defined</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **Ilist**  &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">extval</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">extidx</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">defaultidx</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">extidx</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="ow">or</span> <span class="n">extidx</span> <span class="o">==</span> <span class="p">[])</span> <span class="p">:</span>
            <span class="n">ext</span> <span class="o">=</span> <span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">extval</span><span class="p">)))]</span>
            <span class="n">idxname</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;default index&#39;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">extidx</span> <span class="o">!=</span> <span class="p">[]</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">extidx</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">!=</span> <span class="nb">list</span> <span class="p">:</span> <span class="n">ext</span> <span class="o">=</span> <span class="p">[</span><span class="n">extidx</span><span class="p">]</span>
        <span class="k">else</span> <span class="p">:</span>                                          <span class="n">ext</span> <span class="o">=</span> <span class="n">extidx</span>
        <span class="n">setidx</span> <span class="o">=</span> <span class="p">[</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_toset</span><span class="p">(</span><span class="n">ind</span><span class="p">)</span> <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">ext</span><span class="p">]</span>
        <span class="n">iidx</span>   <span class="o">=</span> <span class="p">[</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_toint</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">setind</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">setind</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">ext</span><span class="p">,</span> <span class="n">setidx</span><span class="p">)]</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">extval</span><span class="p">,</span> <span class="n">setidx</span><span class="p">,</span> <span class="n">iidx</span><span class="p">,</span> <span class="n">valname</span><span class="p">,</span> <span class="n">idxname</span><span class="p">,</span> <span class="n">defaultidx</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">Izip</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Ilist constructor (external index only).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **args** : index list extidx=list(args) (see data model)</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **Ilist**  &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">Iext</span><span class="p">(</span><span class="n">extval</span><span class="o">=</span><span class="p">[],</span> <span class="n">extidx</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="n">valname</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">idxname</span><span class="o">=</span><span class="p">[],</span> <span class="n">defaultidx</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">Icsv</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;ilist.csv&#39;</span><span class="p">,</span> <span class="n">valfirst</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Ilist constructor (from a csv file). Each column represents extidx or extval values.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **filename** : string (default &#39;ilist.csv&#39;), name of the file to read</span>
<span class="sd">        - **valfirst** : boolean (default False). If False extval is the last columns</span>
<span class="sd">        else it&#39;s the first</span>
<span class="sd">        - **header** : boolean (default True). If True, the first raw is dedicated to names</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **Ilist**  &#39;&#39;&#39;</span>
        <span class="n">extval</span><span class="o">=</span><span class="p">[]</span>
        <span class="n">extidx</span><span class="o">=</span><span class="p">[]</span>
        <span class="n">valname</span><span class="o">=</span><span class="s1">&#39;value&#39;</span>
        <span class="n">idxname</span><span class="o">=</span><span class="p">[]</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="n">first</span><span class="o">=</span><span class="kc">True</span>
            <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">first</span> <span class="p">:</span>
                    <span class="k">for</span> <span class="n">vrow</span> <span class="ow">in</span> <span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="p">:</span> <span class="n">extidx</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
                <span class="k">if</span> <span class="n">first</span> <span class="ow">and</span> <span class="n">header</span> <span class="p">:</span>
                    <span class="k">if</span> <span class="n">valfirst</span>      <span class="p">:</span>
                        <span class="n">valname</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                        <span class="k">for</span> <span class="n">vrow</span> <span class="ow">in</span> <span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="p">:</span> <span class="n">idxname</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vrow</span><span class="p">)</span>
                    <span class="k">else</span> <span class="p">:</span>
                        <span class="n">valname</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="k">for</span> <span class="n">vrow</span> <span class="ow">in</span> <span class="n">row</span><span class="p">[:</span><span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">idxname</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vrow</span><span class="p">)</span>
                <span class="k">else</span> <span class="p">:</span>
                    <span class="k">if</span> <span class="n">valfirst</span>      <span class="p">:</span>
                        <span class="n">extval</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">:</span> <span class="n">extidx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
                    <span class="k">else</span> <span class="p">:</span>
                        <span class="n">extval</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">:</span> <span class="n">extidx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="n">first</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">Iext</span><span class="p">(</span><span class="n">extval</span><span class="p">,</span> <span class="n">extidx</span><span class="p">,</span> <span class="n">valname</span><span class="p">,</span> <span class="n">idxname</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extval</span><span class="o">=</span><span class="p">[],</span> <span class="n">setidx</span><span class="o">=</span><span class="p">[],</span> <span class="n">iidx</span><span class="o">=</span><span class="p">[],</span> <span class="n">valname</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">idxname</span><span class="o">=</span><span class="p">[],</span> <span class="n">defaultidx</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Ilist constructor.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extval** : list (default []) - indexed list (see data model)</span>
<span class="sd">        - **setidx** :  list (default []) - external different values of index (see data model)</span>
<span class="sd">        - **iidx** :  list (default [])  - integer value of index (see data model)</span>
<span class="sd">        - **valname** : string (default &#39;value&#39;) - name of indexed list (see data model)</span>
<span class="sd">        - **idxname** : list of string (default []) - name of index list (see data model)</span>
<span class="sd">        - **defaultidx** : boolean (default True) - If True, a generic index</span>
<span class="sd">        is generated if no index is defined</span>

<span class="sd">        *Returns* : None&#39;&#39;&#39;</span>
        <span class="k">if</span>   <span class="nb">type</span><span class="p">(</span><span class="n">extval</span><span class="p">)</span>  <span class="o">!=</span> <span class="nb">list</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">iidx</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="p">:</span> <span class="k">return</span>
        <span class="k">if</span>   <span class="n">defaultidx</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">iidx</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="ow">or</span> <span class="n">iidx</span> <span class="o">==</span> <span class="p">[])</span> <span class="p">:</span>
            <span class="n">iindex</span> <span class="o">=</span> <span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">extval</span><span class="p">)))]</span>
            <span class="k">if</span> <span class="n">idxname</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span>                      <span class="n">idxname</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;default index&#39;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">iidx</span> <span class="o">!=</span> <span class="p">[]</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">iidx</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">!=</span> <span class="nb">list</span> <span class="p">:</span> <span class="n">iindex</span> <span class="o">=</span> <span class="p">[</span><span class="n">iidx</span><span class="p">]</span>
        <span class="k">else</span> <span class="p">:</span>                                      <span class="n">iindex</span> <span class="o">=</span> <span class="n">iidx</span>
        <span class="k">if</span>   <span class="nb">type</span><span class="p">(</span><span class="n">setidx</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="ow">or</span> <span class="n">setidx</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span> <span class="n">setindex</span> <span class="o">=</span> <span class="p">[</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_toset</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">iindex</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">setidx</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">!=</span> <span class="nb">list</span> <span class="p">:</span>              <span class="n">setindex</span> <span class="o">=</span> <span class="p">[</span><span class="n">setidx</span><span class="p">]</span>
        <span class="k">else</span> <span class="p">:</span>                                      <span class="n">setindex</span> <span class="o">=</span>  <span class="n">setidx</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">extval</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span>                   <span class="p">:</span> <span class="n">extvalue</span> <span class="o">=</span> <span class="p">[</span><span class="n">extval</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">extval</span> <span class="o">==</span> <span class="p">[]</span> <span class="ow">and</span> <span class="n">iindex</span> <span class="o">==</span> <span class="p">[]</span>        <span class="p">:</span> <span class="n">extvalue</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">elif</span> <span class="n">extval</span> <span class="o">==</span> <span class="p">[]</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">iindex</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="nb">list</span><span class="p">:</span>
                                                    <span class="n">extvalue</span> <span class="o">=</span> <span class="p">[</span><span class="kc">True</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">iindex</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
                                                    <span class="n">valname</span> <span class="o">=</span> <span class="s1">&#39;default value&#39;</span>
        <span class="k">else</span> <span class="p">:</span>                                      <span class="n">extvalue</span> <span class="o">=</span> <span class="n">extval</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extval</span>  <span class="o">=</span> <span class="n">extvalue</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span>    <span class="o">=</span> <span class="n">iindex</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span>  <span class="o">=</span> <span class="n">setindex</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">valname</span> <span class="o">=</span> <span class="n">valname</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;idx&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">iindex</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">setindex</span><span class="p">)))]</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">idxname</span><span class="p">)</span> <span class="o">==</span> <span class="nb">list</span> <span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">idxname</span><span class="p">))</span> <span class="p">:</span>
                <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">==</span> <span class="nb">str</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_initset</span><span class="p">(</span><span class="n">validx</span><span class="p">,</span> <span class="n">setidx</span><span class="p">,</span> <span class="n">idxref</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">defaultidx</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; generate extval and iidx &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">validx</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span>
            <span class="n">extval</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">iidx</span>   <span class="o">=</span> <span class="p">[[]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">setidx</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">validx</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">!=</span> <span class="nb">list</span> <span class="p">:</span>
            <span class="n">extval</span> <span class="o">=</span> <span class="n">validx</span>
            <span class="n">idxlen</span> <span class="o">=</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">ind</span><span class="p">)</span> <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">setidx</span><span class="p">]</span>
            <span class="n">iidx</span>   <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_initiidx</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">extval</span><span class="p">),</span> <span class="n">idxlen</span><span class="p">,</span> <span class="n">idxref</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">defaultidx</span><span class="p">)</span>
        <span class="k">else</span> <span class="p">:</span>
            <span class="n">tvalidx</span> <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="n">validx</span><span class="p">)</span>
            <span class="n">extval</span>  <span class="o">=</span> <span class="n">tvalidx</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">iidx</span>    <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="n">tvalidx</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">extval</span><span class="p">,</span> <span class="n">iidx</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_initdict</span><span class="p">(</span><span class="n">dictvaliidx</span><span class="p">,</span> <span class="n">dictsetidx</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">[],</span> <span class="n">idxref</span><span class="o">=</span><span class="p">[]):</span>
        <span class="sd">&#39;&#39;&#39; generate extval, setidx, iidx, valname and idxname&#39;&#39;&#39;</span>
        <span class="n">valname</span> <span class="o">=</span> <span class="s1">&#39;value&#39;</span>
        <span class="n">validx</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dictvaliidx</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="p">:</span>
            <span class="n">valname</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">dictvaliidx</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">validx</span> <span class="o">=</span> <span class="n">dictvaliidx</span><span class="p">[</span><span class="n">valname</span><span class="p">]</span>
        <span class="n">setidx</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">idxname</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">dictsetidx</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="p">:</span>
            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">==</span> <span class="nb">list</span> <span class="p">:</span> <span class="n">vl</span> <span class="o">=</span> <span class="n">v</span>
            <span class="k">else</span> <span class="p">:</span> <span class="n">vl</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span><span class="p">]</span>
            <span class="n">idxname</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
            <span class="n">setidx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vl</span><span class="p">)</span>
        <span class="p">(</span><span class="n">extval</span><span class="p">,</span> <span class="n">iidx</span><span class="p">)</span> <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_initset</span><span class="p">(</span><span class="n">validx</span><span class="p">,</span> <span class="n">setidx</span><span class="p">,</span> <span class="n">idxref</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">extval</span><span class="p">,</span> <span class="n">setidx</span><span class="p">,</span> <span class="n">iidx</span><span class="p">,</span> <span class="n">valname</span><span class="p">,</span> <span class="n">idxname</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_initiidx</span><span class="p">(</span><span class="n">vallen</span><span class="p">,</span> <span class="n">idxlen</span><span class="p">,</span> <span class="n">idxref</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">defaultidx</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; generate a generic iidx&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">idxlen</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span>       <span class="k">return</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">idxlen</span> <span class="o">==</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span>  <span class="k">return</span> <span class="p">[</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]</span> <span class="p">]</span>
        <span class="k">if</span> <span class="nb">min</span><span class="p">(</span><span class="n">idxlen</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">:</span>   <span class="k">return</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">idxref</span> <span class="o">==</span> <span class="p">[]</span> <span class="ow">and</span> <span class="n">defaultidx</span> <span class="p">:</span> <span class="n">ref</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">idxlen</span><span class="p">)))</span>
        <span class="k">else</span> <span class="p">:</span> <span class="n">ref</span> <span class="o">=</span> <span class="n">idxref</span>
        <span class="k">if</span> <span class="n">order</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span> <span class="n">orde</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">idxlen</span><span class="p">)))</span>
        <span class="k">else</span> <span class="p">:</span> <span class="n">orde</span> <span class="o">=</span> <span class="n">order</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">idxlen</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">ref</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;idxref and idxlen should have the same lenght&quot;</span><span class="p">)</span>
        <span class="n">idxcoupled</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">idxlen</span><span class="p">))</span> <span class="k">if</span> <span class="n">ref</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">i</span><span class="p">]</span>
        <span class="n">axes</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">ref</span><span class="p">))</span>
        <span class="n">axesord</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">orde</span> <span class="p">:</span>
            <span class="n">iref</span> <span class="o">=</span> <span class="n">ref</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">iref</span> <span class="ow">in</span> <span class="n">axes</span> <span class="ow">and</span> <span class="n">iref</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">axesord</span> <span class="p">:</span> <span class="n">axesord</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iref</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">axes</span> <span class="p">:</span>
            <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">axesord</span> <span class="p">:</span> <span class="n">axesord</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">iiord</span> <span class="o">=</span> <span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">idxlen</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">axesord</span><span class="p">]</span>
        <span class="n">iidxord</span> <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">product</span><span class="p">(</span><span class="o">*</span><span class="n">iiord</span><span class="p">)))</span>
        <span class="k">if</span> <span class="n">vallen</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">iidxord</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;val lenght is not consistent with index lenght&quot;</span><span class="p">)</span>
        <span class="n">iidx</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">iidxord</span><span class="p">)))</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">axes</span> <span class="p">:</span> <span class="n">iidx</span><span class="p">[</span><span class="n">axes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">i</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iidxord</span><span class="p">[</span><span class="n">axesord</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">i</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">idxcoupled</span> <span class="p">:</span>
            <span class="n">iidx</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">iidx</span><span class="p">[</span><span class="n">ref</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span>
        <span class="k">return</span> <span class="n">iidx</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return ival and iidx&#39;&#39;&#39;</span>
        <span class="n">texLis</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span> <span class="p">:</span> <span class="n">texLis</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ival</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">texLis</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return valname, extval, idxname and extidx&#39;&#39;&#39;</span>
        <span class="n">texLis</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">nam</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">)</span> <span class="p">:</span>
            <span class="n">texLis</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">nam</span> <span class="o">+</span> <span class="s1">&#39; : &#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">json_string</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">valname</span> <span class="o">+</span> <span class="s1">&#39; : &#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">,</span> <span class="n">json_string</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">texLis</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; equal if extval and extidx are equal&#39;&#39;&#39;</span>
        <span class="k">try</span><span class="p">:</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extval</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">extval</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">extidx</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">extidx</span>
        <span class="k">except</span><span class="p">:</span> <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; len of extval&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; item of extval&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extval</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ind</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return extval item&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ind</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; modify extval item&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">ind</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">ind</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;out of bounds&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>

    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Add other&#39;s values to self&#39;s values in a new Ilist&#39;&#39;&#39;</span>
        <span class="n">newilist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__copy__</span><span class="p">()</span>
        <span class="n">newilist</span><span class="o">.</span><span class="fm">__iadd__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">newilist</span>

    <span class="k">def</span> <span class="fm">__iadd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Add other&#39;s values to self&#39;s values&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">iadd</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__or__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Add other&#39;s index to self&#39;s index in a new Ilist&#39;&#39;&#39;</span>
        <span class="n">newilist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__copy__</span><span class="p">()</span>
        <span class="n">newilist</span><span class="o">.</span><span class="fm">__ior__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">newilist</span>

    <span class="k">def</span> <span class="fm">__ior__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Add other&#39;s index to self&#39;s index&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;the sizes are not equal&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">lenidx</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">other</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span> <span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">addlistidx</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">other</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">other</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">__copy__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Copy all the data (deepcopy)&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="nd">@property</span>           <span class="c1"># !!! property</span>
    <span class="k">def</span> <span class="nf">axes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return the list of independant axes (not coupled and not unique)&#39;&#39;&#39;</span>
        <span class="n">axes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">set</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span>
                                <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span> <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">y</span><span class="p">)</span> <span class="k">else</span> <span class="n">z</span><span class="p">,</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">idxlen</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxcoupled</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxref</span><span class="p">)))))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">axes</span> <span class="p">:</span> <span class="n">axes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">axes</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">axesall</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return the list of all axes &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">axesmin</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return the list of independant axes (not coupled, not derived and not unique)&#39;&#39;&#39;</span>
        <span class="n">axes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxcoupled</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxunique</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxderived</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="n">axes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">axes</span> <span class="p">:</span> <span class="n">axes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">axes</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">axeslen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return the list of axes lenght &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">idxlen</span><span class="p">[</span><span class="n">axe</span><span class="p">]</span> <span class="k">for</span> <span class="n">axe</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">complete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return a boolean (True if Ilist is complete and consistent)&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lencomplete</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">consistent</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">consistent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return a boolean (True if Ilist is consistent : only one extval</span>
<span class="sd">        for one list of index values&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span><span class="p">)))</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">dimension</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return an integer : the number of index non coupled and non unique&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">extidx</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return extidx (see data model)&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">:</span> <span class="k">return</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="p">[</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">i</span><span class="p">]))]</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">))]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">idxcoupled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return a list of boolean for each index (True if coupled)&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">idxref</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">)]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">idxder</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return the list of derived index&#39;&#39;&#39;</span>
        <span class="n">lis</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lis</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lis</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="n">j</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_derived</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">j</span><span class="p">]):</span>
                    <span class="n">lis</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">j</span>
                    <span class="k">break</span>
        <span class="k">return</span> <span class="n">lis</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">idxderived</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return a list of boolean for each index (True if derived)&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">idxder</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">)]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">idxlen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return the list of setidx lenght &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">seti</span><span class="p">)</span> <span class="k">for</span> <span class="n">seti</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">idxref</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return the list of reference index&#39;&#39;&#39;</span>
        <span class="n">lis</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">lis</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_coupled</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">j</span><span class="p">]):</span>
                    <span class="n">lis</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">j</span>
                    <span class="k">break</span>
        <span class="k">return</span> <span class="n">lis</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">idxunique</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return a list of boolean for each index (True if unique)&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="p">[</span> <span class="n">idl</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">idl</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxlen</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">ind</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return the textidx (see data model)&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">ival</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return the ival (see data model)&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_toint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">setval</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">lencomplete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return an integer : number of values if complete (prod(idxlen,not coupled))&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mul</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="nb">max</span><span class="p">((</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">y</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxcoupled</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxlen</span><span class="p">)))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">lenidx</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return an integer : number of index&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">minMaxIndex</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return a list : [ minimal value of index, maximal value of index]&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">:</span> <span class="k">return</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
        <span class="n">maxInd</span> <span class="o">=</span> <span class="n">minInd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">:</span>
                <span class="n">minInd</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">minInd</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">idx</span><span class="p">))</span>
                <span class="n">maxInd</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">maxInd</span><span class="p">,</span> <span class="nb">max</span><span class="p">(</span><span class="n">idx</span><span class="p">))</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">minInd</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">maxInd</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">minInd</span><span class="p">,</span> <span class="n">maxInd</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">rate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return the float ratio : len / lencomplete&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">lencomplete</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">setval</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return the setval (see data model)&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_toset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">setvallen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return the integer lenght of setval (see data model)&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setval</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">tiidx</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return the tiidx (see data model)&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">textidx</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return the textidx (see data model)&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">zip</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return a zip format for textidx : tuple(tuple(idx)&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">textidx</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">addextidx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idxname</span><span class="p">,</span> <span class="n">extidx</span><span class="p">):</span>             <span class="c1"># !!! methods</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        add a new index with name = idxname and extidx.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **idxname** : string - name of index list (see data model)</span>
<span class="sd">        - **extidx** : list - new index list (see data model)</span>

<span class="sd">        *Returns* : none &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addlistidx</span><span class="p">(</span><span class="n">idxname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_toset</span><span class="p">(</span><span class="n">extidx</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_toint</span><span class="p">(</span><span class="n">extidx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_toset</span><span class="p">(</span><span class="n">extidx</span><span class="p">)))</span>

    <span class="k">def</span> <span class="nf">addlistidx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idxname</span><span class="p">,</span> <span class="n">setidx</span><span class="p">,</span> <span class="n">iidx</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        add a new index with name = idxname and setidx / iidx.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **idxname** : string - name of index list (see data model)</span>
<span class="sd">        - **setidx** :  list - external different values of index (see data model)</span>
<span class="sd">        - **iidx** :  list - integer value of index (see data model)</span>

<span class="sd">        *Returns* : none &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">iidx</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">iidx</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;listindex out of bounds&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)))</span> <span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="o">=</span> <span class="n">setidx</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>    <span class="o">=</span> <span class="n">iidx</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">idxname</span>
        <span class="k">else</span> <span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span> <span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">setidx</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span>   <span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iidx</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">idxname</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extval</span><span class="p">,</span> <span class="n">extind</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        add a new value extval with index extind.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extval** : new object value</span>
<span class="sd">        - **extind** :  list - new index values to add to extidx</span>
<span class="sd">        - **unique** :  boolean (default False) - If True and extidx present</span>
<span class="sd">        in textidx append is refuse.</span>

<span class="sd">        *Returns* : none &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">isextIndex</span><span class="p">(</span><span class="n">extind</span><span class="p">)</span> <span class="ow">and</span> <span class="n">unique</span><span class="p">)</span> <span class="ow">or</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">isValue</span><span class="p">(</span><span class="n">extval</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">isextIndex</span><span class="p">(</span><span class="n">extind</span><span class="p">))):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">extval</span><span class="p">)</span>
            <span class="n">tiidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span>
            <span class="n">tiidx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_updateset</span><span class="p">(</span><span class="n">extind</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="n">tiidx</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">appendi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extval</span><span class="p">,</span> <span class="n">intind</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        add a new value extval with index intind.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extval** : new object value</span>
<span class="sd">        - **intind** :  list - new index values to add to iidx</span>
<span class="sd">        - **unique** :  boolean (default False) - If True and intind present</span>
<span class="sd">        in tiidx append is refuse.</span>

<span class="sd">        *Returns* : none &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">isiIndex</span><span class="p">(</span><span class="n">intind</span><span class="p">)</span> <span class="ow">and</span> <span class="n">unique</span><span class="p">)</span> <span class="ow">or</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">isValue</span><span class="p">(</span><span class="n">extval</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">isiIndex</span><span class="p">(</span><span class="n">intind</span><span class="p">))):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">extval</span><span class="p">)</span>
            <span class="n">tiidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span>
            <span class="n">tiidx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">intind</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="n">tiidx</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">extidxtoi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extind</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        convert an extind (value for each extidx) to an intind (value for each iidx).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extind** : value for each extidx</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **list** : intind, value for each iidx&#39;&#39;&#39;</span>
        <span class="k">try</span> <span class="p">:</span>  <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">extind</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">extind</span><span class="p">))]</span>
        <span class="k">except</span> <span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">full</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="p">[],</span> <span class="n">fillvalue</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        add new extval with new extidx to have a complet Ilist</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **axes** : list (default []) - list of index to be completed. If [], self.axes is used.</span>
<span class="sd">        - **fillvalue** : object value used for the new extval</span>
<span class="sd">        - **inplace** : boolean (default True) - if True, new values are added,</span>
<span class="sd">        if False a new Ilist is created.</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **None, if inplace. Ilist if not inplace**&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">consistent</span> <span class="p">:</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;unable to generate full Ilist with inconsistent Ilist&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">axes</span><span class="o">==</span><span class="p">[]</span> <span class="p">:</span> <span class="n">axe</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span>
        <span class="k">else</span><span class="p">:</span> <span class="n">axe</span> <span class="o">=</span> <span class="n">axes</span>
        <span class="n">tiidxfull</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span>
        <span class="n">extvalfull</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_idxfull</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="n">axe</span><span class="p">))</span> <span class="p">:</span>
            <span class="k">if</span> <span class="n">ind</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">tiidxfull</span> <span class="p">:</span>
                <span class="n">tiidxfull</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ind</span><span class="p">)</span>
                <span class="n">extvalfull</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_nullValue</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">extvalfull</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">fillvalue</span><span class="p">))</span>
        <span class="n">iidxfull</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="n">tiidxfull</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">inplace</span> <span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">extval</span> <span class="o">=</span> <span class="n">extvalfull</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span>   <span class="o">=</span> <span class="n">iidxfull</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">Ilist</span><span class="p">(</span><span class="n">extvalfull</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">,</span> <span class="n">iidxfull</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">iadd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Add other&#39;s values to self&#39;s values</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **other** : Ilist to be copied</span>
<span class="sd">        - **unique** :  boolean (default False) - If True and iidx present in tiidx,</span>
<span class="sd">        append is refuse.</span>

<span class="sd">        *Returns* : None&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">lenidx</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;the index lenght have to be equal&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">val</span><span class="p">,</span><span class="n">extidx</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">extval</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">textidx</span><span class="p">)</span> <span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">extidx</span><span class="p">,</span> <span class="n">unique</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">)</span> <span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;idx&#39;</span> <span class="ow">and</span> <span class="n">other</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;idx&#39;</span> <span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;value&#39;</span> <span class="ow">and</span> <span class="n">other</span><span class="o">.</span><span class="n">valname</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;value&#39;</span> <span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">valname</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">valname</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">iidxtoext</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">intind</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        convert an intind (value for each iidx) to an extind (value for each extidx).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **intind** : value for each iidx</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **list** : extind, value for each extidx&#39;&#39;&#39;</span>
        <span class="k">try</span> <span class="p">:</span>  <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">intind</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">intind</span><span class="p">))]</span>
        <span class="k">except</span> <span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">iloc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">intind</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Return extval corresponding to intind.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **intind** : list - value for each iidx</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **object** : extval value &#39;&#39;&#39;</span>
        <span class="k">try</span> <span class="p">:</span>
            <span class="n">ival</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">intind</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">:</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s1">&#39;index not found&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">[</span><span class="n">ival</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">isextIndex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extind</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Return True if extind is present in extidx.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extind** : list - value for each extidx</span>

<span class="sd">        *Returns* : boolean - True if found&#39;&#39;&#39;</span>
        <span class="n">intind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extidxtoi</span><span class="p">(</span><span class="n">extind</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">intind</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">intind</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span> <span class="p">:</span> <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">isiIndex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">intind</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Return True if intind is present in iidx.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **intind** : list - value for each iidx</span>

<span class="sd">        *Returns* : boolean - True if found&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">intind</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">intind</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span> <span class="p">:</span> <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">isValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extval</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Return True if present in extval.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extval** : value to test</span>

<span class="sd">        *Returns* : boolean - True if found&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">extval</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extval</span> <span class="p">:</span> <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">option</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Return json string with val (extval or ival) and idx (extidx or iidx or none).</span>

<span class="sd">        *Parameters (option)*</span>

<span class="sd">        - **json_string** : defaut False - if True return string, else return dict</span>
<span class="sd">        - **json_res_index** : default True - if True add the index to the value</span>
<span class="sd">        - **json_mode** : string (default &#39;vv&#39;)</span>
<span class="sd">        - **json_mode[0]** : char - if &#39;v&#39;, value is extval else ival</span>
<span class="sd">        - **json_mode[1]** : char - if &#39;v&#39;, index is extidx else iidx</span>

<span class="sd">        *Returns* : string or dict&#39;&#39;&#39;</span>
        <span class="n">option2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;json_string&#39;</span> <span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;json_res_index&#39;</span> <span class="p">:</span><span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;json_mode&#39;</span> <span class="p">:</span><span class="s1">&#39;vv&#39;</span><span class="p">}</span> <span class="o">|</span> <span class="n">option</span>
        <span class="n">lis</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">textidx</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span>   <span class="n">option2</span><span class="p">[</span><span class="s1">&#39;json_mode&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;v&#39;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">extidx</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span>
            <span class="n">lis</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">option2</span><span class="p">[</span><span class="s1">&#39;json_mode&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;v&#39;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">extidx</span> <span class="o">!=</span> <span class="p">[]:</span>
            <span class="n">lis</span><span class="o">=</span><span class="p">[[</span><span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">]]</span>
            <span class="n">textidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">option2</span><span class="p">[</span><span class="s1">&#39;json_mode&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;v&#39;</span> <span class="p">:</span> <span class="n">jval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">else</span>                            <span class="p">:</span> <span class="n">jval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ival</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">option2</span><span class="p">[</span><span class="s1">&#39;json_res_index&#39;</span><span class="p">]</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span> <span class="n">lis</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">jval</span><span class="p">)</span>
            <span class="k">else</span> <span class="p">:</span>
                <span class="n">lig</span><span class="o">=</span><span class="p">[</span><span class="n">jval</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">option2</span><span class="p">[</span><span class="s1">&#39;json_mode&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;v&#39;</span> <span class="p">:</span> <span class="n">lig</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">textidx</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="k">else</span>                            <span class="p">:</span> <span class="n">lig</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="n">lis</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lig</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">option2</span><span class="p">[</span><span class="s1">&#39;json_mode&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;v&#39;</span><span class="p">:</span> <span class="n">js</span> <span class="o">=</span> <span class="n">lis</span>
        <span class="k">else</span> <span class="p">:</span>
            <span class="n">js</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">))</span> <span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxlen</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">:</span> <span class="n">js</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">lis</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="p">:</span> <span class="n">js</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">]</span> <span class="o">=</span> <span class="n">lis</span>
        <span class="k">if</span> <span class="n">option2</span><span class="p">[</span><span class="s1">&#39;json_string&#39;</span><span class="p">]:</span> <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">js</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">js</span>

    <span class="k">def</span> <span class="nf">loc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extind</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Return extval corresponding to extind.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extind** : list - value for each extidx</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **object** : extval value &#39;&#39;&#39;</span>
        <span class="n">intind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extidxtoi</span><span class="p">(</span><span class="n">extind</span><span class="p">)</span>
        <span class="k">try</span> <span class="p">:</span>
            <span class="n">ival</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">intind</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">:</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s1">&#39;index not found&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">[</span><span class="n">ival</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">reindex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="p">[]):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Define new sorted index.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **index** : list (default [])- list of the index to reindex.</span>
<span class="sd">        If [] all the index are reindexed.</span>

<span class="sd">        *Returns* : None&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span> <span class="n">index</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">)))</span>
        <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">index</span> <span class="p">:</span>
            <span class="n">oldidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">ind</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span>   <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_reindexidx</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">ind</span><span class="p">],</span> <span class="n">oldidx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">ind</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">reorder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="p">[],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Change the order of extval and iidx with a new order define by sort.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **sort** : list (default [])- new order to apply. If [], no change.</span>
<span class="sd">        - **inplace** : boolean (default True) - if True, new order is apply to self,</span>
<span class="sd">        if False a new Ilist is created.</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **None, if inplace. Ilist if not inplace**&#39;&#39;&#39;</span>
        <span class="n">extval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reorder</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">,</span> <span class="n">sort</span><span class="p">)</span>
        <span class="n">iidx</span> <span class="o">=</span>  <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_reorder</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">sort</span><span class="p">)</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">inplace</span> <span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">extval</span> <span class="o">=</span> <span class="n">extval</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span>   <span class="o">=</span> <span class="n">iidx</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">Ilist</span><span class="p">(</span><span class="n">extval</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">,</span> <span class="n">iidx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">sort</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="p">[],</span> <span class="n">order</span><span class="o">=</span><span class="p">[],</span> <span class="n">reindex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; sort : calculate a new list order&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">reorder</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sortidx</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">sort</span><span class="p">,</span> <span class="n">reindex</span><span class="p">),</span> <span class="n">inplace</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">sortidx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">[],</span> <span class="n">sort</span><span class="o">=</span><span class="p">[],</span> <span class="n">reindex</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Define a new order to apply to extval and iidx (reorder method).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **order** : list (default [])- new order of index to apply in sort function.</span>
<span class="sd">        If [], the sort function is applied to extval.</span>
<span class="sd">        - **sort** : list (default [])- new order to apply. If [], the new order</span>
<span class="sd">        is calculated.</span>
<span class="sd">        - **reindex** : boolean (default True) - if True, the index are reindexed.</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **list** : sort - new order to apply&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">sort</span><span class="p">)</span> <span class="o">==</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">):</span> <span class="k">return</span> <span class="n">sort</span>
        <span class="n">newsetidx</span> <span class="o">=</span> <span class="p">[</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">ind</span><span class="p">])</span> <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">))]</span>
        <span class="n">newiidx</span> <span class="o">=</span> <span class="p">[</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_reindexidx</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">ind</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">ind</span><span class="p">],</span> <span class="n">newsetidx</span><span class="p">[</span><span class="n">ind</span><span class="p">])</span>
                   <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">))]</span>
        <span class="k">if</span> <span class="n">reindex</span> <span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span> <span class="o">=</span> <span class="n">newiidx</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span> <span class="o">=</span> <span class="n">newsetidx</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">order</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">order</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="ow">or</span> <span class="nb">max</span><span class="p">(</span><span class="n">order</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="p">:</span> <span class="n">idx</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">else</span> <span class="p">:</span> <span class="n">idx</span> <span class="o">=</span> <span class="p">[</span><span class="n">newiidx</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">order</span><span class="p">]</span>
        <span class="n">idx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">)</span>
        <span class="n">idx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">))))</span>
        <span class="k">return</span>  <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="n">idx</span><span class="p">)))[</span><span class="nb">len</span><span class="p">(</span><span class="n">order</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">swapindex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Change the order of the index (iidx, setidx, idxname).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **order** : list - new order of index to apply.</span>

<span class="sd">        *Returns* : none &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">order</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="p">:</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;order lenght not correct&quot;</span><span class="p">)</span>
        <span class="n">iidx</span>    <span class="o">=</span> <span class="p">[]</span>
        <span class="n">setidx</span>  <span class="o">=</span> <span class="p">[]</span>
        <span class="n">idxname</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">order</span> <span class="p">:</span>
            <span class="n">iidx</span><span class="o">.</span><span class="n">append</span>  <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span>  <span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">setidx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">idxname</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span>   <span class="o">=</span> <span class="n">iidx</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span> <span class="o">=</span> <span class="n">setidx</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span> <span class="o">=</span> <span class="n">idxname</span>

    <span class="k">def</span> <span class="nf">to_csv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;ilist.csv&#39;</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ifunc</span><span class="o">=</span><span class="p">[],</span> <span class="n">valfirst</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
               <span class="n">order</span><span class="o">=</span><span class="p">[],</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Generate a csv file with Ilist data (a column for extval and each extidx)</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **filename** : string (default &#39;ilist.csv&#39;) - name of the file to create</span>
<span class="sd">        - **func** : function (default none) - function to apply to extval before writting csv file</span>
<span class="sd">        - **ifunc** : list of function (default []) - function to apply to extidx</span>
<span class="sd">        before writting csv file</span>
<span class="sd">        - **valfirst** : boolean (default False). If False extval is the last columns,</span>
<span class="sd">         else it&#39;s the first</span>
<span class="sd">        - **order** : list of integer (default []) - ordered list of index in columns</span>
<span class="sd">        - **header** : boolean (default True). If True, the first raw is dedicated to names</span>
<span class="sd">        - **kwargs** : parameter for csv.writer or func</span>

<span class="sd">        *Returns* : none &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">order</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span> <span class="n">order</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">))</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">quoting</span><span class="o">=</span><span class="n">csv</span><span class="o">.</span><span class="n">QUOTE_NONNUMERIC</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">header</span><span class="p">:</span>
                <span class="n">row</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">if</span> <span class="n">valfirst</span>      <span class="p">:</span> <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">order</span> <span class="p">:</span> <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">idx</span><span class="p">])</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">valfirst</span>  <span class="p">:</span> <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">)</span>
                <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
                <span class="n">row</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ifunc</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="p">:</span> <span class="n">funci</span> <span class="o">=</span> <span class="n">func</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="k">else</span> <span class="p">:</span> <span class="n">funci</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">if</span> <span class="n">valfirst</span>      <span class="p">:</span>
                    <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_funclist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>      <span class="n">func</span><span class="p">,</span>  <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">order</span> <span class="p">:</span>
                    <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_funclist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="n">funci</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">valfirst</span>  <span class="p">:</span>
                    <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_funclist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>      <span class="n">func</span><span class="p">,</span>  <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_numpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ind</span><span class="o">=</span><span class="s1">&#39;axe&#39;</span><span class="p">,</span> <span class="n">fillvalue</span><span class="o">=</span><span class="s1">&#39;?&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Complete the Ilist and generate a Numpy array with the dimension define by ind.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **func** : function (default none) - function to apply to extval before export</span>
<span class="sd">        - **ind** : string (default &#39;axe&#39;) - &#39;axe&#39; -&gt; independant axes,</span>
<span class="sd">        &#39;all&#39; -&gt; all axes, &#39;flat&#39; -&gt; one list</span>
<span class="sd">        - **fillvalue** : object (default &#39;?&#39;) - value used for the new extval</span>
<span class="sd">        - **kwargs** : parameter for func</span>

<span class="sd">        *Returns* : none &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">consistent</span> <span class="p">:</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;unable to generate numpy array with inconsistent Ilist&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">ind</span> <span class="o">==</span> <span class="s1">&#39;flat&#39;</span> <span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tonumpy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">ind</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;axe&#39;</span><span class="p">,</span> <span class="s1">&#39;all&#39;</span><span class="p">]</span>  <span class="p">:</span>
            <span class="k">if</span> <span class="n">ind</span> <span class="o">==</span> <span class="s1">&#39;axe&#39;</span> <span class="p">:</span> <span class="n">axes</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">else</span> <span class="p">:</span> <span class="n">axes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">))</span>
            <span class="n">ilf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="n">axes</span><span class="p">,</span> <span class="n">fillvalue</span><span class="o">=</span><span class="n">fillvalue</span><span class="p">)</span>
            <span class="n">ilf</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tonumpy</span><span class="p">(</span><span class="n">ilf</span><span class="o">.</span><span class="n">extval</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">ilf</span><span class="o">.</span><span class="n">axeslen</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">to_xarray</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">info</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="p">[],</span> <span class="n">fillvalue</span><span class="o">=</span><span class="s1">&#39;?&#39;</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ifunc</span><span class="o">=</span><span class="p">[],</span>
                  <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Ilist&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Complete the Ilist and generate a Xarray DataArray with the dimension define by ind.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **info** : boolean (default False) - if True, add _dict attributes to attrs Xarray</span>
<span class="sd">        - **axes** : list (default []) - list of index to be completed. If [],</span>
<span class="sd">        self.axes is used.</span>
<span class="sd">        - **fillvalue** : object (default &#39;?&#39;) - value used for the new extval</span>
<span class="sd">        - **func** : function (default none) - function to apply to extval before export</span>
<span class="sd">        - **ifunc** : list of function (default []) - function to apply to</span>
<span class="sd">        extidx before export</span>
<span class="sd">        - **name** : string (default &#39;Ilist&#39;) - DataArray name</span>
<span class="sd">        - **kwargs** : parameter for func and ifunc</span>

<span class="sd">        *Returns* : none &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">consistent</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;Ilist not consistent&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">axes</span><span class="o">==</span><span class="p">[]</span> <span class="p">:</span> <span class="n">axe</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span>
        <span class="k">else</span><span class="p">:</span> <span class="n">axe</span> <span class="o">=</span> <span class="n">axes</span>
        <span class="n">ilf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="n">axe</span><span class="p">,</span> <span class="n">fillvalue</span><span class="o">=</span><span class="n">fillvalue</span><span class="p">)</span>
        <span class="n">ilf</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="n">axe</span><span class="p">)</span>
        <span class="n">coord</span> <span class="o">=</span> <span class="n">ilf</span><span class="o">.</span><span class="n">_xcoord</span><span class="p">(</span><span class="n">ifunc</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">dims</span> <span class="o">=</span> <span class="p">[</span><span class="n">ilf</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">ax</span><span class="p">]</span> <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">axe</span><span class="p">]</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">ilf</span><span class="o">.</span><span class="n">_tonumpy</span><span class="p">(</span><span class="n">ilf</span><span class="o">.</span><span class="n">extval</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
                            <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">([</span><span class="n">ilf</span><span class="o">.</span><span class="n">idxlen</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">axe</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">info</span> <span class="p">:</span> <span class="k">return</span> <span class="n">xarray</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">coord</span><span class="p">,</span> <span class="n">dims</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="n">ilf</span><span class="o">.</span><span class="n">_dict</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">xarray</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">coord</span><span class="p">,</span> <span class="n">dims</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">updateidx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indval</span><span class="p">,</span> <span class="n">extind</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Update the index of an extval.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **indval** : integer - row of the value in extval</span>
<span class="sd">        - **extind** : list - new value for each extidx</span>
<span class="sd">        - **unique** :  boolean (default False) - If True and extind present in textidx,</span>
<span class="sd">        update is refuse.</span>

<span class="sd">        *Returns* : none&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">extind</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="ow">or</span> <span class="n">indval</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">indval</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="p">:</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;out of bounds&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isextIndex</span><span class="p">(</span><span class="n">extind</span><span class="p">)</span> <span class="ow">and</span> <span class="n">unique</span> <span class="p">:</span> <span class="k">return</span>
        <span class="n">tiidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span>
        <span class="n">tiidx</span><span class="p">[</span><span class="n">indval</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_updateset</span><span class="p">(</span><span class="n">extind</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="n">tiidx</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">updatelist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extlist</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Update extval or extidx.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extlist** : list of list - list of values to update</span>
<span class="sd">        - **idx** : list of integer - list of index to update (idx=-1 for extval)</span>

<span class="sd">        *Returns* : none&#39;&#39;&#39;</span>
        <span class="n">extlis</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checkidxlist</span><span class="p">(</span><span class="n">extlist</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">extlis</span> <span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ind</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;out of bounds&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">extl</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">extlis</span><span class="p">)</span> <span class="p">:</span>
            <span class="k">if</span> <span class="n">ind</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="p">:</span>  <span class="bp">self</span><span class="o">.</span><span class="n">extval</span>      <span class="o">=</span> <span class="n">extl</span>
            <span class="k">else</span> <span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_toset</span><span class="p">(</span><span class="n">extl</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_toint</span><span class="p">(</span><span class="n">extl</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">ind</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">vlist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Apply a function to extval or extidx and return the result.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **func** : function (default none) - function to apply to extval or extidx</span>
<span class="sd">        - **args, kwargs** : parameters for the function</span>
<span class="sd">        - **idx** : integer - index to update (idx=-1 for extval)</span>

<span class="sd">        *Returns* : list of func result&#39;&#39;&#39;</span>
        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checkidxlist</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">idx</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="p">:</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_funclist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_funclist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_checkidxlist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">listidx</span><span class="p">,</span> <span class="n">idx</span><span class="p">):</span>      <span class="c1"># !!!</span>
        <span class="c1"># idx=-1 -&gt; val</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="p">:</span> <span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="n">idx</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">idx</span> <span class="ow">is</span> <span class="kc">None</span> <span class="p">:</span>    <span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span> <span class="p">:</span>                <span class="n">index</span> <span class="o">=</span>  <span class="n">idx</span>
        <span class="k">if</span> <span class="nb">min</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">1</span> <span class="ow">or</span> <span class="nb">max</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;index out of bounds&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">listidx</span> <span class="ow">is</span> <span class="kc">None</span> <span class="p">:</span> <span class="k">return</span> <span class="n">index</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">listidx</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;listindex not a list&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">listidx</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">!=</span> <span class="nb">list</span> <span class="p">:</span>   <span class="n">listindex</span> <span class="o">=</span> <span class="p">[</span><span class="n">listidx</span><span class="p">]</span>
        <span class="k">else</span> <span class="p">:</span>                          <span class="n">listindex</span> <span class="o">=</span>  <span class="n">listidx</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">listindex</span><span class="p">)</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;listindex out of bounds&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">listindex</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_coupled</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="n">l2</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return boolean if l2 is coupled to ref&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_idxlink</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="n">l2</span><span class="p">))</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">ref</span><span class="p">))</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_derived</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="n">l2</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return boolean if ref is derived from l2&#39;&#39;&#39;</span>
        <span class="n">lis</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_tuple</span><span class="p">(</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_transpose</span><span class="p">([</span><span class="n">ref</span><span class="p">,</span> <span class="n">l2</span><span class="p">])))</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">lis</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">l2</span><span class="p">))</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">ref</span><span class="p">))</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">l2</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">addproperty</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">long</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return the value of the properties&#39;&#39;&#39;</span>
        <span class="n">dic</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;valname&#39;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">,</span> <span class="s1">&#39;idxname&#39;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">}</span>
        <span class="k">if</span> <span class="n">long</span> <span class="p">:</span>
            <span class="n">dic</span> <span class="o">|=</span> <span class="p">{</span><span class="s1">&#39;extval&#39;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">,</span> <span class="s1">&#39;iidx&#39;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">,</span> <span class="s1">&#39;setidx&#39;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span> <span class="p">}</span>
        <span class="k">if</span> <span class="n">addproperty</span> <span class="p">:</span>
            <span class="n">dic</span> <span class="o">|=</span> <span class="p">{</span><span class="s1">&#39;axes&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">,</span> <span class="s1">&#39;axesall&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">axesall</span><span class="p">,</span> <span class="s1">&#39;axeslen&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">axeslen</span><span class="p">,</span>
            <span class="s1">&#39;axesmin&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">axesmin</span><span class="p">,</span> <span class="s1">&#39;complete&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">complete</span><span class="p">,</span>
            <span class="s1">&#39;consistent&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">consistent</span><span class="p">,</span> <span class="s1">&#39;dimension&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">dimension</span><span class="p">,</span>
            <span class="s1">&#39;idxcoupled&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">idxcoupled</span><span class="p">,</span> <span class="s1">&#39;idxderived&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">idxderived</span><span class="p">,</span> <span class="s1">&#39;idxlen&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">idxlen</span><span class="p">,</span>
            <span class="s1">&#39;idxunique&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">idxunique</span><span class="p">,</span> <span class="s1">&#39;idxder&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">idxder</span><span class="p">,</span>
            <span class="s1">&#39;idxref&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">idxref</span><span class="p">,</span> <span class="s1">&#39;lencomplete&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">lencomplete</span><span class="p">,</span> <span class="s1">&#39;lenidx&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">,</span>
            <span class="s1">&#39;minMaxIndex&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">minMaxIndex</span><span class="p">,</span> <span class="s1">&#39;rate&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">rate</span><span class="p">,</span> <span class="s1">&#39;setvallen&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">setvallen</span> <span class="p">}</span>
            <span class="k">if</span> <span class="n">long</span> <span class="p">:</span>
                <span class="n">dic</span> <span class="o">|=</span> <span class="p">{</span> <span class="s1">&#39;extidx&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">,</span> <span class="s1">&#39;ind&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">ind</span><span class="p">,</span> <span class="s1">&#39;ival&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">ival</span><span class="p">,</span>
                        <span class="s1">&#39;setval&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">setval</span><span class="p">,</span> <span class="s1">&#39;tiidx&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span><span class="p">,</span> <span class="s1">&#39;textidx&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">textidx</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">dic</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_funclist</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return the function func applied to the object value with parameters args and kwargs&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">func</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="p">[])</span> <span class="p">:</span> <span class="k">return</span> <span class="n">value</span>
        <span class="n">lis</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="p">:</span> <span class="n">listval</span> <span class="o">=</span> <span class="p">[</span><span class="n">value</span><span class="p">]</span>
        <span class="k">else</span> <span class="p">:</span> <span class="n">listval</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">listval</span> <span class="p">:</span>
            <span class="k">try</span> <span class="p">:</span> <span class="n">lis</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
            <span class="k">except</span> <span class="p">:</span>
                <span class="k">try</span> <span class="p">:</span> <span class="n">lis</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">except</span> <span class="p">:</span>
                    <span class="k">try</span> <span class="p">:</span> <span class="n">lis</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">listval</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                    <span class="k">except</span> <span class="p">:</span>
                        <span class="k">try</span> <span class="p">:</span> <span class="n">lis</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">listval</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                        <span class="k">except</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;unable to apply func&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">lis</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="p">:</span> <span class="k">return</span> <span class="n">lis</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">lis</span>

    <span class="k">def</span> <span class="nf">_idxfull</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="p">[]):</span>
        <span class="sd">&#39;&#39;&#39;return iidx with full index in the axes&#39;&#39;&#39;</span>
        <span class="k">if</span>    <span class="n">axes</span><span class="o">==</span><span class="p">[]</span> <span class="p">:</span> <span class="n">axe</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxcoupled</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
        <span class="k">else</span>           <span class="p">:</span> <span class="n">axe</span> <span class="o">=</span> <span class="n">axes</span>
        <span class="n">iidxr</span> <span class="o">=</span> <span class="p">[</span><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">axe</span><span class="p">]</span>
        <span class="n">nidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">product</span><span class="p">(</span><span class="o">*</span><span class="n">iidxr</span><span class="p">)))</span> <span class="c1"># iidx réduit aux axes et complet</span>
        <span class="n">iidxfull</span> <span class="o">=</span> <span class="p">[[]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">axe</span> <span class="p">:</span>
                <span class="n">iidxfull</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">nidx</span><span class="p">[</span><span class="n">axe</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">idx</span><span class="p">)]</span>
            <span class="k">elif</span> <span class="n">idx</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">axe</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxcoupled</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="p">:</span>
                <span class="n">dic</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_idxlink</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">idxref</span><span class="p">[</span><span class="n">idx</span><span class="p">]],</span> <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">idx</span><span class="p">])</span>
                <span class="n">iidxfull</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">dic</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">nidx</span><span class="p">[</span><span class="n">axe</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">idxref</span><span class="p">[</span><span class="n">idx</span><span class="p">])]]</span>
            <span class="k">elif</span> <span class="n">idx</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">axe</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxcoupled</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="ow">and</span> \
                   <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxunique</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxderived</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="p">:</span>
                <span class="n">dic</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_idxlink</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">idxder</span><span class="p">[</span><span class="n">idx</span><span class="p">]],</span> <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">idx</span><span class="p">],</span> <span class="n">coupled</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                <span class="n">iidxfull</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">dic</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">nidx</span><span class="p">[</span><span class="n">axe</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">idxder</span><span class="p">[</span><span class="n">idx</span><span class="p">])]]</span>
            <span class="k">elif</span> <span class="n">idx</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">axe</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxcoupled</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="ow">and</span> \
                   <span class="bp">self</span><span class="o">.</span><span class="n">idxunique</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="p">:</span>
                <span class="n">iidxfull</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nidx</span><span class="p">[</span><span class="mi">0</span><span class="p">]))]</span>
            <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;index : &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; have to be in axes&quot;</span> <span class="p">)</span>
        <span class="k">return</span> <span class="n">iidxfull</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_idxlink</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="n">l2</span><span class="p">,</span> <span class="n">coupled</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; return dic ={ref i : l2 i} pour chaque tuple différent&#39;&#39;&#39;</span>
        <span class="n">lis</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_tuple</span><span class="p">(</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_transpose</span><span class="p">([</span><span class="n">ref</span><span class="p">,</span> <span class="n">l2</span><span class="p">])))</span>
        <span class="k">if</span> <span class="n">coupled</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">lis</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">ref</span><span class="p">))</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">l2</span><span class="p">))</span> <span class="p">:</span> <span class="k">return</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">lis</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_index</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return the index of val in idx&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">idx</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_json</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">json_string</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;return the json format of val (if function json() or to_json() exists&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">]</span> <span class="p">:</span>
            <span class="k">if</span> <span class="n">json_string</span> <span class="p">:</span> <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">val</span>
        <span class="k">try</span>     <span class="p">:</span> <span class="k">return</span> <span class="n">val</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">json_string</span><span class="o">=</span><span class="n">json_string</span><span class="p">)</span>
        <span class="k">except</span>  <span class="p">:</span> <span class="k">return</span> <span class="n">val</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">json_string</span><span class="o">=</span><span class="n">json_string</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_list</span><span class="p">(</span><span class="n">idx</span><span class="p">):</span> <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">idx</span><span class="p">))</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_mul</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
        <span class="n">mul</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">val</span> <span class="p">:</span> <span class="n">mul</span> <span class="o">*=</span> <span class="n">v</span>
        <span class="k">return</span> <span class="n">mul</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_nullValue</span><span class="p">(</span><span class="n">Class</span><span class="p">,</span> <span class="n">fillvalue</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fillvalue</span><span class="p">,</span> <span class="n">Class</span><span class="p">)</span> <span class="p">:</span> <span class="k">return</span> <span class="n">fillvalue</span>
        <span class="k">if</span> <span class="n">Class</span> <span class="o">==</span> <span class="nb">int</span>                 <span class="p">:</span> <span class="k">return</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">Class</span> <span class="o">==</span> <span class="nb">float</span>               <span class="p">:</span> <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;nan&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">Class</span> <span class="o">==</span> <span class="nb">str</span>                 <span class="p">:</span> <span class="k">return</span> <span class="s1">&#39;-&#39;</span>
        <span class="k">if</span> <span class="n">Class</span> <span class="o">==</span> <span class="nb">bool</span>                <span class="p">:</span> <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">Class</span><span class="p">()</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_reindexidx</span><span class="p">(</span><span class="n">iidx</span><span class="p">,</span> <span class="n">setidx</span><span class="p">,</span> <span class="n">newsetidx</span><span class="p">)</span> <span class="p">:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">newsetidx</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">setidx</span><span class="p">[</span><span class="n">indb</span><span class="p">])</span> <span class="k">for</span> <span class="n">indb</span> <span class="ow">in</span> <span class="n">iidx</span><span class="p">]</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_reorder</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="p">[]):</span>
        <span class="k">if</span> <span class="n">sort</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span> <span class="k">return</span> <span class="n">val</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">val</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">sort</span><span class="p">]</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_setable</span><span class="p">(</span><span class="n">extv</span><span class="p">):</span>
        <span class="k">try</span> <span class="p">:</span>
            <span class="nb">set</span><span class="p">(</span><span class="n">extv</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">extv</span>
        <span class="k">except</span> <span class="p">:</span>
            <span class="k">return</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_tuple</span><span class="p">(</span><span class="n">extv</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_toint</span><span class="p">(</span><span class="n">extv</span><span class="p">,</span> <span class="n">extset</span><span class="p">):</span>
        <span class="n">ext</span> <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_setable</span><span class="p">(</span><span class="n">extv</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">extset</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">ext</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">_toival</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extval</span><span class="p">):</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">setval</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">extval</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_toext</span><span class="p">(</span><span class="n">iidx</span><span class="p">,</span> <span class="n">extset</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">extset</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">iidx</span><span class="p">]</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_tonumpy</span><span class="p">(</span><span class="n">lis</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="n">identity</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">func</span> <span class="ow">is</span> <span class="kc">None</span> <span class="p">:</span> <span class="n">func</span> <span class="o">=</span> <span class="n">identity</span>
        <span class="k">if</span> <span class="n">func</span> <span class="o">==</span> <span class="s1">&#39;index&#39;</span> <span class="p">:</span> <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lis</span><span class="p">))))</span>
        <span class="n">valList</span> <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_funclist</span><span class="p">(</span><span class="n">lis</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">valList</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="nb">str</span> <span class="p">:</span>
            <span class="k">try</span> <span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromisoformat</span><span class="p">(</span><span class="n">valList</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">except</span> <span class="p">:</span> <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">valList</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">valList</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">datetime64</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">valList</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="n">datetime</span> <span class="p">:</span> <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">valList</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">datetime64</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">valList</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_toset</span><span class="p">(</span><span class="n">extv</span><span class="p">):</span>
        <span class="n">ext</span> <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_setable</span><span class="p">(</span><span class="n">extv</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">ext</span><span class="p">))</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_transpose</span><span class="p">(</span><span class="n">idx</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s1">&#39;index not transposable&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">idx</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span> <span class="k">return</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="p">[[</span><span class="n">ix</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="k">for</span> <span class="n">ix</span> <span class="ow">in</span> <span class="n">idx</span><span class="p">]</span> <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">idx</span><span class="p">[</span><span class="mi">0</span><span class="p">]))]</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_tuple</span><span class="p">(</span><span class="n">idx</span><span class="p">):</span> <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="n">idx</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_updateset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extidx</span><span class="p">):</span>
        <span class="c1"># ajouter à la fin un recalcul de iidx en fonction de sorted(extset)</span>
        <span class="n">iidx</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">extidx</span><span class="p">)):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">)</span> <span class="o">==</span> <span class="n">i</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
            <span class="k">if</span> <span class="n">extidx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">extidx</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">iidx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">extidx</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
        <span class="k">return</span> <span class="n">iidx</span>

    <span class="k">def</span> <span class="nf">_xcoord</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">funcidx</span><span class="o">=</span><span class="p">[],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="p">:</span>
        <span class="sd">&#39;&#39;&#39; Coords generation for Xarray&#39;&#39;&#39;</span>
        <span class="n">coord</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxunique</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">:</span> <span class="k">continue</span>
            <span class="k">if</span> <span class="n">funcidx</span><span class="o">==</span><span class="p">[]</span> <span class="p">:</span> <span class="n">funci</span><span class="o">=</span><span class="n">identity</span>
            <span class="k">else</span> <span class="p">:</span> <span class="n">funci</span><span class="o">=</span> <span class="n">funcidx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span>   <span class="bp">self</span><span class="o">.</span><span class="n">idxcoupled</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">:</span>
                <span class="n">xlisti</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tonumpy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_xderived</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxref</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="n">func</span><span class="o">=</span><span class="n">funci</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                <span class="n">coord</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">idxref</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span> <span class="n">xlisti</span><span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxderived</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">:</span>
                <span class="n">xlisti</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tonumpy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_xderived</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxder</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="n">func</span><span class="o">=</span><span class="n">funci</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                <span class="n">coord</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">idxder</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span> <span class="n">xlisti</span><span class="p">)</span>
            <span class="k">else</span> <span class="p">:</span>
                <span class="n">xlisti</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tonumpy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">func</span><span class="o">=</span><span class="n">funci</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                <span class="n">coord</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="n">xlisti</span>
        <span class="k">return</span> <span class="n">coord</span>

    <span class="k">def</span> <span class="nf">_xderived</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idxder</span><span class="p">,</span> <span class="n">idxori</span><span class="p">)</span> <span class="p">:</span>
        <span class="n">dic</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_idxlink</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">[</span><span class="n">idxori</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">[</span><span class="n">idxder</span><span class="p">],</span> <span class="n">coupled</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">dic</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">idxori</span><span class="p">]]</span>
</pre></div>

        </details>

            <div class="docstring"><p>An <code><a href="#Ilist">Ilist</a></code> is a representation of an indexed list (a list is indexed by others list).
E.g. python zip or csv file.</p>

<p><em>Attributes (for @property see methods)</em> :</p>

<ul>
<li><strong>extval</strong> : list of data to be indexed</li>
<li><strong>valname</strong> : name of the extval list</li>
<li><strong>setval</strong> : list of the different extval values (dynamic value)</li>
<li><strong>ival</strong> : index of the extval (dynamic value)</li>
<li><strong>extidx</strong> : list of index (dynamic value)</li>
<li><strong>idxname</strong> : list of the index name</li>
<li><strong>setidx</strong> : list of the different idxval values</li>
<li><strong>iidx</strong> : index of the extidx list of values</li>
</ul>

<p>The methods defined in this class are :</p>

<p><em>class methods (constructor)</em></p>

<ul>
<li><code><a href="#Ilist.Idict">Ilist.Idict</a></code></li>
<li><code><a href="#Ilist.Iset">Ilist.Iset</a></code></li>
<li><code><a href="#Ilist.Iidx">Ilist.Iidx</a></code></li>
<li><code><a href="#Ilist.Iext">Ilist.Iext</a></code></li>
<li><code><a href="#Ilist.Izip">Ilist.Izip</a></code></li>
<li><code><a href="#Ilist.Icsv">Ilist.Icsv</a></code></li>
</ul>

<p><em>dynamic value property (getters)</em></p>

<ul>
<li><code><a href="#Ilist.ival">Ilist.ival</a></code></li>
<li><code><a href="#Ilist.setval">Ilist.setval</a></code></li>
<li><code><a href="#Ilist.extidx">Ilist.extidx</a></code></li>
<li><code><a href="#Ilist.tiidx">Ilist.tiidx</a></code></li>
<li><code><a href="#Ilist.textidx">Ilist.textidx</a></code></li>
</ul>

<p><em>global property (getters)</em></p>

<ul>
<li><code><a href="#Ilist.axes">Ilist.axes</a></code></li>
<li><code><a href="#Ilist.axesall">Ilist.axesall</a></code></li>
<li><code><a href="#Ilist.axeslen">Ilist.axeslen</a></code></li>
<li><code><a href="#Ilist.axesmin">Ilist.axesmin</a></code></li>
<li><code><a href="#Ilist.complete">Ilist.complete</a></code></li>
<li><code><a href="#Ilist.consistent">Ilist.consistent</a></code></li>
<li><code><a href="#Ilist.dimension">Ilist.dimension</a></code></li>
<li><code><a href="#Ilist.lencomplete">Ilist.lencomplete</a></code></li>
<li><code><a href="#Ilist.rate">Ilist.rate</a></code></li>
<li><code><a href="#Ilist.setvallen">Ilist.setvallen</a></code></li>
<li><code><a href="#Ilist.zip">Ilist.zip</a></code></li>
</ul>

<p><em>idx property (getters)</em></p>

<ul>
<li><code><a href="#Ilist.idxcoupled">Ilist.idxcoupled</a></code></li>
<li><code><a href="#Ilist.idxderived">Ilist.idxderived</a></code></li>
<li><code><a href="#Ilist.idxlen">Ilist.idxlen</a></code></li>
<li><code><a href="#Ilist.idxref">Ilist.idxref</a></code></li>
<li><code><a href="#Ilist.idxunique">Ilist.idxunique</a></code></li>
<li><code><a href="#Ilist.ind">Ilist.ind</a></code></li>
<li><code><a href="#Ilist.lenidx">Ilist.lenidx</a></code></li>
<li><code><a href="#Ilist.minMaxIndex">Ilist.minMaxIndex</a></code></li>
</ul>

<p><em>add - update methods</em></p>

<ul>
<li><code><a href="#Ilist.addextidx">Ilist.addextidx</a></code></li>
<li><code><a href="#Ilist.addlistidx">Ilist.addlistidx</a></code></li>
<li><code><a href="#Ilist.append">Ilist.append</a></code></li>
<li><code><a href="#Ilist.appendi">Ilist.appendi</a></code></li>
<li><code><a href="#Ilist.updateidx">Ilist.updateidx</a></code></li>
<li><code><a href="#Ilist.updatelist">Ilist.updatelist</a></code></li>
</ul>

<p><em>selecting methods</em></p>

<ul>
<li><code><a href="#Ilist.extidxtoi">Ilist.extidxtoi</a></code></li>
<li><code><a href="#Ilist.iidxtoext">Ilist.iidxtoext</a></code></li>
<li><code><a href="#Ilist.iloc">Ilist.iloc</a></code></li>
<li><code><a href="#Ilist.isextIndex">Ilist.isextIndex</a></code></li>
<li><code><a href="#Ilist.isiIndex">Ilist.isiIndex</a></code></li>
<li><code><a href="#Ilist.isValue">Ilist.isValue</a></code></li>
<li><code><a href="#Ilist.loc">Ilist.loc</a></code></li>
</ul>

<p><em>management - conversion methods</em></p>

<ul>
<li><code><a href="#Ilist.full">Ilist.full</a></code></li>
<li><code><a href="#Ilist.reindex">Ilist.reindex</a></code></li>
<li><code><a href="#Ilist.reorder">Ilist.reorder</a></code></li>
<li><code><a href="#Ilist.sort">Ilist.sort</a></code></li>
<li><code><a href="#Ilist.sortidx">Ilist.sortidx</a></code></li>
<li><code><a href="#Ilist.swapindex">Ilist.swapindex</a></code></li>
</ul>

<p><em>exports methods</em></p>

<ul>
<li><code><a href="#Ilist.json">Ilist.json</a></code></li>
<li><code><a href="#Ilist.to_csv">Ilist.to_csv</a></code></li>
<li><code><a href="#Ilist.to_numpy">Ilist.to_numpy</a></code></li>
<li><code><a href="#Ilist.to_xarray">Ilist.to_xarray</a></code></li>
<li><code><a href="#Ilist.vlist">Ilist.vlist</a></code></li>
</ul>
</div>


                            <div id="Ilist.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">Ilist</span><span class="signature">(
    extval=[],
    setidx=[],
    iidx=[],
    valname=&#39;value&#39;,
    idxname=[],
    defaultidx=True
)</span>
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extval</span><span class="o">=</span><span class="p">[],</span> <span class="n">setidx</span><span class="o">=</span><span class="p">[],</span> <span class="n">iidx</span><span class="o">=</span><span class="p">[],</span> <span class="n">valname</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">idxname</span><span class="o">=</span><span class="p">[],</span> <span class="n">defaultidx</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Ilist constructor.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extval** : list (default []) - indexed list (see data model)</span>
<span class="sd">        - **setidx** :  list (default []) - external different values of index (see data model)</span>
<span class="sd">        - **iidx** :  list (default [])  - integer value of index (see data model)</span>
<span class="sd">        - **valname** : string (default &#39;value&#39;) - name of indexed list (see data model)</span>
<span class="sd">        - **idxname** : list of string (default []) - name of index list (see data model)</span>
<span class="sd">        - **defaultidx** : boolean (default True) - If True, a generic index</span>
<span class="sd">        is generated if no index is defined</span>

<span class="sd">        *Returns* : None&#39;&#39;&#39;</span>
        <span class="k">if</span>   <span class="nb">type</span><span class="p">(</span><span class="n">extval</span><span class="p">)</span>  <span class="o">!=</span> <span class="nb">list</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">iidx</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="p">:</span> <span class="k">return</span>
        <span class="k">if</span>   <span class="n">defaultidx</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">iidx</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="ow">or</span> <span class="n">iidx</span> <span class="o">==</span> <span class="p">[])</span> <span class="p">:</span>
            <span class="n">iindex</span> <span class="o">=</span> <span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">extval</span><span class="p">)))]</span>
            <span class="k">if</span> <span class="n">idxname</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span>                      <span class="n">idxname</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;default index&#39;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">iidx</span> <span class="o">!=</span> <span class="p">[]</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">iidx</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">!=</span> <span class="nb">list</span> <span class="p">:</span> <span class="n">iindex</span> <span class="o">=</span> <span class="p">[</span><span class="n">iidx</span><span class="p">]</span>
        <span class="k">else</span> <span class="p">:</span>                                      <span class="n">iindex</span> <span class="o">=</span> <span class="n">iidx</span>
        <span class="k">if</span>   <span class="nb">type</span><span class="p">(</span><span class="n">setidx</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="ow">or</span> <span class="n">setidx</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span> <span class="n">setindex</span> <span class="o">=</span> <span class="p">[</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_toset</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">iindex</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">setidx</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">!=</span> <span class="nb">list</span> <span class="p">:</span>              <span class="n">setindex</span> <span class="o">=</span> <span class="p">[</span><span class="n">setidx</span><span class="p">]</span>
        <span class="k">else</span> <span class="p">:</span>                                      <span class="n">setindex</span> <span class="o">=</span>  <span class="n">setidx</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">extval</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span>                   <span class="p">:</span> <span class="n">extvalue</span> <span class="o">=</span> <span class="p">[</span><span class="n">extval</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">extval</span> <span class="o">==</span> <span class="p">[]</span> <span class="ow">and</span> <span class="n">iindex</span> <span class="o">==</span> <span class="p">[]</span>        <span class="p">:</span> <span class="n">extvalue</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">elif</span> <span class="n">extval</span> <span class="o">==</span> <span class="p">[]</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">iindex</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="nb">list</span><span class="p">:</span>
                                                    <span class="n">extvalue</span> <span class="o">=</span> <span class="p">[</span><span class="kc">True</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">iindex</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
                                                    <span class="n">valname</span> <span class="o">=</span> <span class="s1">&#39;default value&#39;</span>
        <span class="k">else</span> <span class="p">:</span>                                      <span class="n">extvalue</span> <span class="o">=</span> <span class="n">extval</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extval</span>  <span class="o">=</span> <span class="n">extvalue</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span>    <span class="o">=</span> <span class="n">iindex</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span>  <span class="o">=</span> <span class="n">setindex</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">valname</span> <span class="o">=</span> <span class="n">valname</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;idx&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">iindex</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">setindex</span><span class="p">)))]</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">idxname</span><span class="p">)</span> <span class="o">==</span> <span class="nb">list</span> <span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">idxname</span><span class="p">))</span> <span class="p">:</span>
                <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">==</span> <span class="nb">str</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</pre></div>

        </details>

            <div class="docstring"><p>Ilist constructor.</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>extval</strong> : list (default []) - indexed list (see data model)</li>
<li><strong>setidx</strong> :  list (default []) - external different values of index (see data model)</li>
<li><strong>iidx</strong> :  list (default [])  - integer value of index (see data model)</li>
<li><strong>valname</strong> : string (default 'value') - name of indexed list (see data model)</li>
<li><strong>idxname</strong> : list of string (default []) - name of index list (see data model)</li>
<li><strong>defaultidx</strong> : boolean (default True) - If True, a generic index
is generated if no index is defined</li>
</ul>

<p><em>Returns</em> : None</p>
</div>


                            </div>
                            <div id="Ilist.Idict" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.Idict">#&nbsp;&nbsp</a>

                <div class="decorator">@classmethod</div>

            <span class="def">def</span>
            <span class="name">Idict</span><span class="signature">(cls, dictvaliidx, dictsetidx, order=[], idxref=[], defaultidx=True)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="nd">@classmethod</span>     <span class="c1"># !!! class methods</span>
    <span class="k">def</span> <span class="nf">Idict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">dictvaliidx</span><span class="p">,</span> <span class="n">dictsetidx</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">[],</span> <span class="n">idxref</span><span class="o">=</span><span class="p">[],</span> <span class="n">defaultidx</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Ilist constructor (dictionnary data).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **dictvaliidx** :  {valname : valiidx} with val=list(list(val, indexval))</span>
<span class="sd">        - **dictsetidx** :  {idxname0 : setidx0, ... , idxnamen : setidxn}</span>
<span class="sd">        - **order** : list (default []) of axes used if there is no indexval in valiidx</span>
<span class="sd">        - **idxref** : list (default []) of reference axes used if there is no indexval</span>
<span class="sd">        in valiidx</span>
<span class="sd">        - **defaultidx** : boolean (default True). If True, a generic index is generated</span>
<span class="sd">        if no index is defined</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **Ilist**  &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="o">*</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_initdict</span><span class="p">(</span><span class="n">dictvaliidx</span><span class="p">,</span> <span class="n">dictsetidx</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">idxref</span><span class="p">),</span> <span class="n">defaultidx</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Ilist constructor (dictionnary data).</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>dictvaliidx</strong> :  {valname : valiidx} with val=list(list(val, indexval))</li>
<li><strong>dictsetidx</strong> :  {idxname0 : setidx0, ... , idxnamen : setidxn}</li>
<li><strong>order</strong> : list (default []) of axes used if there is no indexval in valiidx</li>
<li><strong>idxref</strong> : list (default []) of reference axes used if there is no indexval
in valiidx</li>
<li><strong>defaultidx</strong> : boolean (default True). If True, a generic index is generated
if no index is defined</li>
</ul>

<p><em>Returns</em></p>

<ul>
<li><strong>Ilist</strong></li>
</ul>
</div>


                            </div>
                            <div id="Ilist.Iset" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.Iset">#&nbsp;&nbsp</a>

                <div class="decorator">@classmethod</div>

            <span class="def">def</span>
            <span class="name">Iset</span><span class="signature">(
    cls,
    valiidx,
    setidx,
    order=[],
    idxref=[],
    valname=&#39;value&#39;,
    idxname=[],
    defaultidx=True
)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">Iset</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">valiidx</span><span class="p">,</span> <span class="n">setidx</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">[],</span> <span class="n">idxref</span><span class="o">=</span><span class="p">[],</span> <span class="n">valname</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span>
             <span class="n">idxname</span><span class="o">=</span><span class="p">[],</span> <span class="n">defaultidx</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Ilist constructor (list data with indexed values ).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **valiidx** :  coupled val / index list : list(list(val, indexval))</span>
<span class="sd">        - **setidx** :  external different values of index (see data model)</span>
<span class="sd">        - **order** : list (default []) of axes used if there is no indexval in valiidx</span>
<span class="sd">        - **idxref** : list (default []) of reference axes used if there is no indexval in valiidx</span>
<span class="sd">        - **valname** : string (default &#39;value&#39;) name of indexed list (see data model)</span>
<span class="sd">        - **idxname** : list of string (default []) name of index list (see data model)</span>
<span class="sd">        - **defaultidx** : boolean (default True). If True, a generic index is generated</span>
<span class="sd">        if no index is defined</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **Ilist**  &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">valiidx</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="p">:</span> <span class="n">validx</span> <span class="o">=</span> <span class="p">[</span><span class="n">valiidx</span><span class="p">]</span>
        <span class="k">else</span> <span class="p">:</span> <span class="n">validx</span> <span class="o">=</span> <span class="n">valiidx</span>
        <span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">iidx</span><span class="p">)</span> <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_initset</span><span class="p">(</span><span class="n">validx</span><span class="p">,</span> <span class="n">setidx</span><span class="p">,</span> <span class="n">idxref</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">setidx</span><span class="p">,</span> <span class="n">iidx</span><span class="p">,</span> <span class="n">valname</span><span class="p">,</span> <span class="n">idxname</span><span class="p">,</span> <span class="n">defaultidx</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Ilist constructor (list data with indexed values ).</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>valiidx</strong> :  coupled val / index list : list(list(val, indexval))</li>
<li><strong>setidx</strong> :  external different values of index (see data model)</li>
<li><strong>order</strong> : list (default []) of axes used if there is no indexval in valiidx</li>
<li><strong>idxref</strong> : list (default []) of reference axes used if there is no indexval in valiidx</li>
<li><strong>valname</strong> : string (default 'value') name of indexed list (see data model)</li>
<li><strong>idxname</strong> : list of string (default []) name of index list (see data model)</li>
<li><strong>defaultidx</strong> : boolean (default True). If True, a generic index is generated
if no index is defined</li>
</ul>

<p><em>Returns</em></p>

<ul>
<li><strong>Ilist</strong></li>
</ul>
</div>


                            </div>
                            <div id="Ilist.Iidx" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.Iidx">#&nbsp;&nbsp</a>

                <div class="decorator">@classmethod</div>

            <span class="def">def</span>
            <span class="name">Iidx</span><span class="signature">(
    cls,
    extval,
    idxlen,
    idxref=[],
    order=[],
    valname=&#39;value&#39;,
    idxname=[],
    defaultidx=True
)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">Iidx</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">extval</span><span class="p">,</span> <span class="n">idxlen</span><span class="p">,</span> <span class="n">idxref</span><span class="o">=</span><span class="p">[],</span> <span class="n">order</span><span class="o">=</span><span class="p">[],</span> <span class="n">valname</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">idxname</span><span class="o">=</span><span class="p">[],</span>
             <span class="n">defaultidx</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Ilist constructor (automatic index).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extval** : indexed list (see data model)</span>
<span class="sd">        - **idxlen** : integer - number of index</span>
<span class="sd">        - **idxref** : list (default []) of reference axes used</span>
<span class="sd">        - **order** : list (default []) of axes used to order the index</span>
<span class="sd">        - **valname** : string (default &#39;value&#39;) name of indexed list (see data model)</span>
<span class="sd">        - **idxname** : list of string (default []) name of index list (see data model)</span>
<span class="sd">        - **defaultidx** : boolean (default True). If True, a generic index</span>
<span class="sd">        is generated if no index is defined</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **Ilist**  &#39;&#39;&#39;</span>
        <span class="n">iidx</span> <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_initiidx</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">extval</span><span class="p">),</span> <span class="n">idxlen</span><span class="p">,</span> <span class="n">idxref</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">defaultidx</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">extval</span><span class="p">,</span> <span class="p">[],</span> <span class="n">iidx</span><span class="p">,</span> <span class="n">valname</span><span class="p">,</span> <span class="n">idxname</span><span class="p">,</span> <span class="n">defaultidx</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Ilist constructor (automatic index).</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>extval</strong> : indexed list (see data model)</li>
<li><strong>idxlen</strong> : integer - number of index</li>
<li><strong>idxref</strong> : list (default []) of reference axes used</li>
<li><strong>order</strong> : list (default []) of axes used to order the index</li>
<li><strong>valname</strong> : string (default 'value') name of indexed list (see data model)</li>
<li><strong>idxname</strong> : list of string (default []) name of index list (see data model)</li>
<li><strong>defaultidx</strong> : boolean (default True). If True, a generic index
is generated if no index is defined</li>
</ul>

<p><em>Returns</em></p>

<ul>
<li><strong>Ilist</strong></li>
</ul>
</div>


                            </div>
                            <div id="Ilist.Iext" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.Iext">#&nbsp;&nbsp</a>

                <div class="decorator">@classmethod</div>

            <span class="def">def</span>
            <span class="name">Iext</span><span class="signature">(
    cls,
    extval=[],
    extidx=[],
    valname=&#39;value&#39;,
    idxname=[],
    defaultidx=True
)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">Iext</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">extval</span><span class="o">=</span><span class="p">[],</span> <span class="n">extidx</span><span class="o">=</span><span class="p">[],</span> <span class="n">valname</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">idxname</span><span class="o">=</span><span class="p">[],</span> <span class="n">defaultidx</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Ilist constructor (external index).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extval** : indexed list (see data model)</span>
<span class="sd">        - **extidx** : index list (see data model)</span>
<span class="sd">        - **valname** : string (default &#39;value&#39;) name of indexed list (see data model)</span>
<span class="sd">        - **idxname** : list of string (default []) name of index list (see data model)</span>
<span class="sd">        - **defaultidx** : boolean (default True). If True, a generic index</span>
<span class="sd">        is generated if no index is defined</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **Ilist**  &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">extval</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">extidx</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">defaultidx</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">extidx</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="ow">or</span> <span class="n">extidx</span> <span class="o">==</span> <span class="p">[])</span> <span class="p">:</span>
            <span class="n">ext</span> <span class="o">=</span> <span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">extval</span><span class="p">)))]</span>
            <span class="n">idxname</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;default index&#39;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">extidx</span> <span class="o">!=</span> <span class="p">[]</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">extidx</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">!=</span> <span class="nb">list</span> <span class="p">:</span> <span class="n">ext</span> <span class="o">=</span> <span class="p">[</span><span class="n">extidx</span><span class="p">]</span>
        <span class="k">else</span> <span class="p">:</span>                                          <span class="n">ext</span> <span class="o">=</span> <span class="n">extidx</span>
        <span class="n">setidx</span> <span class="o">=</span> <span class="p">[</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_toset</span><span class="p">(</span><span class="n">ind</span><span class="p">)</span> <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">ext</span><span class="p">]</span>
        <span class="n">iidx</span>   <span class="o">=</span> <span class="p">[</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_toint</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">setind</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">setind</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">ext</span><span class="p">,</span> <span class="n">setidx</span><span class="p">)]</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">extval</span><span class="p">,</span> <span class="n">setidx</span><span class="p">,</span> <span class="n">iidx</span><span class="p">,</span> <span class="n">valname</span><span class="p">,</span> <span class="n">idxname</span><span class="p">,</span> <span class="n">defaultidx</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Ilist constructor (external index).</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>extval</strong> : indexed list (see data model)</li>
<li><strong>extidx</strong> : index list (see data model)</li>
<li><strong>valname</strong> : string (default 'value') name of indexed list (see data model)</li>
<li><strong>idxname</strong> : list of string (default []) name of index list (see data model)</li>
<li><strong>defaultidx</strong> : boolean (default True). If True, a generic index
is generated if no index is defined</li>
</ul>

<p><em>Returns</em></p>

<ul>
<li><strong>Ilist</strong></li>
</ul>
</div>


                            </div>
                            <div id="Ilist.Izip" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.Izip">#&nbsp;&nbsp</a>

                <div class="decorator">@classmethod</div>

            <span class="def">def</span>
            <span class="name">Izip</span><span class="signature">(cls, *args)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">Izip</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Ilist constructor (external index only).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **args** : index list extidx=list(args) (see data model)</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **Ilist**  &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">Iext</span><span class="p">(</span><span class="n">extval</span><span class="o">=</span><span class="p">[],</span> <span class="n">extidx</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="n">valname</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">idxname</span><span class="o">=</span><span class="p">[],</span> <span class="n">defaultidx</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Ilist constructor (external index only).</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>args</strong> : index list extidx=list(args) (see data model)</li>
</ul>

<p><em>Returns</em></p>

<ul>
<li><strong>Ilist</strong></li>
</ul>
</div>


                            </div>
                            <div id="Ilist.Icsv" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.Icsv">#&nbsp;&nbsp</a>

                <div class="decorator">@classmethod</div>

            <span class="def">def</span>
            <span class="name">Icsv</span><span class="signature">(cls, filename=&#39;ilist.csv&#39;, valfirst=False, header=True, **kwargs)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">Icsv</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;ilist.csv&#39;</span><span class="p">,</span> <span class="n">valfirst</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Ilist constructor (from a csv file). Each column represents extidx or extval values.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **filename** : string (default &#39;ilist.csv&#39;), name of the file to read</span>
<span class="sd">        - **valfirst** : boolean (default False). If False extval is the last columns</span>
<span class="sd">        else it&#39;s the first</span>
<span class="sd">        - **header** : boolean (default True). If True, the first raw is dedicated to names</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **Ilist**  &#39;&#39;&#39;</span>
        <span class="n">extval</span><span class="o">=</span><span class="p">[]</span>
        <span class="n">extidx</span><span class="o">=</span><span class="p">[]</span>
        <span class="n">valname</span><span class="o">=</span><span class="s1">&#39;value&#39;</span>
        <span class="n">idxname</span><span class="o">=</span><span class="p">[]</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="n">first</span><span class="o">=</span><span class="kc">True</span>
            <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">first</span> <span class="p">:</span>
                    <span class="k">for</span> <span class="n">vrow</span> <span class="ow">in</span> <span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="p">:</span> <span class="n">extidx</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
                <span class="k">if</span> <span class="n">first</span> <span class="ow">and</span> <span class="n">header</span> <span class="p">:</span>
                    <span class="k">if</span> <span class="n">valfirst</span>      <span class="p">:</span>
                        <span class="n">valname</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                        <span class="k">for</span> <span class="n">vrow</span> <span class="ow">in</span> <span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="p">:</span> <span class="n">idxname</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vrow</span><span class="p">)</span>
                    <span class="k">else</span> <span class="p">:</span>
                        <span class="n">valname</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="k">for</span> <span class="n">vrow</span> <span class="ow">in</span> <span class="n">row</span><span class="p">[:</span><span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">idxname</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vrow</span><span class="p">)</span>
                <span class="k">else</span> <span class="p">:</span>
                    <span class="k">if</span> <span class="n">valfirst</span>      <span class="p">:</span>
                        <span class="n">extval</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">:</span> <span class="n">extidx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
                    <span class="k">else</span> <span class="p">:</span>
                        <span class="n">extval</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">:</span> <span class="n">extidx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="n">first</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">Iext</span><span class="p">(</span><span class="n">extval</span><span class="p">,</span> <span class="n">extidx</span><span class="p">,</span> <span class="n">valname</span><span class="p">,</span> <span class="n">idxname</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Ilist constructor (from a csv file). Each column represents extidx or extval values.</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>filename</strong> : string (default 'ilist.csv'), name of the file to read</li>
<li><strong>valfirst</strong> : boolean (default False). If False extval is the last columns
else it's the first</li>
<li><strong>header</strong> : boolean (default True). If True, the first raw is dedicated to names</li>
</ul>

<p><em>Returns</em></p>

<ul>
<li><strong>Ilist</strong></li>
</ul>
</div>


                            </div>
                            <div id="Ilist.extval" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.extval">#&nbsp;&nbsp</a>

        <span class="name">extval</span>
    </div>

    

                            </div>
                            <div id="Ilist.iidx" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.iidx">#&nbsp;&nbsp</a>

        <span class="name">iidx</span>
    </div>

    

                            </div>
                            <div id="Ilist.setidx" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.setidx">#&nbsp;&nbsp</a>

        <span class="name">setidx</span>
    </div>

    

                            </div>
                            <div id="Ilist.valname" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.valname">#&nbsp;&nbsp</a>

        <span class="name">valname</span>
    </div>

    

                            </div>
                            <div id="Ilist.idxname" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.idxname">#&nbsp;&nbsp</a>

        <span class="name">idxname</span>
    </div>

    

                            </div>
                            <div id="Ilist.axes" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.axes">#&nbsp;&nbsp</a>

        <span class="name">axes</span>
    </div>

            <div class="docstring"><p>return the list of independant axes (not coupled and not unique)</p>
</div>


                            </div>
                            <div id="Ilist.axesall" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.axesall">#&nbsp;&nbsp</a>

        <span class="name">axesall</span>
    </div>

            <div class="docstring"><p>return the list of all axes</p>
</div>


                            </div>
                            <div id="Ilist.axesmin" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.axesmin">#&nbsp;&nbsp</a>

        <span class="name">axesmin</span>
    </div>

            <div class="docstring"><p>return the list of independant axes (not coupled, not derived and not unique)</p>
</div>


                            </div>
                            <div id="Ilist.axeslen" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.axeslen">#&nbsp;&nbsp</a>

        <span class="name">axeslen</span>
    </div>

            <div class="docstring"><p>return the list of axes lenght</p>
</div>


                            </div>
                            <div id="Ilist.complete" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.complete">#&nbsp;&nbsp</a>

        <span class="name">complete</span>
    </div>

            <div class="docstring"><p>return a boolean (True if Ilist is complete and consistent)</p>
</div>


                            </div>
                            <div id="Ilist.consistent" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.consistent">#&nbsp;&nbsp</a>

        <span class="name">consistent</span>
    </div>

            <div class="docstring"><p>return a boolean (True if Ilist is consistent : only one extval
for one list of index values</p>
</div>


                            </div>
                            <div id="Ilist.dimension" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.dimension">#&nbsp;&nbsp</a>

        <span class="name">dimension</span>
    </div>

            <div class="docstring"><p>return an integer : the number of index non coupled and non unique</p>
</div>


                            </div>
                            <div id="Ilist.extidx" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.extidx">#&nbsp;&nbsp</a>

        <span class="name">extidx</span>
    </div>

            <div class="docstring"><p>return extidx (see data model)</p>
</div>


                            </div>
                            <div id="Ilist.idxcoupled" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.idxcoupled">#&nbsp;&nbsp</a>

        <span class="name">idxcoupled</span>
    </div>

            <div class="docstring"><p>return a list of boolean for each index (True if coupled)</p>
</div>


                            </div>
                            <div id="Ilist.idxder" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.idxder">#&nbsp;&nbsp</a>

        <span class="name">idxder</span>
    </div>

            <div class="docstring"><p>return the list of derived index</p>
</div>


                            </div>
                            <div id="Ilist.idxderived" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.idxderived">#&nbsp;&nbsp</a>

        <span class="name">idxderived</span>
    </div>

            <div class="docstring"><p>return a list of boolean for each index (True if derived)</p>
</div>


                            </div>
                            <div id="Ilist.idxlen" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.idxlen">#&nbsp;&nbsp</a>

        <span class="name">idxlen</span>
    </div>

            <div class="docstring"><p>return the list of setidx lenght</p>
</div>


                            </div>
                            <div id="Ilist.idxref" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.idxref">#&nbsp;&nbsp</a>

        <span class="name">idxref</span>
    </div>

            <div class="docstring"><p>return the list of reference index</p>
</div>


                            </div>
                            <div id="Ilist.idxunique" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.idxunique">#&nbsp;&nbsp</a>

        <span class="name">idxunique</span>
    </div>

            <div class="docstring"><p>return a list of boolean for each index (True if unique)</p>
</div>


                            </div>
                            <div id="Ilist.ind" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.ind">#&nbsp;&nbsp</a>

        <span class="name">ind</span>
    </div>

            <div class="docstring"><p>return the textidx (see data model)</p>
</div>


                            </div>
                            <div id="Ilist.ival" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.ival">#&nbsp;&nbsp</a>

        <span class="name">ival</span>
    </div>

            <div class="docstring"><p>return the ival (see data model)</p>
</div>


                            </div>
                            <div id="Ilist.lencomplete" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.lencomplete">#&nbsp;&nbsp</a>

        <span class="name">lencomplete</span>
    </div>

            <div class="docstring"><p>return an integer : number of values if complete (prod(idxlen,not coupled))</p>
</div>


                            </div>
                            <div id="Ilist.lenidx" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.lenidx">#&nbsp;&nbsp</a>

        <span class="name">lenidx</span>
    </div>

            <div class="docstring"><p>return an integer : number of index</p>
</div>


                            </div>
                            <div id="Ilist.minMaxIndex" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.minMaxIndex">#&nbsp;&nbsp</a>

        <span class="name">minMaxIndex</span>
    </div>

            <div class="docstring"><p>return a list : [ minimal value of index, maximal value of index]</p>
</div>


                            </div>
                            <div id="Ilist.rate" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.rate">#&nbsp;&nbsp</a>

        <span class="name">rate</span>
    </div>

            <div class="docstring"><p>return the float ratio : len / lencomplete</p>
</div>


                            </div>
                            <div id="Ilist.setval" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.setval">#&nbsp;&nbsp</a>

        <span class="name">setval</span>
    </div>

            <div class="docstring"><p>return the setval (see data model)</p>
</div>


                            </div>
                            <div id="Ilist.setvallen" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.setvallen">#&nbsp;&nbsp</a>

        <span class="name">setvallen</span>
    </div>

            <div class="docstring"><p>return the integer lenght of setval (see data model)</p>
</div>


                            </div>
                            <div id="Ilist.tiidx" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.tiidx">#&nbsp;&nbsp</a>

        <span class="name">tiidx</span>
    </div>

            <div class="docstring"><p>return the tiidx (see data model)</p>
</div>


                            </div>
                            <div id="Ilist.textidx" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.textidx">#&nbsp;&nbsp</a>

        <span class="name">textidx</span>
    </div>

            <div class="docstring"><p>return the textidx (see data model)</p>
</div>


                            </div>
                            <div id="Ilist.zip" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Ilist.zip">#&nbsp;&nbsp</a>

        <span class="name">zip</span>
    </div>

            <div class="docstring"><p>return a zip format for textidx : tuple(tuple(idx)</p>
</div>


                            </div>
                            <div id="Ilist.addextidx" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.addextidx">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">addextidx</span><span class="signature">(self, idxname, extidx)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">addextidx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idxname</span><span class="p">,</span> <span class="n">extidx</span><span class="p">):</span>             <span class="c1"># !!! methods</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        add a new index with name = idxname and extidx.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **idxname** : string - name of index list (see data model)</span>
<span class="sd">        - **extidx** : list - new index list (see data model)</span>

<span class="sd">        *Returns* : none &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addlistidx</span><span class="p">(</span><span class="n">idxname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_toset</span><span class="p">(</span><span class="n">extidx</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_toint</span><span class="p">(</span><span class="n">extidx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_toset</span><span class="p">(</span><span class="n">extidx</span><span class="p">)))</span>
</pre></div>

        </details>

            <div class="docstring"><p>add a new index with name = idxname and extidx.</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>idxname</strong> : string - name of index list (see data model)</li>
<li><strong>extidx</strong> : list - new index list (see data model)</li>
</ul>

<p><em>Returns</em> : none</p>
</div>


                            </div>
                            <div id="Ilist.addlistidx" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.addlistidx">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">addlistidx</span><span class="signature">(self, idxname, setidx, iidx)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">addlistidx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idxname</span><span class="p">,</span> <span class="n">setidx</span><span class="p">,</span> <span class="n">iidx</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        add a new index with name = idxname and setidx / iidx.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **idxname** : string - name of index list (see data model)</span>
<span class="sd">        - **setidx** :  list - external different values of index (see data model)</span>
<span class="sd">        - **iidx** :  list - integer value of index (see data model)</span>

<span class="sd">        *Returns* : none &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">iidx</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">iidx</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;listindex out of bounds&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)))</span> <span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="o">=</span> <span class="n">setidx</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>    <span class="o">=</span> <span class="n">iidx</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">idxname</span>
        <span class="k">else</span> <span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span> <span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">setidx</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span>   <span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iidx</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">idxname</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>add a new index with name = idxname and setidx / iidx.</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>idxname</strong> : string - name of index list (see data model)</li>
<li><strong>setidx</strong> :  list - external different values of index (see data model)</li>
<li><strong>iidx</strong> :  list - integer value of index (see data model)</li>
</ul>

<p><em>Returns</em> : none</p>
</div>


                            </div>
                            <div id="Ilist.append" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.append">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">append</span><span class="signature">(self, extval, extind, unique=False)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extval</span><span class="p">,</span> <span class="n">extind</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        add a new value extval with index extind.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extval** : new object value</span>
<span class="sd">        - **extind** :  list - new index values to add to extidx</span>
<span class="sd">        - **unique** :  boolean (default False) - If True and extidx present</span>
<span class="sd">        in textidx append is refuse.</span>

<span class="sd">        *Returns* : none &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">isextIndex</span><span class="p">(</span><span class="n">extind</span><span class="p">)</span> <span class="ow">and</span> <span class="n">unique</span><span class="p">)</span> <span class="ow">or</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">isValue</span><span class="p">(</span><span class="n">extval</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">isextIndex</span><span class="p">(</span><span class="n">extind</span><span class="p">))):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">extval</span><span class="p">)</span>
            <span class="n">tiidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span>
            <span class="n">tiidx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_updateset</span><span class="p">(</span><span class="n">extind</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="n">tiidx</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>add a new value extval with index extind.</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>extval</strong> : new object value</li>
<li><strong>extind</strong> :  list - new index values to add to extidx</li>
<li><strong>unique</strong> :  boolean (default False) - If True and extidx present
in textidx append is refuse.</li>
</ul>

<p><em>Returns</em> : none</p>
</div>


                            </div>
                            <div id="Ilist.appendi" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.appendi">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">appendi</span><span class="signature">(self, extval, intind, unique=False)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">appendi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extval</span><span class="p">,</span> <span class="n">intind</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        add a new value extval with index intind.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extval** : new object value</span>
<span class="sd">        - **intind** :  list - new index values to add to iidx</span>
<span class="sd">        - **unique** :  boolean (default False) - If True and intind present</span>
<span class="sd">        in tiidx append is refuse.</span>

<span class="sd">        *Returns* : none &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">isiIndex</span><span class="p">(</span><span class="n">intind</span><span class="p">)</span> <span class="ow">and</span> <span class="n">unique</span><span class="p">)</span> <span class="ow">or</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">isValue</span><span class="p">(</span><span class="n">extval</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">isiIndex</span><span class="p">(</span><span class="n">intind</span><span class="p">))):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">extval</span><span class="p">)</span>
            <span class="n">tiidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span>
            <span class="n">tiidx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">intind</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="n">tiidx</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>add a new value extval with index intind.</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>extval</strong> : new object value</li>
<li><strong>intind</strong> :  list - new index values to add to iidx</li>
<li><strong>unique</strong> :  boolean (default False) - If True and intind present
in tiidx append is refuse.</li>
</ul>

<p><em>Returns</em> : none</p>
</div>


                            </div>
                            <div id="Ilist.extidxtoi" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.extidxtoi">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">extidxtoi</span><span class="signature">(self, extind)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">extidxtoi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extind</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        convert an extind (value for each extidx) to an intind (value for each iidx).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extind** : value for each extidx</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **list** : intind, value for each iidx&#39;&#39;&#39;</span>
        <span class="k">try</span> <span class="p">:</span>  <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">extind</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">extind</span><span class="p">))]</span>
        <span class="k">except</span> <span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>
</pre></div>

        </details>

            <div class="docstring"><p>convert an extind (value for each extidx) to an intind (value for each iidx).</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>extind</strong> : value for each extidx</li>
</ul>

<p><em>Returns</em></p>

<ul>
<li><strong>list</strong> : intind, value for each iidx</li>
</ul>
</div>


                            </div>
                            <div id="Ilist.full" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.full">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">full</span><span class="signature">(self, axes=[], fillvalue=None, inplace=False)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">full</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="p">[],</span> <span class="n">fillvalue</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        add new extval with new extidx to have a complet Ilist</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **axes** : list (default []) - list of index to be completed. If [], self.axes is used.</span>
<span class="sd">        - **fillvalue** : object value used for the new extval</span>
<span class="sd">        - **inplace** : boolean (default True) - if True, new values are added,</span>
<span class="sd">        if False a new Ilist is created.</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **None, if inplace. Ilist if not inplace**&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">consistent</span> <span class="p">:</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;unable to generate full Ilist with inconsistent Ilist&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">axes</span><span class="o">==</span><span class="p">[]</span> <span class="p">:</span> <span class="n">axe</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span>
        <span class="k">else</span><span class="p">:</span> <span class="n">axe</span> <span class="o">=</span> <span class="n">axes</span>
        <span class="n">tiidxfull</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span>
        <span class="n">extvalfull</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_idxfull</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="n">axe</span><span class="p">))</span> <span class="p">:</span>
            <span class="k">if</span> <span class="n">ind</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">tiidxfull</span> <span class="p">:</span>
                <span class="n">tiidxfull</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ind</span><span class="p">)</span>
                <span class="n">extvalfull</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_nullValue</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">extvalfull</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">fillvalue</span><span class="p">))</span>
        <span class="n">iidxfull</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="n">tiidxfull</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">inplace</span> <span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">extval</span> <span class="o">=</span> <span class="n">extvalfull</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span>   <span class="o">=</span> <span class="n">iidxfull</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">Ilist</span><span class="p">(</span><span class="n">extvalfull</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">,</span> <span class="n">iidxfull</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>add new extval with new extidx to have a complet Ilist</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>axes</strong> : list (default []) - list of index to be completed. If [], self.axes is used.</li>
<li><strong>fillvalue</strong> : object value used for the new extval</li>
<li><strong>inplace</strong> : boolean (default True) - if True, new values are added,
if False a new Ilist is created.</li>
</ul>

<p><em>Returns</em></p>

<ul>
<li><strong>None, if inplace. Ilist if not inplace</strong></li>
</ul>
</div>


                            </div>
                            <div id="Ilist.iadd" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.iadd">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">iadd</span><span class="signature">(self, other, unique=False)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">iadd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Add other&#39;s values to self&#39;s values</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **other** : Ilist to be copied</span>
<span class="sd">        - **unique** :  boolean (default False) - If True and iidx present in tiidx,</span>
<span class="sd">        append is refuse.</span>

<span class="sd">        *Returns* : None&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">lenidx</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;the index lenght have to be equal&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">val</span><span class="p">,</span><span class="n">extidx</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">extval</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">textidx</span><span class="p">)</span> <span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">extidx</span><span class="p">,</span> <span class="n">unique</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">)</span> <span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;idx&#39;</span> <span class="ow">and</span> <span class="n">other</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;idx&#39;</span> <span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;value&#39;</span> <span class="ow">and</span> <span class="n">other</span><span class="o">.</span><span class="n">valname</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;value&#39;</span> <span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">valname</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">valname</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add other's values to self's values</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>other</strong> : Ilist to be copied</li>
<li><strong>unique</strong> :  boolean (default False) - If True and iidx present in tiidx,
append is refuse.</li>
</ul>

<p><em>Returns</em> : None</p>
</div>


                            </div>
                            <div id="Ilist.iidxtoext" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.iidxtoext">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">iidxtoext</span><span class="signature">(self, intind)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">iidxtoext</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">intind</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        convert an intind (value for each iidx) to an extind (value for each extidx).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **intind** : value for each iidx</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **list** : extind, value for each extidx&#39;&#39;&#39;</span>
        <span class="k">try</span> <span class="p">:</span>  <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">intind</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">intind</span><span class="p">))]</span>
        <span class="k">except</span> <span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>
</pre></div>

        </details>

            <div class="docstring"><p>convert an intind (value for each iidx) to an extind (value for each extidx).</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>intind</strong> : value for each iidx</li>
</ul>

<p><em>Returns</em></p>

<ul>
<li><strong>list</strong> : extind, value for each extidx</li>
</ul>
</div>


                            </div>
                            <div id="Ilist.iloc" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.iloc">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">iloc</span><span class="signature">(self, intind)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">iloc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">intind</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Return extval corresponding to intind.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **intind** : list - value for each iidx</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **object** : extval value &#39;&#39;&#39;</span>
        <span class="k">try</span> <span class="p">:</span>
            <span class="n">ival</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">intind</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">:</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s1">&#39;index not found&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">[</span><span class="n">ival</span><span class="p">]</span>
</pre></div>

        </details>

            <div class="docstring"><p>Return extval corresponding to intind.</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>intind</strong> : list - value for each iidx</li>
</ul>

<p><em>Returns</em></p>

<ul>
<li><strong>object</strong> : extval value</li>
</ul>
</div>


                            </div>
                            <div id="Ilist.isextIndex" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.isextIndex">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">isextIndex</span><span class="signature">(self, extind)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">isextIndex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extind</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Return True if extind is present in extidx.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extind** : list - value for each extidx</span>

<span class="sd">        *Returns* : boolean - True if found&#39;&#39;&#39;</span>
        <span class="n">intind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extidxtoi</span><span class="p">(</span><span class="n">extind</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">intind</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">intind</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span> <span class="p">:</span> <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>
</pre></div>

        </details>

            <div class="docstring"><p>Return True if extind is present in extidx.</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>extind</strong> : list - value for each extidx</li>
</ul>

<p><em>Returns</em> : boolean - True if found</p>
</div>


                            </div>
                            <div id="Ilist.isiIndex" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.isiIndex">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">isiIndex</span><span class="signature">(self, intind)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">isiIndex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">intind</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Return True if intind is present in iidx.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **intind** : list - value for each iidx</span>

<span class="sd">        *Returns* : boolean - True if found&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">intind</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">intind</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span> <span class="p">:</span> <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>
</pre></div>

        </details>

            <div class="docstring"><p>Return True if intind is present in iidx.</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>intind</strong> : list - value for each iidx</li>
</ul>

<p><em>Returns</em> : boolean - True if found</p>
</div>


                            </div>
                            <div id="Ilist.isValue" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.isValue">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">isValue</span><span class="signature">(self, extval)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">isValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extval</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Return True if present in extval.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extval** : value to test</span>

<span class="sd">        *Returns* : boolean - True if found&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">extval</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extval</span> <span class="p">:</span> <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>
</pre></div>

        </details>

            <div class="docstring"><p>Return True if present in extval.</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>extval</strong> : value to test</li>
</ul>

<p><em>Returns</em> : boolean - True if found</p>
</div>


                            </div>
                            <div id="Ilist.json" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.json">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">json</span><span class="signature">(self, **option)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">option</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Return json string with val (extval or ival) and idx (extidx or iidx or none).</span>

<span class="sd">        *Parameters (option)*</span>

<span class="sd">        - **json_string** : defaut False - if True return string, else return dict</span>
<span class="sd">        - **json_res_index** : default True - if True add the index to the value</span>
<span class="sd">        - **json_mode** : string (default &#39;vv&#39;)</span>
<span class="sd">        - **json_mode[0]** : char - if &#39;v&#39;, value is extval else ival</span>
<span class="sd">        - **json_mode[1]** : char - if &#39;v&#39;, index is extidx else iidx</span>

<span class="sd">        *Returns* : string or dict&#39;&#39;&#39;</span>
        <span class="n">option2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;json_string&#39;</span> <span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;json_res_index&#39;</span> <span class="p">:</span><span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;json_mode&#39;</span> <span class="p">:</span><span class="s1">&#39;vv&#39;</span><span class="p">}</span> <span class="o">|</span> <span class="n">option</span>
        <span class="n">lis</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">textidx</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span>   <span class="n">option2</span><span class="p">[</span><span class="s1">&#39;json_mode&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;v&#39;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">extidx</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span>
            <span class="n">lis</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">option2</span><span class="p">[</span><span class="s1">&#39;json_mode&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;v&#39;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">extidx</span> <span class="o">!=</span> <span class="p">[]:</span>
            <span class="n">lis</span><span class="o">=</span><span class="p">[[</span><span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">]]</span>
            <span class="n">textidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">option2</span><span class="p">[</span><span class="s1">&#39;json_mode&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;v&#39;</span> <span class="p">:</span> <span class="n">jval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">else</span>                            <span class="p">:</span> <span class="n">jval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ival</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">option2</span><span class="p">[</span><span class="s1">&#39;json_res_index&#39;</span><span class="p">]</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span> <span class="n">lis</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">jval</span><span class="p">)</span>
            <span class="k">else</span> <span class="p">:</span>
                <span class="n">lig</span><span class="o">=</span><span class="p">[</span><span class="n">jval</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">option2</span><span class="p">[</span><span class="s1">&#39;json_mode&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;v&#39;</span> <span class="p">:</span> <span class="n">lig</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">textidx</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="k">else</span>                            <span class="p">:</span> <span class="n">lig</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="n">lis</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lig</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">option2</span><span class="p">[</span><span class="s1">&#39;json_mode&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;v&#39;</span><span class="p">:</span> <span class="n">js</span> <span class="o">=</span> <span class="n">lis</span>
        <span class="k">else</span> <span class="p">:</span>
            <span class="n">js</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">))</span> <span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxlen</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">:</span> <span class="n">js</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">lis</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="p">:</span> <span class="n">js</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">]</span> <span class="o">=</span> <span class="n">lis</span>
        <span class="k">if</span> <span class="n">option2</span><span class="p">[</span><span class="s1">&#39;json_string&#39;</span><span class="p">]:</span> <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">js</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">js</span>
</pre></div>

        </details>

            <div class="docstring"><p>Return json string with val (extval or ival) and idx (extidx or iidx or none).</p>

<p><em>Parameters (option)</em></p>

<ul>
<li><strong>json_string</strong> : defaut False - if True return string, else return dict</li>
<li><strong>json_res_index</strong> : default True - if True add the index to the value</li>
<li><strong>json_mode</strong> : string (default 'vv')</li>
<li><strong>json_mode[0]</strong> : char - if 'v', value is extval else ival</li>
<li><strong>json_mode[1]</strong> : char - if 'v', index is extidx else iidx</li>
</ul>

<p><em>Returns</em> : string or dict</p>
</div>


                            </div>
                            <div id="Ilist.loc" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.loc">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">loc</span><span class="signature">(self, extind)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">loc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extind</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Return extval corresponding to extind.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extind** : list - value for each extidx</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **object** : extval value &#39;&#39;&#39;</span>
        <span class="n">intind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extidxtoi</span><span class="p">(</span><span class="n">extind</span><span class="p">)</span>
        <span class="k">try</span> <span class="p">:</span>
            <span class="n">ival</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">intind</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">:</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s1">&#39;index not found&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">[</span><span class="n">ival</span><span class="p">]</span>
</pre></div>

        </details>

            <div class="docstring"><p>Return extval corresponding to extind.</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>extind</strong> : list - value for each extidx</li>
</ul>

<p><em>Returns</em></p>

<ul>
<li><strong>object</strong> : extval value</li>
</ul>
</div>


                            </div>
                            <div id="Ilist.reindex" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.reindex">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">reindex</span><span class="signature">(self, index=[])</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">reindex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="p">[]):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Define new sorted index.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **index** : list (default [])- list of the index to reindex.</span>
<span class="sd">        If [] all the index are reindexed.</span>

<span class="sd">        *Returns* : None&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span> <span class="n">index</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">)))</span>
        <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">index</span> <span class="p">:</span>
            <span class="n">oldidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">ind</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span>   <span class="o">=</span> <span class="n">Ilist</span><span class="o">.</span><span class="n">_reindexidx</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">ind</span><span class="p">],</span> <span class="n">oldidx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">ind</span><span class="p">])</span>
</pre></div>

        </details>

            <div class="docstring"><p>Define new sorted index.</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>index</strong> : list (default [])- list of the index to reindex.
If [] all the index are reindexed.</li>
</ul>

<p><em>Returns</em> : None</p>
</div>


                            </div>
                            <div id="Ilist.reorder" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.reorder">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">reorder</span><span class="signature">(self, sort=[], inplace=True)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">reorder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="p">[],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Change the order of extval and iidx with a new order define by sort.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **sort** : list (default [])- new order to apply. If [], no change.</span>
<span class="sd">        - **inplace** : boolean (default True) - if True, new order is apply to self,</span>
<span class="sd">        if False a new Ilist is created.</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **None, if inplace. Ilist if not inplace**&#39;&#39;&#39;</span>
        <span class="n">extval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reorder</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">,</span> <span class="n">sort</span><span class="p">)</span>
        <span class="n">iidx</span> <span class="o">=</span>  <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_reorder</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">sort</span><span class="p">)</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">inplace</span> <span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">extval</span> <span class="o">=</span> <span class="n">extval</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span>   <span class="o">=</span> <span class="n">iidx</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">Ilist</span><span class="p">(</span><span class="n">extval</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">,</span> <span class="n">iidx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Change the order of extval and iidx with a new order define by sort.</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>sort</strong> : list (default [])- new order to apply. If [], no change.</li>
<li><strong>inplace</strong> : boolean (default True) - if True, new order is apply to self,
if False a new Ilist is created.</li>
</ul>

<p><em>Returns</em></p>

<ul>
<li><strong>None, if inplace. Ilist if not inplace</strong></li>
</ul>
</div>


                            </div>
                            <div id="Ilist.sort" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.sort">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">sort</span><span class="signature">(self, sort=[], order=[], reindex=True, inplace=True)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">sort</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="p">[],</span> <span class="n">order</span><span class="o">=</span><span class="p">[],</span> <span class="n">reindex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; sort : calculate a new list order&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">reorder</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sortidx</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">sort</span><span class="p">,</span> <span class="n">reindex</span><span class="p">),</span> <span class="n">inplace</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>sort : calculate a new list order</p>
</div>


                            </div>
                            <div id="Ilist.sortidx" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.sortidx">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">sortidx</span><span class="signature">(self, order=[], sort=[], reindex=True)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">sortidx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">[],</span> <span class="n">sort</span><span class="o">=</span><span class="p">[],</span> <span class="n">reindex</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Define a new order to apply to extval and iidx (reorder method).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **order** : list (default [])- new order of index to apply in sort function.</span>
<span class="sd">        If [], the sort function is applied to extval.</span>
<span class="sd">        - **sort** : list (default [])- new order to apply. If [], the new order</span>
<span class="sd">        is calculated.</span>
<span class="sd">        - **reindex** : boolean (default True) - if True, the index are reindexed.</span>

<span class="sd">        *Returns*</span>

<span class="sd">        - **list** : sort - new order to apply&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">sort</span><span class="p">)</span> <span class="o">==</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">):</span> <span class="k">return</span> <span class="n">sort</span>
        <span class="n">newsetidx</span> <span class="o">=</span> <span class="p">[</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">ind</span><span class="p">])</span> <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">))]</span>
        <span class="n">newiidx</span> <span class="o">=</span> <span class="p">[</span><span class="n">Ilist</span><span class="o">.</span><span class="n">_reindexidx</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">ind</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">ind</span><span class="p">],</span> <span class="n">newsetidx</span><span class="p">[</span><span class="n">ind</span><span class="p">])</span>
                   <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">))]</span>
        <span class="k">if</span> <span class="n">reindex</span> <span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span> <span class="o">=</span> <span class="n">newiidx</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span> <span class="o">=</span> <span class="n">newsetidx</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">order</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">order</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="ow">or</span> <span class="nb">max</span><span class="p">(</span><span class="n">order</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="p">:</span> <span class="n">idx</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">else</span> <span class="p">:</span> <span class="n">idx</span> <span class="o">=</span> <span class="p">[</span><span class="n">newiidx</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">order</span><span class="p">]</span>
        <span class="n">idx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">)</span>
        <span class="n">idx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">))))</span>
        <span class="k">return</span>  <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="n">idx</span><span class="p">)))[</span><span class="nb">len</span><span class="p">(</span><span class="n">order</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
</pre></div>

        </details>

            <div class="docstring"><p>Define a new order to apply to extval and iidx (reorder method).</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>order</strong> : list (default [])- new order of index to apply in sort function.
If [], the sort function is applied to extval.</li>
<li><strong>sort</strong> : list (default [])- new order to apply. If [], the new order
is calculated.</li>
<li><strong>reindex</strong> : boolean (default True) - if True, the index are reindexed.</li>
</ul>

<p><em>Returns</em></p>

<ul>
<li><strong>list</strong> : sort - new order to apply</li>
</ul>
</div>


                            </div>
                            <div id="Ilist.swapindex" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.swapindex">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">swapindex</span><span class="signature">(self, order)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">swapindex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Change the order of the index (iidx, setidx, idxname).</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **order** : list - new order of index to apply.</span>

<span class="sd">        *Returns* : none &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">order</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="p">:</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;order lenght not correct&quot;</span><span class="p">)</span>
        <span class="n">iidx</span>    <span class="o">=</span> <span class="p">[]</span>
        <span class="n">setidx</span>  <span class="o">=</span> <span class="p">[]</span>
        <span class="n">idxname</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">order</span> <span class="p">:</span>
            <span class="n">iidx</span><span class="o">.</span><span class="n">append</span>  <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iidx</span>  <span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">setidx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">idxname</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span>   <span class="o">=</span> <span class="n">iidx</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span> <span class="o">=</span> <span class="n">setidx</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">idxname</span> <span class="o">=</span> <span class="n">idxname</span>
</pre></div>

        </details>

            <div class="docstring"><p>Change the order of the index (iidx, setidx, idxname).</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>order</strong> : list - new order of index to apply.</li>
</ul>

<p><em>Returns</em> : none</p>
</div>


                            </div>
                            <div id="Ilist.to_csv" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.to_csv">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">to_csv</span><span class="signature">(
    self,
    filename=&#39;ilist.csv&#39;,
    func=None,
    ifunc=[],
    valfirst=False,
    order=[],
    header=True,
    **kwargs
)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">to_csv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;ilist.csv&#39;</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ifunc</span><span class="o">=</span><span class="p">[],</span> <span class="n">valfirst</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
               <span class="n">order</span><span class="o">=</span><span class="p">[],</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Generate a csv file with Ilist data (a column for extval and each extidx)</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **filename** : string (default &#39;ilist.csv&#39;) - name of the file to create</span>
<span class="sd">        - **func** : function (default none) - function to apply to extval before writting csv file</span>
<span class="sd">        - **ifunc** : list of function (default []) - function to apply to extidx</span>
<span class="sd">        before writting csv file</span>
<span class="sd">        - **valfirst** : boolean (default False). If False extval is the last columns,</span>
<span class="sd">         else it&#39;s the first</span>
<span class="sd">        - **order** : list of integer (default []) - ordered list of index in columns</span>
<span class="sd">        - **header** : boolean (default True). If True, the first raw is dedicated to names</span>
<span class="sd">        - **kwargs** : parameter for csv.writer or func</span>

<span class="sd">        *Returns* : none &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">order</span> <span class="o">==</span> <span class="p">[]</span> <span class="p">:</span> <span class="n">order</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">))</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">quoting</span><span class="o">=</span><span class="n">csv</span><span class="o">.</span><span class="n">QUOTE_NONNUMERIC</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">header</span><span class="p">:</span>
                <span class="n">row</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">if</span> <span class="n">valfirst</span>      <span class="p">:</span> <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">order</span> <span class="p">:</span> <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">idx</span><span class="p">])</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">valfirst</span>  <span class="p">:</span> <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">valname</span><span class="p">)</span>
                <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
                <span class="n">row</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ifunc</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="p">:</span> <span class="n">funci</span> <span class="o">=</span> <span class="n">func</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="k">else</span> <span class="p">:</span> <span class="n">funci</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">if</span> <span class="n">valfirst</span>      <span class="p">:</span>
                    <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_funclist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>      <span class="n">func</span><span class="p">,</span>  <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">order</span> <span class="p">:</span>
                    <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_funclist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="n">funci</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">valfirst</span>  <span class="p">:</span>
                    <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_funclist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>      <span class="n">func</span><span class="p">,</span>  <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Generate a csv file with Ilist data (a column for extval and each extidx)</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>filename</strong> : string (default 'ilist.csv') - name of the file to create</li>
<li><strong>func</strong> : function (default none) - function to apply to extval before writting csv file</li>
<li><strong>ifunc</strong> : list of function (default []) - function to apply to extidx
before writting csv file</li>
<li><strong>valfirst</strong> : boolean (default False). If False extval is the last columns,
else it's the first</li>
<li><strong>order</strong> : list of integer (default []) - ordered list of index in columns</li>
<li><strong>header</strong> : boolean (default True). If True, the first raw is dedicated to names</li>
<li><strong>kwargs</strong> : parameter for csv.writer or func</li>
</ul>

<p><em>Returns</em> : none</p>
</div>


                            </div>
                            <div id="Ilist.to_numpy" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.to_numpy">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">to_numpy</span><span class="signature">(self, func=None, ind=&#39;axe&#39;, fillvalue=&#39;?&#39;, **kwargs)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">to_numpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ind</span><span class="o">=</span><span class="s1">&#39;axe&#39;</span><span class="p">,</span> <span class="n">fillvalue</span><span class="o">=</span><span class="s1">&#39;?&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Complete the Ilist and generate a Numpy array with the dimension define by ind.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **func** : function (default none) - function to apply to extval before export</span>
<span class="sd">        - **ind** : string (default &#39;axe&#39;) - &#39;axe&#39; -&gt; independant axes,</span>
<span class="sd">        &#39;all&#39; -&gt; all axes, &#39;flat&#39; -&gt; one list</span>
<span class="sd">        - **fillvalue** : object (default &#39;?&#39;) - value used for the new extval</span>
<span class="sd">        - **kwargs** : parameter for func</span>

<span class="sd">        *Returns* : none &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">consistent</span> <span class="p">:</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;unable to generate numpy array with inconsistent Ilist&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">ind</span> <span class="o">==</span> <span class="s1">&#39;flat&#39;</span> <span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tonumpy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">ind</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;axe&#39;</span><span class="p">,</span> <span class="s1">&#39;all&#39;</span><span class="p">]</span>  <span class="p">:</span>
            <span class="k">if</span> <span class="n">ind</span> <span class="o">==</span> <span class="s1">&#39;axe&#39;</span> <span class="p">:</span> <span class="n">axes</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">else</span> <span class="p">:</span> <span class="n">axes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span><span class="p">))</span>
            <span class="n">ilf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="n">axes</span><span class="p">,</span> <span class="n">fillvalue</span><span class="o">=</span><span class="n">fillvalue</span><span class="p">)</span>
            <span class="n">ilf</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tonumpy</span><span class="p">(</span><span class="n">ilf</span><span class="o">.</span><span class="n">extval</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">ilf</span><span class="o">.</span><span class="n">axeslen</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>
</pre></div>

        </details>

            <div class="docstring"><p>Complete the Ilist and generate a Numpy array with the dimension define by ind.</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>func</strong> : function (default none) - function to apply to extval before export</li>
<li><strong>ind</strong> : string (default 'axe') - 'axe' -> independant axes,
'all' -> all axes, 'flat' -> one list</li>
<li><strong>fillvalue</strong> : object (default '?') - value used for the new extval</li>
<li><strong>kwargs</strong> : parameter for func</li>
</ul>

<p><em>Returns</em> : none</p>
</div>


                            </div>
                            <div id="Ilist.to_xarray" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.to_xarray">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">to_xarray</span><span class="signature">(
    self,
    info=False,
    axes=[],
    fillvalue=&#39;?&#39;,
    func=None,
    ifunc=[],
    name=&#39;Ilist&#39;,
    **kwargs
)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">to_xarray</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">info</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="p">[],</span> <span class="n">fillvalue</span><span class="o">=</span><span class="s1">&#39;?&#39;</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ifunc</span><span class="o">=</span><span class="p">[],</span>
                  <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Ilist&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Complete the Ilist and generate a Xarray DataArray with the dimension define by ind.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **info** : boolean (default False) - if True, add _dict attributes to attrs Xarray</span>
<span class="sd">        - **axes** : list (default []) - list of index to be completed. If [],</span>
<span class="sd">        self.axes is used.</span>
<span class="sd">        - **fillvalue** : object (default &#39;?&#39;) - value used for the new extval</span>
<span class="sd">        - **func** : function (default none) - function to apply to extval before export</span>
<span class="sd">        - **ifunc** : list of function (default []) - function to apply to</span>
<span class="sd">        extidx before export</span>
<span class="sd">        - **name** : string (default &#39;Ilist&#39;) - DataArray name</span>
<span class="sd">        - **kwargs** : parameter for func and ifunc</span>

<span class="sd">        *Returns* : none &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">consistent</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;Ilist not consistent&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">axes</span><span class="o">==</span><span class="p">[]</span> <span class="p">:</span> <span class="n">axe</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span>
        <span class="k">else</span><span class="p">:</span> <span class="n">axe</span> <span class="o">=</span> <span class="n">axes</span>
        <span class="n">ilf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="n">axe</span><span class="p">,</span> <span class="n">fillvalue</span><span class="o">=</span><span class="n">fillvalue</span><span class="p">)</span>
        <span class="n">ilf</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="n">axe</span><span class="p">)</span>
        <span class="n">coord</span> <span class="o">=</span> <span class="n">ilf</span><span class="o">.</span><span class="n">_xcoord</span><span class="p">(</span><span class="n">ifunc</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">dims</span> <span class="o">=</span> <span class="p">[</span><span class="n">ilf</span><span class="o">.</span><span class="n">idxname</span><span class="p">[</span><span class="n">ax</span><span class="p">]</span> <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">axe</span><span class="p">]</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">ilf</span><span class="o">.</span><span class="n">_tonumpy</span><span class="p">(</span><span class="n">ilf</span><span class="o">.</span><span class="n">extval</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
                            <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">([</span><span class="n">ilf</span><span class="o">.</span><span class="n">idxlen</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">axe</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">info</span> <span class="p">:</span> <span class="k">return</span> <span class="n">xarray</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">coord</span><span class="p">,</span> <span class="n">dims</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="n">ilf</span><span class="o">.</span><span class="n">_dict</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">xarray</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">coord</span><span class="p">,</span> <span class="n">dims</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Complete the Ilist and generate a Xarray DataArray with the dimension define by ind.</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>info</strong> : boolean (default False) - if True, add _dict attributes to attrs Xarray</li>
<li><strong>axes</strong> : list (default []) - list of index to be completed. If [],
self.axes is used.</li>
<li><strong>fillvalue</strong> : object (default '?') - value used for the new extval</li>
<li><strong>func</strong> : function (default none) - function to apply to extval before export</li>
<li><strong>ifunc</strong> : list of function (default []) - function to apply to
extidx before export</li>
<li><strong>name</strong> : string (default 'Ilist') - DataArray name</li>
<li><strong>kwargs</strong> : parameter for func and ifunc</li>
</ul>

<p><em>Returns</em> : none</p>
</div>


                            </div>
                            <div id="Ilist.updateidx" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.updateidx">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">updateidx</span><span class="signature">(self, indval, extind, unique=False)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">updateidx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indval</span><span class="p">,</span> <span class="n">extind</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Update the index of an extval.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **indval** : integer - row of the value in extval</span>
<span class="sd">        - **extind** : list - new value for each extidx</span>
<span class="sd">        - **unique** :  boolean (default False) - If True and extind present in textidx,</span>
<span class="sd">        update is refuse.</span>

<span class="sd">        *Returns* : none&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">extind</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lenidx</span> <span class="ow">or</span> <span class="n">indval</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">indval</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="p">:</span>
            <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;out of bounds&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isextIndex</span><span class="p">(</span><span class="n">extind</span><span class="p">)</span> <span class="ow">and</span> <span class="n">unique</span> <span class="p">:</span> <span class="k">return</span>
        <span class="n">tiidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiidx</span>
        <span class="n">tiidx</span><span class="p">[</span><span class="n">indval</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_updateset</span><span class="p">(</span><span class="n">extind</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transpose</span><span class="p">(</span><span class="n">tiidx</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Update the index of an extval.</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>indval</strong> : integer - row of the value in extval</li>
<li><strong>extind</strong> : list - new value for each extidx</li>
<li><strong>unique</strong> :  boolean (default False) - If True and extind present in textidx,
update is refuse.</li>
</ul>

<p><em>Returns</em> : none</p>
</div>


                            </div>
                            <div id="Ilist.updatelist" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.updatelist">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">updatelist</span><span class="signature">(self, extlist, idx=None)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">updatelist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extlist</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Update extval or extidx.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **extlist** : list of list - list of values to update</span>
<span class="sd">        - **idx** : list of integer - list of index to update (idx=-1 for extval)</span>

<span class="sd">        *Returns* : none&#39;&#39;&#39;</span>
        <span class="n">extlis</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checkidxlist</span><span class="p">(</span><span class="n">extlist</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">extlis</span> <span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ind</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="p">:</span> <span class="k">raise</span> <span class="n">IlistError</span><span class="p">(</span><span class="s2">&quot;out of bounds&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">extl</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">extlis</span><span class="p">)</span> <span class="p">:</span>
            <span class="k">if</span> <span class="n">ind</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="p">:</span>  <span class="bp">self</span><span class="o">.</span><span class="n">extval</span>      <span class="o">=</span> <span class="n">extl</span>
            <span class="k">else</span> <span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_toset</span><span class="p">(</span><span class="n">extl</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">iidx</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_toint</span><span class="p">(</span><span class="n">extl</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">setidx</span><span class="p">[</span><span class="n">ind</span><span class="p">])</span>
</pre></div>

        </details>

            <div class="docstring"><p>Update extval or extidx.</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>extlist</strong> : list of list - list of values to update</li>
<li><strong>idx</strong> : list of integer - list of index to update (idx=-1 for extval)</li>
</ul>

<p><em>Returns</em> : none</p>
</div>


                            </div>
                            <div id="Ilist.vlist" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Ilist.vlist">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">vlist</span><span class="signature">(self, *args, func=None, idx=None, **kwargs)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">vlist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Apply a function to extval or extidx and return the result.</span>

<span class="sd">        *Parameters*</span>

<span class="sd">        - **func** : function (default none) - function to apply to extval or extidx</span>
<span class="sd">        - **args, kwargs** : parameters for the function</span>
<span class="sd">        - **idx** : integer - index to update (idx=-1 for extval)</span>

<span class="sd">        *Returns* : list of func result&#39;&#39;&#39;</span>
        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checkidxlist</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">idx</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="p">:</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_funclist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extval</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_funclist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extidx</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Apply a function to extval or extidx and return the result.</p>

<p><em>Parameters</em></p>

<ul>
<li><strong>func</strong> : function (default none) - function to apply to extval or extidx</li>
<li><strong>args, kwargs</strong> : parameters for the function</li>
<li><strong>idx</strong> : integer - index to update (idx=-1 for extval)</li>
</ul>

<p><em>Returns</em> : list of func result</p>
</div>


                            </div>
                </section>
                <section id="IlistError">
                                <div class="attr class">
        <a class="headerlink" href="#IlistError">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">IlistError</span><wbr>(<span class="base">builtins.Exception</span>):
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">IlistError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Ilist Exception&#39;&#39;&#39;</span>
    <span class="c1">#pass</span>
</pre></div>

        </details>

            <div class="docstring"><p>Ilist Exception</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>builtins.Exception</dt>
                                <dd id="IlistError.__init__" class="function">Exception</dd>

            </div>
            <div><dt>builtins.BaseException</dt>
                                <dd id="IlistError.with_traceback" class="function">with_traceback</dd>
                <dd id="IlistError.args" class="variable">args</dd>

            </div>
                                </dl>
                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.type) {
                    case "function":
                        heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span><span class="signature">(${doc.parameters.join(", ")})</span>`;
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.type}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>